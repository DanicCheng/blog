window.__require=function e(t,n,o){function a(i,l){if(!n[i]){if(!t[i]){var s=i.split("/");if(s=s[s.length-1],!t[s]){var c="function"==typeof __require&&__require;if(!l&&c)return c(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+i+"'")}i=s}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(e){return a(t[i][1][e]||e)},u,u.exports,e,t,n,o)}return n[i].exports}for(var r="function"==typeof __require&&__require,i=0;i<o.length;i++)a(o[i]);return a}({AgoraApi:[function(e,t,n){"use strict";cc._RF.push(t,"7639fEoIkdOxLRMd2ttaShO","AgoraApi"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./agora/AgoraWeb"),a=e("./agora/AgoraWechat"),r=e("./agora/AgoraQQ"),i=e("../global/BaseEnum"),l=e("../global/SS"),s=function(){function e(){this._agora=null}return Object.defineProperty(e.prototype,"Agora",{get:function(){if(!this._agora)switch(l.SS.CurAgoraType){case i.EnumAgoraType.WEB:this._agora=new o.AgoraWeb;break;case i.EnumAgoraType.QQ:this._agora=new r.AgoraQQ;break;case i.EnumAgoraType.WECHAT:this._agora=new a.AgoraWechat}return this._agora},enumerable:!0,configurable:!0}),e}();n._AgoraApi=s,n.AgoraApi=new s,cc._RF.pop()},{"../global/BaseEnum":"BaseEnum","../global/SS":"SS","./agora/AgoraQQ":"AgoraQQ","./agora/AgoraWeb":"AgoraWeb","./agora/AgoraWechat":"AgoraWechat"}],AgoraBase:[function(e,t,n){"use strict";var o;cc._RF.push(t,"d5ec8bd9BBMPIU3jq83imrg","AgoraBase"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.AUDIENCE="audience",e.HOST="host"}(o=n.EnumAgoraRole||(n.EnumAgoraRole={}));var a=function(){return function(e,t){this.Message="",this.Level=0,this.Message=e,this.Level=t}}();n.AgoraErrorMessage=a,n.AGORA_ERROR={1001:new a("\u52a0\u8f7d\u5a92\u4f53\u5f15\u64ce\u5931\u8d25",2),1002:new a("\u542f\u52a8\u5a92\u4f53\u5f15\u64ce\u5f00\u59cb\u901a\u8bdd\u5931\u8d25",2),1003:new a("\u542f\u52a8\u6444\u50cf\u5934\u5931\u8d25",2),1004:new a("\u542f\u52a8\u89c6\u9891\u6e32\u67d3\u6a21\u5757\u5931\u8d25",2),1005:new a("\u97f3\u9891\u8bbe\u5907\u51fa\u73b0\u4e00\u822c\u6027\u9519\u8bef",2),1006:new a("\u97f3\u9891\u8bbe\u5907\uff0c\u4f7f\u7528java\u8d44\u6e90\u51fa\u73b0\u9519\u8bef",2),1007:new a("\u97f3\u9891\u8bbe\u5907\uff0c\u8bbe\u7f6e\u7684\u91c7\u6837\u9891\u7387\u51fa\u9519",1),1008:new a("\u97f3\u9891\u8bbe\u5907\uff0c\u521d\u59cb\u5316\u64ad\u653e\u8bbe\u5907\u9519\u8bef",1),1009:new a("\u8bf7\u5f00\u542f\u5f55\u97f3\u6743\u9650\uff0c\u542f\u52a8\u64ad\u653e\u8bbe\u5907\u9519\u8bef",1),1010:new a("\u97f3\u9891\u8bbe\u5907\uff0c\u505c\u6b62\u64ad\u653e\u8bbe\u5907\u51fa\u73b0\u9519\u8bef",0),1011:new a("\u97f3\u9891\u8bbe\u5907\uff0c\u521d\u59cb\u5316\u5f55\u97f3\u8bbe\u5907\u9519\u8bef",1),1012:new a("\u8bf7\u5f00\u542f\u5f55\u97f3\u6743\u9650\uff0c\u542f\u52a8\u5f55\u97f3\u8bbe\u5907\u9519\u8bef",1),1027:new a("\u8bf7\u5f00\u542f\u5f55\u97f3\u6743\u9650\uff0c\u542f\u52a8\u5f55\u97f3\u8bbe\u5907\u9519\u8bef",1),1013:new a("\u97f3\u9891\u8bbe\u5907\uff0c\u505c\u6b62\u5f55\u97f3\u8bbe\u5907\u9519\u8bef",0),1015:new a("\u97f3\u9891\u8bbe\u5907\uff0c\u8fd0\u884c\u65f6\u51fa\u73b0\u9519\u8bef",2),1017:new a("\u97f3\u9891\u8bbe\u5907\uff0c\u8fd0\u884c\u65f6\u5f55\u97f3\u9519\u8bef",2),1018:new a("\u97f3\u9891\u8bbe\u5907\uff0c\u5f55\u97f3\u5931\u8d25",2),1022:new a("\u97f3\u9891\u8bbe\u5907\uff0c\u521d\u59cb\u5316loopback\u8bbe\u5907\u9519\u8bef",2),1023:new a("\u97f3\u9891\u8bbe\u5907\uff0c\u542f\u52a8loopback\u8bbe\u5907\u9519\u8bef",2),1108:new a("\u97f3\u9891\u8bbe\u5907\uff0c\u521d\u59cb\u5316\u64ad\u653e\u8bbe\u5907\u9519\u8bef",1),1501:new a("\u89c6\u9891\u8bbe\u5907\uff0c\u6444\u50cf\u5934\u6ca1\u6709\u6743\u9650",2)};var r=function(){function e(){this._uid="",this._token="",this._rid="",this._uids=[],this._role=o.AUDIENCE,this._muteMicrophone=!1,this._muteLoudspeaker=!1}return Object.defineProperty(e.prototype,"Uid",{get:function(){return this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Token",{get:function(){return this._token},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rid",{get:function(){return this._rid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Uids",{get:function(){return this._uids},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Role",{get:function(){return this._role},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsMuteMicrophone",{get:function(){return this._muteMicrophone},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsMuteLoudspeaker",{get:function(){return this._muteLoudspeaker},enumerable:!0,configurable:!0}),e.prototype.Dispose=function(){this._uid="",this._token="",this._rid="",this._uids=[],this._role=o.AUDIENCE,this._muteMicrophone=!1,this._muteLoudspeaker=!1},e}();n.AgoraBase=r,cc._RF.pop()},{}],AgoraQQ:[function(e,t,n){"use strict";cc._RF.push(t,"f269b6MGWJFAYzhemDV15oS","AgoraQQ");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,r){function i(e){try{s(o.next(e))}catch(e){r(e)}}function l(e){try{s(o.throw(e))}catch(e){r(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,l)}s((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(e){return function(t){return s([e,t])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./AgoraBase"),l=e("../../util/CryptoJS"),s=e("../../global/SS"),c=function(){function e(){}return e.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,e)},e}(),u=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n._appId=t.QQMINIGAME_APPID,n._sessionKey="",n._joined=!1,n}return o(t,e),t.prototype.Init=function(e){return a(this,void 0,Promise,function(){return r(this,function(n){return this._appId=e.appId||t.QQMINIGAME_APPID,this._sessionKey=e.sessionKey||"",[2,Promise.resolve()]})})},t.prototype.JoinChannel=function(e){return a(this,void 0,Promise,function(){var t=this;return r(this,function(n){return this._joined?[2]:(e&&(this._uid=e.uid,this._rid=e.rid||"",this._token=e.token||"",this._role=e.role||i.EnumAgoraRole.AUDIENCE,this._muteMicrophone=!!e.muteMicrophone,this._muteLoudspeaker=!!e.muteLoudspeaker),[2,new Promise(function(e,n){var o={nonceStr:t.createNonceStr(),timeStamp:parseInt(""+(new Date).getTime()/1e3),groupId:t._rid,muteConfig:{muteMicrophone:t._muteMicrophone,muteEarphone:t._muteLoudspeaker},success:function(t){var n=t.openIdList;this._uids=n,this._joined=!0,c.log("[Agora] join channel success","rid: "+this._rid,"uid: "+this._uid,"all: "+n.join(" ")),s.qq.onVoIPChatMembersChanged(this.onVoIPChatMembersChanged.bind(this)),s.qq.onVoIPChatSpeakersChanged(this.onVoIPChatSpeakersChanged.bind(this)),s.qq.onVoIPChatInterrupted(this.onVoIPChatInterrupted.bind(this)),e()}.bind(t),fail:function(e){c.log("[Agora] join channel fail","rid: "+this._rid,"uid: "+this._uid,"errCode: "+e.errCode,"errMsg: "+e.errMsg),-1===e.errCode&&(this._joined=!0),n(e.errMsg)}.bind(t),complete:function(e){c.log("[Agora] join channel complete","rid: "+this._rid,"uid: "+this._uid)}.bind(t)};o.signature=t.signature(t._appId,o.groupId,o.nonceStr,o.timeStamp),s.qq.joinVoIPChat(o)})])})})},t.prototype.LeaveChannel=function(){return a(this,void 0,Promise,function(){var e=this;return r(this,function(t){return[2,new Promise(function(t,n){var o={success:function(){c.log("[Agora] leave channel success","rid: "+this._rid,"uid: "+this._uid),this._joined=!1,t()}.bind(e),fail:function(){c.log("[Agora] leave channel fail","rid: "+this._rid,"uid: "+this._uid),n()}.bind(e),complete:function(){c.log("[Agora] join channel complete","rid: "+this._rid,"uid: "+this._uid)}.bind(e)};s.qq.exitVoIPChat(o)})]})})},t.prototype.BecomeAudience=function(){return a(this,void 0,Promise,function(){var e=this;return r(this,function(t){return this._role=i.EnumAgoraRole.AUDIENCE,this._muteMicrophone?(c.log("[Agora] become audience success","rid: "+this._rid,"uid: "+this._uid),[2,Promise.resolve()]):[2,new Promise(function(t,n){var o={muteConfig:{muteMicrophone:!0,muteEarphone:e._muteLoudspeaker},success:function(){c.log("[Agora] become audience success","rid: "+this._rid,"uid: "+this._uid),this._muteMicrophone=!0,t()}.bind(e),fail:function(){c.log("[Agora] become audience fail","rid: "+this._rid,"uid: "+this._uid),n()}.bind(e),complete:function(){c.log("[Agora] become audience complete","rid: "+this._rid,"uid: "+this._uid)}.bind(e)};s.qq.updateVoIPChatMuteConfig(o)})]})})},t.prototype.BecomeHost=function(){return a(this,void 0,Promise,function(){return r(this,function(e){return this._role=i.EnumAgoraRole.HOST,c.log("[Agora] become host success","rid: "+this._rid,"uid: "+this._uid),[2,Promise.resolve()]})})},t.prototype.MuteMicrophone=function(e){return a(this,void 0,Promise,function(){var t=this;return r(this,function(n){return this._role===i.EnumAgoraRole.AUDIENCE&&(e=!0),[2,new Promise(function(n,o){var a={muteConfig:{muteMicrophone:e,muteEarphone:t._muteLoudspeaker},success:function(){c.log("[Agora] "+(e?"":"un")+"mute microphone success","rid: "+this._rid,"uid: "+this._uid),this._muteMicrophone=e,n()}.bind(t),fail:function(){c.log("[Agora] "+(e?"":"un")+"mute microphone fail","rid: "+this._rid,"uid: "+this._uid),o()}.bind(t),complete:function(){c.log("[Agora] "+(e?"":"un")+"mute microphone complete","rid: "+this._rid,"uid: "+this._uid)}.bind(t)};s.qq.updateVoIPChatMuteConfig(a)})]})})},t.prototype.MuteLoudSpeaker=function(e){return a(this,void 0,Promise,function(){var t=this;return r(this,function(n){return[2,new Promise(function(n,o){var a={muteConfig:{muteMicrophone:t._muteMicrophone,muteEarphone:e},success:function(){c.log("[Agora] "+(e?"":"un")+"mute loadSpeaker success","rid: "+this._rid,"uid: "+this._uid),this._muteLoudspeaker=e,n()}.bind(t),fail:function(){c.log("[Agora] "+(e?"":"un")+"mute loadSpeaker fail","rid: "+this._rid,"uid: "+this._uid),o()}.bind(t),complete:function(){c.log("[Agora] "+(e?"":"un")+"mute loadSpeaker complete","rid: "+this._rid,"uid: "+this._uid)}.bind(t)};s.qq.updateVoIPChatMuteConfig(a)})]})})},t.prototype.Dispose=function(){return a(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,this.LeaveChannel()];case 1:return t.sent(),this._joined=!1,e.prototype.Dispose.call(this),[2]}})})},t.prototype.onVoIPChatMembersChanged=function(e){var t=e.openIdList;this._uids=[].concat(t)},t.prototype.onVoIPChatSpeakersChanged=function(e){},t.prototype.onVoIPChatInterrupted=function(e){},t.prototype.signature=function(e,t,n,o){var a=[e,t,n,o].sort().join(""),r=l.HmacSHA256(a,this._sessionKey);return l.enc.Hex.stringify(r)},t.prototype.createNonceStr=function(){for(var e="1234567890abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ",t="",n=0;n<16;n++)t+=e[Math.trunc(Math.random()*e.length)];return t},t.QQMINIGAME_APPID="1110336983",t}(i.AgoraBase);n.AgoraQQ=u,cc._RF.pop()},{"../../global/SS":"SS","../../util/CryptoJS":"CryptoJS","./AgoraBase":"AgoraBase"}],AgoraWeb:[function(e,t,n){"use strict";cc._RF.push(t,"140e0x318JLCr8zwZocYPP4","AgoraWeb");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,r){function i(e){try{s(o.next(e))}catch(e){r(e)}}function l(e){try{s(o.throw(e))}catch(e){r(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,l)}s((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(e){return function(t){return s([e,t])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./AgoraBase"),l=e("../../global/SS"),s=function(){function e(){}return e.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,e)},e}(),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._client=null,t._localStream=null,t._remoteStreams=[],t._inited=!1,t._joined=!1,t}return o(t,e),t.prototype.Init=function(e){return void 0===e&&(e={}),a(this,void 0,void 0,function(){var n,o=this;return r(this,function(a){return this._inited?[2]:(n=e.appId||t.AGORA_APPID,this._client=l.AgoraRTC.createClient({mode:t.AGORA_MODE,codec:t.AGORA_CODEC}),this.subscribeEvents(),this._client.setClientRole(this._role),[2,new Promise(function(e,t){o._client.init(n,function(){this._inited=!0,e()}.bind(o),function(e){s.log("[Agora] initAgora :: client join channel failed","rid: "+this._rid,"uid: "+this._uid,e),this._inited=!1,t(e)}.bind(o))})])})})},t.prototype.JoinChannel=function(e){return void 0===e&&(e={}),a(this,void 0,void 0,function(){var t=this;return r(this,function(n){return this._joined?[2]:(e&&(this._uid=e.uid,this._rid=e.rid||"",this._token=e.token||"",this._role=e.role||i.EnumAgoraRole.AUDIENCE,this._muteMicrophone=!!e.muteMicrophone,this._muteLoudspeaker=!!e.muteLoudspeaker),[2,new Promise(function(e,n){var o=function(t){s.log("[Agora] initAgora :: client join channel success","rid: "+this._rid,"uid: "+t),this._joined=!0,this._uid=t,this._localStream=l.AgoraRTC.createStream({streamID:this._uid,audio:!0,video:!1,screen:!1}),this._localStream.init(function(){s.log("[Agora] init local stream success"),this.playStream(this._localStream),this._role===i.EnumAgoraRole.HOST&&this.becomeHost()}.bind(this),function(e){s.log("[Agora] init local stream failed ",JSON.stringify(e))}.bind(this)),e()}.bind(t),a=function(e){s.log("[Agora] initAgora :: client join channel failed","rid: "+this._rid,"uid: "+this._uid,e),this._joined=!1,n(e)}.bind(t);t._client.join(t._token,t._rid,t._uid,o,a)})])})})},t.prototype.playStream=function(e){var t=e.getId();if(!document.getElementById("agoraweb_stream_"+t)){var n=document.createElement("div");n.id="agoraweb_stream_"+t,n.className="video-placeholder",n.style.width="0px",n.style.height="0px",document.body.appendChild(n)}e.play("agoraweb_stream_"+t,{fit:"contain",muted:this._muteLoudspeaker})},t.prototype.stopStream=function(e){var t=e.getId();e.stop("agoraweb_stream_"+t);var n=document.getElementById("agoraweb_stream_"+t);n&&document.body.removeChild(n)},t.prototype.subscribeEvents=function(){this._client&&(this._client.on("stream-added",this.onEventSteamAdded.bind(this)),this._client.on("stream-subscribed",this.onEventStreamSubscribed.bind(this)),this._client.on("stream-removed",this.onEventSteamRemoved.bind(this)),this._client.on("client-role-changed",this.onEventClientRoleChange.bind(this)))},t.prototype.onEventSteamAdded=function(e){var t=e.stream,n=t.getId();s.log("[Agora] stream-added: ",n),n!==this._localStream.getId()&&this._client.subscribe(t,{video:!1,audio:!0},function(e){s.log("[Agora] subscribe failed reason: ",e)})},t.prototype.onEventStreamSubscribed=function(e){var t=e.stream,n=t.getId();s.log("[Agora] new stream subscribed ",n),this._remoteStreams.some(function(e){return e.getId()==n})||(this._remoteStreams.push(t),this.playStream(t))},t.prototype.onEventSteamRemoved=function(e){s.log("[Agora] stream-removed: ",e.stream.getId());var t=e.stream,n=t.getId();this.stopStream(t),this._remoteStreams=this._remoteStreams.filter(function(e){return e.getId()!=n})},t.prototype.onEventClientRoleChange=function(e){s.log("[Agora] client-role-changed: ",e.role),this._role=e.role},t.prototype.unsubscribeEvents=function(){this._client&&(this._client.off("stream-added",this.onEventSteamAdded.bind(this)),this._client.off("stream-subscribed",this.onEventStreamSubscribed.bind(this)),this._client.off("stream-removed",this.onEventSteamRemoved.bind(this)),this._client.off("client-role-changed",this.onEventClientRoleChange.bind(this)))},t.prototype.BecomeHost=function(){return a(this,void 0,void 0,function(){var e=this;return r(this,function(t){return this._localStream?[2,new Promise(function(t,n){var o=function(){s.log("[Agora] publish success"),this._client.off("stream-published",o),t()}.bind(e);e._client.on("stream-published",o),e._client.publish(e._localStream,function(e){s.log("[Agora] publish failed ",e),this._client.off("stream-published",o),n(e)}.bind(e))})]:[2]})})},t.prototype.BecomeAudience=function(){return a(this,void 0,void 0,function(){return r(this,function(e){return this._localStream?(this._client.unpublish(this._localStream,function(e){s.log("[Agora] publish failed ",e)}),[2]):[2]})})},t.prototype.MuteMicrophone=function(e){this._localStream&&(e?(this._localStream.muteAudio(),this._muteMicrophone=!0):(this._localStream.unmuteAudio(),this._muteMicrophone=!1))},t.prototype.MuteLoudSpeaker=function(e){if(e){for(var t=0;t<this._remoteStreams.length;t++)this._remoteStreams[t].muteAudio();this._muteLoudspeaker=!0}else{for(t=0;t<this._remoteStreams.length;t++)this._remoteStreams[t].unmuteAudio();this._muteLoudspeaker=!0}},t.prototype.LeaveChannel=function(){return a(this,void 0,void 0,function(){var e=this;return r(this,function(t){return s.log("[Agora] leave"),[2,new Promise(function(t,n){e._client&&e._client.leave(function(){s.log("[Agora] leaveChannel successful"),t()},function(e){s.log("[Agora] leaveChannel failed: ",e),n(e)})})]})})},t.prototype.Dispose=function(){return a(this,void 0,void 0,function(){var t;return r(this,function(n){switch(n.label){case 0:return[4,this.LeaveChannel()];case 1:for(n.sent(),this.unsubscribeEvents(),this._localStream&&this._localStream.close(),this._localStream=null,t=0;t<this._remoteStreams.length;t++)this._remoteStreams[t].close();return this._remoteStreams=[],this._client=null,this._inited=!1,this._joined=!1,e.prototype.Dispose.call(this),[2]}})})},t.AGORA_APPID="1d274b401d8f4b14b1f1ec7fcf2e3d1d",t.AGORA_MODE="live",t.AGORA_CODEC="h264",t}(i.AgoraBase);n.AgoraWeb=c,cc._RF.pop()},{"../../global/SS":"SS","./AgoraBase":"AgoraBase"}],AgoraWechat:[function(e,t,n){"use strict";cc._RF.push(t,"95431tID2pPRblbPnDn6LG0","AgoraWechat");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,r){function i(e){try{s(o.next(e))}catch(e){r(e)}}function l(e){try{s(o.throw(e))}catch(e){r(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,l)}s((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(e){return function(t){return s([e,t])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.BecomeAudience=function(){return a(this,void 0,Promise,function(){return r(this,function(e){return[2,void 0]})})},t.prototype.BecomeHost=function(){return a(this,void 0,Promise,function(){return r(this,function(e){return[2,void 0]})})},t.prototype.Init=function(e){return a(this,void 0,Promise,function(){return r(this,function(e){return[2,void 0]})})},t.prototype.JoinChannel=function(e){return a(this,void 0,Promise,function(){return r(this,function(e){return[2,void 0]})})},t.prototype.LeaveChannel=function(){return a(this,void 0,Promise,function(){return r(this,function(e){return[2,void 0]})})},t.prototype.MuteLoudSpeaker=function(e){return a(this,void 0,Promise,function(){return r(this,function(e){return[2,void 0]})})},t.prototype.MuteMicrophone=function(e){return a(this,void 0,Promise,function(){return r(this,function(e){return[2,void 0]})})},t}(e("./AgoraBase").AgoraBase);n.AgoraWechat=i,cc._RF.pop()},{"./AgoraBase":"AgoraBase"}],AngleControl:[function(e,t,n){"use strict";cc._RF.push(t,"d7076Au6qhOVrnSsTS8hX3G","AngleControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../util/InfiniteScrollView"),i=e("./BaseControl"),l=e("../../../base/assets/script/global/SS"),s=e("../../common/EnumCenter"),c=cc._decorator,u=c.ccclass,p=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._mask=null,t._item=null,t._infiniteScrollView=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.Init=function(){this.initRoot(),this.initAngleScrollView(),this.initEvent(),this.InitComplete()},t.prototype.Reset=function(){},t.prototype.initRoot=function(){this._item=cc.find("Value",this.node),this._infiniteScrollView=cc.find("ScrollView",this.node).addComponent(r.default),this._mask=cc.find("Mask",this._infiniteScrollView.node)},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initAngleScrollView=function(){this._infiniteScrollView.Init(this._item,this._mask,this.onScrollDelta.bind(this),this.onScrollStart.bind(this),this.onScrollEnd.bind(this))},t.prototype.onScrollStart=function(){l.SS.EventCenter.emit(s.EnumGameMessageType.AngleChangeStart)},t.prototype.onScrollDelta=function(e){l.SS.EventCenter.emit(s.EnumGameMessageType.AngleChange,.056*e)},t.prototype.onScrollEnd=function(){l.SS.EventCenter.emit(s.EnumGameMessageType.AngleChangeEnd)},t=a([u],t)}(i.default));n.default=p,cc._RF.pop()},{"../../../base/assets/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter","../../util/InfiniteScrollView":"InfiniteScrollView","./BaseControl":"BaseControl"}],ArrayUtil:[function(e,t,n){"use strict";cc._RF.push(t,"844fcxvLyNMXqcSZexgJ2k7","ArrayUtil"),Object.defineProperty(n,"__esModule",{value:!0}),n.IsArrayContain=function(e,t){return e.indexOf(t)>=0},n.ArrayRemove=function(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)},n.ArrayCopy=function(e,t){for(var n=0;n<e.length;n++){var o=e[n];t.push(o)}},cc._RF.pop()},{}],AudioManager:[function(e,t,n){"use strict";cc._RF.push(t,"51319nm2vdKyaqNh/Gx6BOr","AudioManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../util/StringUtil"),a=e("../res/ResManager"),r=e("../clog/Clog"),i=e("../storage/LocalStorage"),l=function(){function e(){}return e.prototype.Init=function(){this.EffectSoundList=new Map,cc.audioEngine.setMusicVolume(i.LocalStorage.MusicVolume),cc.audioEngine.setEffectsVolume(i.LocalStorage.SoundVolume)},e.prototype.PlayMusic=function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=null),o.IsNullOrEmpty(e)||a.ResManager.LoadRes(e,cc.AudioClip,function(o,a){if(o)r.default.Error("Load Music error! Music name= "+e+",err:"+JSON.stringify(o));else{var i=cc.audioEngine.playMusic(a,t);cc.audioEngine.setFinishCallback(i,function(){n&&n()})}})},e.prototype.StopMusic=function(){cc.audioEngine.stopMusic()},e.prototype.PlaySound=function(e){if(!(o.IsNullOrEmpty(e)||i.LocalStorage.SoundVolume<=.01)){var t=this.EffectSoundList.get(e);t||(t=new Array,this.EffectSoundList.set(e,t));var n=(new Date).getTime();if(!(t.length>0&&n-t[0]<150)){for(;t.length>0&&n-t[0]>500;)t.shift();t.length>7||(t.push(n),a.ResManager.LoadRes(e,cc.AudioClip,function(t,n){t?r.default.Error("Load Music error! Music name= "+e+",err:"+JSON.stringify(t)):cc.audioEngine.playEffect(n,!1)}))}}},e.prototype.StopSound=function(e){e<0||cc.audioEngine.stopEffect(e)},e.prototype.StopAllSounds=function(){cc.audioEngine.stopAllEffects()},e.prototype.SetSoundVolume=function(e){cc.audioEngine.setEffectsVolume(e)},e.prototype.SetMusicVolume=function(e){cc.audioEngine.setMusicVolume(e)},e}();n.AudioManager=new l,cc._RF.pop()},{"../../util/StringUtil":"StringUtil","../clog/Clog":"Clog","../res/ResManager":"ResManager","../storage/LocalStorage":"LocalStorage"}],BallControl:[function(e,t,n){"use strict";cc._RF.push(t,"e6de09fRXNG3LH/TQdU/zlT","BallControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../base/assets/script/frame/clog/Clog"),r=e("../../../base/assets/script/util/ArrayUtil"),i=e("../../common/EnumCenter"),l=e("../../Constance"),s=e("../../manager/GameDataManager"),c=e("../entity/Ball"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ball=null,t._ballWhite=null,t._ballArray=[],t.initPosCenter=cc.v2(0,0),t.initPosGap=0,t}return o(t,e),t.prototype.Init=function(){this.initRoot(),this.initEvent(),this.createBall(),this.InitComplete()},t.prototype.Reset=function(){this.resetAllBalls()},t.prototype.SetWhiteBallLocalPos=function(e){this._ballWhite.Reset(),this._ballWhite.node.setPosition(e)},t.prototype.GetWhiteBallPos=function(){return this._ballWhite.node.convertToWorldSpaceAR(cc.Vec3.ZERO)},t.prototype.GetWhiteBallLocalPos=function(){return this._ballWhite.node.getPosition()},t.prototype.GetWhiteBall=function(){return this._ballWhite},t.prototype.EnableWhiteBall=function(e){this._ballWhite.node.active=e},t.prototype.HitWhiteBall=function(e,t){this._ballWhite.Hit(e,t)},t.prototype.IsAllBallMoveEnd=function(){for(var e=this._ballWhite.GetBallState()===i.EnumBallState.MoveEnd||this._ballWhite.GetBallState()===i.EnumBallState.Idle||this._ballWhite.GetBallState()===i.EnumBallState.InHole,t=0;t<this._ballArray.length;t++)e=e&&(this._ballArray[t].GetBallState()===i.EnumBallState.MoveEnd||this._ballArray[t].GetBallState()===i.EnumBallState.Idle||this._ballArray[t].GetBallState()===i.EnumBallState.InHole);return e},t.prototype.GetAllBallState=function(){for(var e=[],t=0;t<this._ballArray.length;t++)e.push(this._ballArray[t].GetBallState());return e},t.prototype.GetAllBall=function(){return this._ballArray},t.prototype.GetAllActiveBall=function(){for(var e=[],t=0;t<this._ballArray.length;t++)this._ballArray[t].GetBallState()!=i.EnumBallState.InHole&&e.push(this._ballArray[t]);return e},t.prototype.GetAllActiveBallPos=function(){for(var e=[],t=0;t<this._ballArray.length;t++)this._ballArray[t].GetBallState()!=i.EnumBallState.InHole&&e.push(this._ballArray[t].node.getPosition());return e},t.prototype.SaveLastRoundValue=function(){this._ballWhite.SaveLastRoundValue(),this._ballArray.forEach(function(e){e.SaveLastRoundValue()})},t.prototype.ResetToLastRoundValue=function(){this._ballWhite.ResetToLastRoundValue(),this._ballArray.forEach(function(e){e.ResetToLastRoundValue()})},t.prototype.initRoot=function(){this._ball=cc.find("Ball",this.node.parent)},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.createBall=function(){for(var e=0;e<l.Constance.BALL_COUNT;e++)if(0==e){var t=cc.instantiate(this._ball);t.active=!0,this.node.addChild(t),this._ballWhite=t.addComponent(c.default),this._ballWhite.Init(i.EnumBallType.White),this._ballWhite.BallNum=0}else{var n=cc.instantiate(this._ball).addComponent(c.default);n.node.active=!0,n.Init(i.EnumBallType.Other),this.node.addChild(n.node),n.BallNum=e,this._ballArray.push(n)}this.initPosCenter=cc.v2(0,.156*s.GameDataManager.TableSize.y),this.initPosGap=30,this.resetAllBalls(),a.default.Trace(a.ClogKey.UI,"this._ballWhite pos = "+this._ballWhite.node.position)},t.prototype.resetAllBalls=function(){var e=2*Math.random()-1;this._ballWhite.SetPosition(new cc.Vec2(e,.25*s.GameDataManager.TableSize.y-s.GameDataManager.TableSize.y/2)),this._ballWhite.Reset();for(var t=0,n=0,o=[2,3,4,5,6,7],a=[9,10,11,12,13,14,15],i=(o.concat(a),0);i<l.Constance.BALL_COUNT-1;i++){n<=0&&(n=++t);var c=this.initPosCenter.add(cc.v2(-(t-1)/2+(n-1),(t-1)*Math.sin(Math.PI/3)).mulSelf(this.initPosGap)),u=this._ballArray[i];u.SetPosition(c),u.Reset(),n--,4===i?u.BallNum=8:0===i?u.BallNum=1:i%2==0&&o.length>0?(u.BallNum=o[Math.floor(10*Math.random())%o.length],r.ArrayRemove(o,u.BallNum)):(u.BallNum=a[Math.floor(10*Math.random())%a.length],r.ArrayRemove(a,u.BallNum))}},t.prototype.onDestroy=function(){this.removeEvent()},t}(e("./BaseControl").default);n.default=u,cc._RF.pop()},{"../../../base/assets/script/frame/clog/Clog":"Clog","../../../base/assets/script/util/ArrayUtil":"ArrayUtil","../../Constance":"Constance","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","../entity/Ball":"Ball","./BaseControl":"BaseControl"}],BallTexture:[function(e,t,n){"use strict";cc._RF.push(t,"b8131gJtSRH7IZI/s4hcihA","BallTexture");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,l=r.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ballTextures=[],t._ballSphere=null,t}return o(t,e),t.prototype.onLoad=function(){this.initRoot()},t.prototype.initRoot=function(){this._ballSphere=cc.find("Sphere",this.node).getComponent(cc.MeshRenderer)},t.prototype.SetTexture=function(e){this._ballSphere||(this._ballSphere=cc.find("Sphere",this.node).getComponent(cc.MeshRenderer)),this._ballSphere.getMaterial(0).setProperty("diffuseTexture",this.ballTextures[e])},a([l({type:Array(cc.Texture2D)})],t.prototype,"ballTextures",void 0),t=a([i],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],Ball:[function(e,t,n){"use strict";cc._RF.push(t,"00fa0kCJQFEFaXMZ/uyYFke","Ball");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../base/assets/script/global/SS"),i=e("../../common/EnumCenter"),l=e("../../Constance"),s=e("../../util/UtilityEx"),c=e("../../manager/GameDataManager"),u=e("./BallTexture"),p=e("../../../base/assets/script/frame/clog/Clog"),h=e("../../../base/assets/script/frame/audio/AudioManager"),f=cc._decorator,d=f.ccclass,m=(f.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ballSphere=null,t._rigidBody=null,t._ballTexture=null,t.ballNum=-1,t.ballType=i.EnumBallType.Other,t._ballState=i.EnumBallState.Idle,t._lastRoundBallState=i.EnumBallState.Idle,t._lastRoundBallPosition=cc.Vec2.ZERO,t._lastWorldPos=new cc.Vec2(0,0),t}var n;return o(t,e),n=t,Object.defineProperty(t.prototype,"ballState",{get:function(){return this._ballState},set:function(e){this._ballState!=e&&(this._ballState=e,p.default.Orange(p.ClogKey.UI,"Ball Num = "+this.ballNum+", Ball State = "+this._ballState))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BallNum",{get:function(){return this.ballNum},set:function(e){this.ballNum!=e&&(this.ballNum=e,this.refreshBallTexture())},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){},t.prototype.onDestroy=function(){this.remvoeEvent()},t.prototype.lateUpdate=function(e){c.GameDataManager.IsGameStart&&this.ballState!==i.EnumBallState.InHole&&(this.updateBallAngle(),Math.abs(this._rigidBody.linearVelocity.len())<l.Constance.BALL_MIN_SPEED&&(this._rigidBody.linearVelocity=new cc.Vec2(0,0),this._rigidBody.angularVelocity=0))},t.prototype.Init=function(e){this.initRoot(),this.initEvent(),this.ballType=e,this.ballType===i.EnumBallType.White?this._rigidBody.linearDamping=l.Constance.WHITE_BALL_LINEAR_DAMPING:this._rigidBody.linearDamping=l.Constance.COLOR_BALL_LINEAR_DAMPING},t.prototype.Hit=function(e,t){var n=t*Math.PI/180;e*=l.Constance.CUE_BASE_POWER,this._rigidBody.applyForceToCenter(new cc.Vec2(Math.sin(n)*e,-Math.cos(n)*e),!0)},t.prototype.GetBallState=function(){return this.ballState},t.prototype.Reset=function(){this._rigidBody.linearVelocity=cc.Vec2.ZERO,this._rigidBody.angularVelocity=0,this.ballState=i.EnumBallState.Idle,this.node.active=!0,this._ballSphere.node.eulerAngles=cc.Vec3.ZERO},t.prototype.GetBallType=function(){return this.ballType},t.prototype.InHole=function(){this.ballState=i.EnumBallState.InHole,this._rigidBody.linearVelocity=cc.Vec2.ZERO,this._rigidBody.angularVelocity=0,this.node.active=!1,r.SS.EventCenter.emit(i.EnumGameMessageType.BallInHole,this.ballNum)},t.prototype.SetPosition=function(e){this.node.setPosition(e),this._lastWorldPos=this.node.convertToWorldSpaceAR(cc.v2(0,0)),this.updatePos()},t.prototype.SaveLastRoundValue=function(){this._lastRoundBallPosition=this.node.getPosition(),this._lastRoundBallState=this._ballState},t.prototype.ResetToLastRoundValue=function(){this._rigidBody.linearVelocity=cc.Vec2.ZERO,this._rigidBody.angularVelocity=0,this.node.setPosition(this._lastRoundBallPosition),this.ballState=this._lastRoundBallState,this.node.active=this.ballState!=i.EnumBallState.InHole,this._lastWorldPos=this.node.convertToWorldSpaceAR(cc.v2(0,0))},t.prototype.initRoot=function(){this._ballSphere=cc.find("Sphere",this.node).getComponent(cc.MeshRenderer),this._rigidBody=this.node.getComponent(cc.RigidBody),this._ballTexture=this.getComponent(u.default)},t.prototype.initEvent=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onClickBall,this)},t.prototype.remvoeEvent=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onClickBall,this)},t.prototype.updateBallAngle=function(){if(this.ballState!==i.EnumBallState.InHole){var e=this.node.convertToWorldSpaceAR(cc.v2(0,0)),t=e.sub(this._lastWorldPos);if(0===t.x&&0===t.y&&0==this._rigidBody.linearVelocity.x&&0==this._rigidBody.linearVelocity.y)return this.ballState===i.EnumBallState.Move&&(this.ballState=i.EnumBallState.MoveEnd,r.SS.EventCenter.emit(i.EnumGameMessageType.BallMoveEnd)),void(this.ballState===i.EnumBallState.MoveEnd&&(this.ballState=i.EnumBallState.Idle));this.ballState=i.EnumBallState.Move;var n=this._ballSphere.node.scale/2,o=-t.y/n,a=t.x/n;s.RotateAround(this._ballSphere.node,o,a,0),this._lastWorldPos=e,this.updatePos()}},t.prototype.refreshBallTexture=function(){this._ballTexture.SetTexture(this.ballNum)},t.prototype.updatePos=function(){this.ballType!=i.EnumBallType.White||c.GameDataManager.WhiteBallPos.equals(this.node.position)||(c.GameDataManager.WhiteBallPos=this.node.position)},t.prototype.onBeginContact=function(e,t,o){if(c.GameDataManager.IsGameStart&&t&&o){var a=t.node.getComponent(n),l=o.node.getComponent(n);null!=a&&l&&(a.GetBallType()===i.EnumBallType.White&&r.SS.EventCenter.emit(i.EnumGameMessageType.WhiteBallCollition,l.BallNum),h.AudioManager.PlaySound(i.EnumAudio.BallCollider))}},t.prototype.onClickBall=function(){r.SS.EventCenter.emit(i.EnumGameMessageType.ClickBall,this)},t.prototype.onClickWhiteBall=function(){},t=n=a([d],t)}(cc.Component));n.default=m,cc._RF.pop()},{"../../../base/assets/script/frame/audio/AudioManager":"AudioManager","../../../base/assets/script/frame/clog/Clog":"Clog","../../../base/assets/script/global/SS":"SS","../../Constance":"Constance","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","../../util/UtilityEx":"UtilityEx","./BallTexture":"BallTexture"}],BaseControl:[function(e,t,n){"use strict";cc._RF.push(t,"d7fb0KYq05HopYXcBhqMPU0","BaseControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../base/assets/script/global/SS"),r=e("../../common/EnumCenter"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.InitComplete=function(){a.SS.EventCenter.emit(r.EnumGameMessageType.GameInit)},t}(cc.Component);n.default=i,cc._RF.pop()},{"../../../base/assets/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter"}],BaseEnum:[function(e,t,n){"use strict";cc._RF.push(t,"5ec70VxELZE7J3Q36LI22lq","BaseEnum"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.NONE=-1]="NONE",e[e.WEB=0]="WEB",e[e.QQ=1]="QQ",e[e.WECHAT=2]="WECHAT"}(n.EnumPlatform||(n.EnumPlatform={})),function(e){e.NONE="none",e.WEB="web",e.QQ="qq",e.WECHAT="wx"}(n.EnumPlatformStr||(n.EnumPlatformStr={})),function(e){e[e.NONE=-1]="NONE",e[e.WEB=0]="WEB",e[e.QQ=1]="QQ",e[e.WECHAT=2]="WECHAT"}(n.EnumAgoraType||(n.EnumAgoraType={})),function(e){e.NONE="none",e.Chat9="9Chat",e.Billiards="billiards"}(n.EnumAppName||(n.EnumAppName={})),cc._RF.pop()},{}],BasePlatform:[function(e,t,n){"use strict";cc._RF.push(t,"6916eEZlV1EX7YxXHNhbsOs","BasePlatform"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(){}}();n.BasePlatform=o,cc._RF.pop()},{}],Clog:[function(e,t,n){"use strict";cc._RF.push(t,"c5d26HCIvlPIaXU/ojtxX6F","Clog"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../time/Time"),a=function(){function e(){}return e.Res="Res",e.UI="UI",e.LocalStorage="LocalStorage",e.Net="Net",e.Entry="Entry",e.Api="Api",e}();n.ClogKey=a;var r=function(){function e(){}return e.Init=function(){this.OpenTag(a.Res),this.OpenTag(a.UI),this.OpenTag(a.LocalStorage),this.OpenTag(a.Net),this.OpenTag(a.Entry),this.OpenTag(a.Api)},e.OpenTag=function(e){this.Tags.indexOf(e)<0&&this.Tags.push(e)},e.Obj=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},e.Trace=function(e,t){this.print(e,this.GetString(t),"")},e.Red=function(e,t){this.print(e,this.GetString(t),"color:red;")},e.Green=function(e,t){this.print(e,this.GetString(t),"color:green;")},e.Orange=function(e,t){this.print(e,this.GetString(t),"color:#ee7700;")},e.Gray=function(e,t){this.print(e,this.GetString(t),"color:gray;")},e.Blue=function(e,t){this.print(e,this.GetString(t),"color:#3a5fcd;")},e.Purple=function(e,t){this.print(e,this.GetString(t),"color:#b23aee;")},e.DeepPink=function(e,t){this.print(e,this.GetString(t),"color:#ff1493;")},e.GetString=function(e){return Array.isArray(e)||"object"!=typeof e?e:JSON.stringify(e)},e.print=function(e,t,n){},e.Warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.unshift("\u3010"+o.Time.Format(new Date)+"\u3011\u3010"+e+"\u3011"),cc.warn.apply(null,[].slice.call(t))},e.Error=function(e){cc.error("\u3010"+o.Time.Format(new Date)+"\u3011"+e)},e.Tags=new Array,e}();n.default=r,cc._RF.pop()},{"../time/Time":"Time"}],CollitionFixForce:[function(e,t,n){"use strict";cc._RF.push(t,"38e17fjGxRJI7rq4taL7fYU","CollitionFixForce");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fixForce=cc.Vec2.ZERO,t}return o(t,e),t.prototype.SetFixForce=function(e){this.fixForce=e},t.prototype.onBeginContact=function(e,t,n){},t.prototype.onPreSolve=function(e,t,n){n&&n.getComponent(cc.RigidBody).applyForceToCenter(this.fixForce,!0)},t.prototype.onPostSolve=function(e,t,n){n&&n.getComponent(cc.RigidBody).applyForceToCenter(this.fixForce,!0)},t.prototype.onEndContact=function(e,t,n){},t=a([i],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],Constance:[function(e,t,n){"use strict";cc._RF.push(t,"be96edJ0bBLcbFjR0sa6ZzW","Constance"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.BALL_COUNT=16,e.BALL_WHITE=0,e.BALL_BLACK=8,e.BALL_MIN_SPEED=6,e.BALL_RADIUS=15,e.CUE_BASE_POWER=72e3,e.END_BALL_RADIUS=12,e.WHITE_BALL_LINEAR_DAMPING=.8,e.COLOR_BALL_LINEAR_DAMPING=1,e.BORDER_FIX_POWER=200,e}();n.Constance=o,cc._RF.pop()},{}],CountDownControl:[function(e,t,n){"use strict";cc._RF.push(t,"467a3CMIJ5Pl4F4TPZMZtYg","CountDownControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./BaseControl"),i=e("../../common/EnumCenter"),l=e("../../util/FYCountDownMgr"),s=e("../../../base/assets/script/global/SS"),c=cc._decorator,u=c.ccclass,p=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._labCountDown=null,t._nodeLeft=null,t._nodeRight=null,t._sprCountDown=null,t.countDownKey="CountDown",t.playerType=i.EnumPlayerType.Me,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.Init=function(){this.initRoot(),this.initEvent(),this.initData(),this.InitComplete()},t.prototype.Reset=function(){this.StopCountDown()},t.prototype.StartCountDown=function(e,t){var n=this;this.playerType=e,this._nodeLeft.active=this.playerType===i.EnumPlayerType.Me,this._nodeRight.active=this.playerType===i.EnumPlayerType.Other;var o=t||30;this._sprCountDown.enabled=!0,this._labCountDown.node.active=!0,this._labCountDown.string=o.toString(),l.default.Instance.remove(this.countDownKey),l.default.Instance.add(this.countDownKey,o,1,function(e,t){n._labCountDown.string=Math.ceil(o-t).toString(),e&&(n._nodeLeft.active=!1,n._nodeRight.active=!1,n._sprCountDown.enabled=!1,n._labCountDown.node.active=!1,s.SS.EventCenter.emit(i.EnumGameMessageType.PlayerCountDownComplete,n.playerType))})},t.prototype.StopCountDown=function(){this._nodeLeft.active=!1,this._nodeRight.active=!1,this._sprCountDown.enabled=!1,this._labCountDown.node.active=!1,l.default.Instance.remove(this.countDownKey)},t.prototype.initRoot=function(){this._nodeLeft=cc.find("Left",this.node),this._nodeRight=cc.find("Right",this.node),this._labCountDown=cc.find("LabCountDown",this.node).getComponent(cc.Label),this._sprCountDown=this.node.getComponent(cc.Sprite)},t.prototype.initData=function(){this._nodeLeft.active=!1,this._nodeRight.active=!1,this._sprCountDown.enabled=!1,this._labCountDown.node.active=!1},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t=a([u],t)}(r.default));n.default=p,cc._RF.pop()},{"../../../base/assets/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter","../../util/FYCountDownMgr":"FYCountDownMgr","./BaseControl":"BaseControl"}],CryptoJS:[function(e,t,n){"use strict";cc._RF.push(t,"fb673NiiiFD1baql5GTgphg","CryptoJS");var o=o||function(e,t){var n={},o=n.lib={},a=o.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.$super.extend(this)}}}(),r=o.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,o=this.sigBytes;e=e.sigBytes;if(this.clamp(),o%4)for(var a=0;a<e;a++)t[o+a>>>2]|=(n[a>>>2]>>>24-a%4*8&255)<<24-(o+a)%4*8;else if(65535<n.length)for(a=0;a<e;a+=4)t[o+a>>>2]=n[a>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],o=0;o<t;o+=4)n.push(4294967296*e.random()|0);return r.create(n,t)}}),i=n.enc={},l=i.Hex={stringify:function(e){for(var t=e.words,n=(e=e.sigBytes,[]),o=0;o<e;o++){var a=t[o>>>2]>>>24-o%4*8&255;n.push((a>>>4).toString(16)),n.push((15&a).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o+=2)n[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return r.create(n,t/2)}},s=i.Latin1={stringify:function(e){for(var t=e.words,n=(e=e.sigBytes,[]),o=0;o<e;o++)n.push(String.fromCharCode(t[o>>>2]>>>24-o%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o++)n[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return r.create(n,t)}},c=i.Utf8={stringify:function(e){try{return decodeURIComponent(escape(s.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return s.parse(unescape(encodeURIComponent(e)))}},u=o.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=r.create(),this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,o=n.words,a=n.sigBytes,i=this.blockSize,l=a/(4*i);t=(l=t?e.ceil(l):e.max((0|l)-this._minBufferSize,0))*i,a=e.min(4*t,a);if(t){for(var s=0;s<t;s+=i)this._doProcessBlock(o,s);s=o.splice(0,t),n.sigBytes-=a}return r.create(s,a)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});o.Hasher=u.extend({init:function(){this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize(),this._hash},clone:function(){var e=u.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:16,_createHelper:function(e){return function(t,n){return e.create(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return p.HMAC.create(e,n).finalize(t)}}});var p=n.algo={};return n}(Math);(function(e){var t=o,n=(a=t.lib).WordArray,a=a.Hasher,r=t.algo,i=[],l=[];(function(){function t(t){for(var n=e.sqrt(t),o=2;o<=n;o++)if(!(t%o))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var o=2,a=0;64>a;)t(o)&&(8>a&&(i[a]=n(e.pow(o,.5))),l[a]=n(e.pow(o,1/3)),a++),o++})();var s=[];r=r.SHA256=a.extend({_doReset:function(){this._hash=n.create(i.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,o=n[0],a=n[1],r=n[2],i=n[3],c=n[4],u=n[5],p=n[6],h=n[7],f=0;64>f;f++){if(16>f)s[f]=0|e[t+f];else{var d=s[f-15],m=s[f-2];s[f]=((d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3)+s[f-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+s[f-16]}d=h+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&u^~c&p)+l[f]+s[f],m=((o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22))+(o&a^o&r^a&r),h=p,p=u,u=c,c=i+d|0,i=r,r=a,a=o,o=d+m|0}n[0]=n[0]+o|0,n[1]=n[1]+a|0,n[2]=n[2]+r|0,n[3]=n[3]+i|0,n[4]=n[4]+c|0,n[5]=n[5]+u|0,n[6]=n[6]+p|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;t[o>>>5]|=128<<24-o%32,t[15+(o+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process()}});t.SHA256=a._createHelper(r),t.HmacSHA256=a._createHmacHelper(r)})(Math),function(){var e=o,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=e.create(),"string"==typeof n&&(n=t.parse(n));var o=e.blockSize,a=4*o;n.sigBytes>a&&(n=e.finalize(n));for(var r=this._oKey=n.clone(),i=this._iKey=n.clone(),l=r.words,s=i.words,c=0;c<o;c++)l[c]^=1549556828,s[c]^=909522486;r.sigBytes=i.sigBytes=a,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;e=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),t.exports=o,cc._RF.pop()},{}],CueControl:[function(e,t,n){"use strict";cc._RF.push(t,"44ca3t2oZxDTrmD+JMWZWjX","CueControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../base/assets/script/global/SS"),r=e("../../common/EnumCenter"),i=e("./BaseControl"),l=e("../../../base/assets/script/frame/audio/AudioManager"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ballArmPic=null,t.power=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.Rotate(180)},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.initRoot=function(){this._ballArmPic=cc.find("Pic",this.node).getComponent(cc.Sprite)},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.Init=function(){this.initRoot(),this.initEvent(),this.InitComplete()},t.prototype.Reset=function(){this.node.angle=-180,this.node.active=!1},t.prototype.SetPower=function(e){var t=100*e+20;this._ballArmPic.node.y=t,this.power=e},t.prototype.SetRotation=function(e){this.node.angle=e},t.prototype.Rotate=function(e){this.node.angle-=e},t.prototype.Hit=function(){var e=this;this._ballArmPic.node.runAction(cc.sequence(cc.moveTo(.05,new cc.Vec2(0,20)),cc.callFunc(function(){a.SS.EventCenter.emit(r.EnumGameMessageType.CueHitComplete,e.power,e.node.angle),l.AudioManager.PlaySound(r.EnumAudio.CueHit),e.Hide()},this)))},t.prototype.Show=function(e){this.node.setPosition(e),this.node.active=!0},t.prototype.Hide=function(){this.node.active=!1},t}(i.default);n.default=s,cc._RF.pop()},{"../../../base/assets/script/frame/audio/AudioManager":"AudioManager","../../../base/assets/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter","./BaseControl":"BaseControl"}],DeviceInfo:[function(e,t,n){"use strict";cc._RF.push(t,"37dfdTIqypC6b1eV6Dr4XOT","DeviceInfo"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(e){void 0===e&&(e=null),this.userAgent="",this.deviceId="",null!=e&&(this.model=e.model,this.pixelRatio=e.pixelRatio,this.windowWidth=e.windowWidth,this.windowHeight=e.windowHeight,this.system=e.system,this.language=e.language,this.version=e.version,this.screenWidth=e.screenWidth,this.screenHeight=e.screenHeight,this.SDKVersion=e.SDKVersion,this.brand=e.brand,this.fontSizeSetting=e.fontSizeSetting,this.batteryLevel=e.batteryLevel,this.statusBarHeight=e.statusBarHeight,this.safeArea=e.safeArea,this.deviceOrientation=e.deviceOrientation,this.platform=e.platform,this.devicePixelRatio=e.devicePixelRatio)}}();n.DeviceInfo=o;var a=function(){function e(){}return e.Init=function(){this.deviceInfo=new o({model:"iPhone_XR",pixelRatio:2,windowWidth:414,windowHeight:896,system:"iOS 10.0.1",language:"zh_CN",version:"7.0.4",screenWidth:414,screenHeight:896,SDKVersion:"2.9.1",brand:"devtools",fontSizeSetting:16,batteryLevel:100,statusBarHeight:44,safeArea:{right:414,bottom:896,left:0,top:44,width:414,height:852},deviceOrientation:"portrait",platform:"devtools",devicePixelRatio:2})},e}();n.DeviceInfoManager=a,cc._RF.pop()},{}],DragComp:[function(e,t,n){"use strict";cc._RF.push(t,"615b31u6JhEFpytsH9bVMS8","DragComp");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../manager/GameDataManager"),i=cc._decorator,l=i.ccclass,s=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragStartPos=cc.Vec2.ZERO,t}return o(t,e),t.prototype.onLoad=function(){this.initEvent()},t.prototype.initEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},t.prototype.onTouchStart=function(e){},t.prototype.onTouchMove=function(e){var t=e.getLocationInView();this.node.setPosition(t.x-r.GameDataManager.GetWinSize().width/2,-t.y+r.GameDataManager.GetWinSize().height/2)},t.prototype.onTouchEnd=function(e){},t=a([l],t)}(cc.Component));n.default=s,cc._RF.pop()},{"../manager/GameDataManager":"GameDataManager"}],EffectBase:[function(e,t,n){"use strict";cc._RF.push(t,"77b37OBn1pN1pNwZ6jRcguG","EffectBase");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../base/assets/script/global/SS"),r=e("../../common/EnumCenter"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.Release=function(){a.SS.EventCenter.emit(r.EnumGameMessageType.EffectRelease,this)},t}(cc.Component);n.EffectBase=i,cc._RF.pop()},{"../../../base/assets/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter"}],EffectControl:[function(e,t,n){"use strict";cc._RF.push(t,"878c8uTQc1Kl7+JUkSBB4uN","EffectControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseControl"),r=e("../../../base/assets/script/global/SS"),i=e("../../common/EnumCenter"),l=e("../../../base/assets/script/frame/clog/Clog"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._container=null,t._sample=null,t._dictEffectPool={},t}return o(t,e),t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.Init=function(){this.initRoot(),this.initEvent(),this.InitComplete()},t.prototype.Reset=function(){},t.prototype.Show=function(e,t){var n=null,o=(new e).EffectName;if(this._dictEffectPool[o]&&this._dictEffectPool[o].size()>0)n=this._dictEffectPool[o].get().getComponent(e);else{var a=cc.find(o,this._sample);if(null==a)return void l.default.Error("EffectControl's Function Show sample is null");n=cc.instantiate(a).addComponent(e)}n.node.active=!0,n.node.parent=this._container,n.node.setPosition(n.node.parent.convertToNodeSpaceAR(t)),n.Show()},t.prototype.initRoot=function(){this._sample=cc.find("Sample",this.node),this._container=cc.find("Container",this.node)},t.prototype.initEvent=function(){r.SS.EventCenter.on(i.EnumGameMessageType.EffectRelease,this.onEffectRelease,this)},t.prototype.removeEvent=function(){r.SS.EventCenter.off(i.EnumGameMessageType.EffectRelease,this.onEffectRelease,this)},t.prototype.onEffectRelease=function(e){this._dictEffectPool[e.name]||(this._dictEffectPool[e.name]=new cc.NodePool),this._dictEffectPool[e.name].put(e.node)},t}(a.default);n.default=s,cc._RF.pop()},{"../../../base/assets/script/frame/clog/Clog":"Clog","../../../base/assets/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter","./BaseControl":"BaseControl"}],EffectInHole:[function(e,t,n){"use strict";cc._RF.push(t,"96652D7PUJN2JTmHlVcw63/","EffectInHole");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EffectName="EffectInHole",t}return o(t,e),t.prototype.Show=function(){var e=this;this.node.scale=0,this.node.opacity=255,cc.tween(this.node).to(.5,{scale:1.5},{easing:"backOut"}).to(.2,{opacity:0}).call(function(){e.Release()}).start()},t}(e("./EffectBase").EffectBase);n.default=a,cc._RF.pop()},{"./EffectBase":"EffectBase"}],EndBallControl:[function(e,t,n){"use strict";cc._RF.push(t,"cca0d9HQetD0JEPzkumdDBR","EndBallControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../base/assets/script/global/SS"),i=e("../../common/EnumCenter"),l=e("../entity/BallTexture"),s=e("./BaseControl"),c=e("../../Constance"),u=cc._decorator,p=u.ccclass,h=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ball=null,t._container=null,t.num=0,t._ballPool=new cc.NodePool,t.resetBallInHoleNum=0,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.Init=function(){this.initRoot(),this.initEvent(),this.InitComplete()},t.prototype.Reset=function(){for(var e=this._container.children,t=e.length-1;t>=0;t--)e[t].stopAllActions(),e[t].active=!1,this._ballPool.put(e[t]);this.num=0},t.prototype.ResetToLastRoundValue=function(e){var t=this;if(e.forEach(function(e){e.GetBallState()===i.EnumBallState.InHole&&t.resetBallInHoleNum++}),this.resetBallInHoleNum<this.num){for(var n=this._container.children,o=n.length-1;o>=this.resetBallInHoleNum;o--)n[o].stopAllActions(),n[o].active=!1,this._ballPool.put(n[o]);this.num=this.resetBallInHoleNum}},t.prototype.initRoot=function(){this._ball=cc.find("Ball",this.node),this._container=cc.find("Container",this.node)},t.prototype.initEvent=function(){r.SS.EventCenter.on(i.EnumGameMessageType.BallInHole,this.onBallInHole,this)},t.prototype.removeEvent=function(){r.SS.EventCenter.off(i.EnumGameMessageType.BallInHole,this.onBallInHole,this)},t.prototype.onBallInHole=function(e){if(8!==e&&0!==e){var t=null;(t=this._ballPool.size()>0?this._ballPool.get():cc.instantiate(this._ball)).active=!0,t.getComponent(l.default).SetTexture(e),t.parent=this._container,t.position=new cc.Vec3(68,331,0);this.num++;var n=c.Constance.END_BALL_RADIUS,o=22+(this.num-1)*n*2,a=111240/(Math.PI*c.Constance.END_BALL_RADIUS*2)*(309-o)/309,r=cc.find("Sphere",t);cc.tween(t).delay(.5).to(.2,{position:new cc.Vec2(20,331)}).to(1,{position:new cc.Vec2(20,o)}).start(),cc.tween(r).delay(.5).to(.2,{eulerAngles:new cc.Vec3(0,-180,0)}).by(1,{eulerAngles:new cc.Vec3(-a,0,0)}).start()}},t=a([p],t)}(s.default));n.default=h,cc._RF.pop()},{"../../../base/assets/script/global/SS":"SS","../../Constance":"Constance","../../common/EnumCenter":"EnumCenter","../entity/BallTexture":"BallTexture","./BaseControl":"BaseControl"}],Entry:[function(e,t,n){"use strict";cc._RF.push(t,"70bf8ULWgdNPItGzkabS24g","Entry");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../base/assets/script/frame/res/ResManager"),i=e("../../../base/assets/script/frame/clog/Clog"),l=e("../../../base/assets/script/frame/audio/AudioManager"),s=e("../../manager/GameCenter"),c=e("../../../base/assets/script/frame/ui/UIManager"),u=e("../../manager/GameDataManager"),p=e("../../util/FYTipsMgr"),h=cc._decorator.ccclass,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){this.selfAdaption(),window.CC_ENGINE_VERSION=cc.ENGINE_VERSION,u.GameDataManager.Entry=this,u.GameDataManager.Canvas=cc.find("Canvas").getComponent(cc.Canvas)},t.prototype.start=function(){p.FYTipsMgr.init(this.node),r.ResManager.LoadRes("Entry"),cc.game.setFrameRate(60),cc.debug.setDisplayStats(!1),cc.game.addPersistRootNode(this.node),this.InitGameEvent(),this.InitUIManager(),i.default.Init(),l.AudioManager.Init(),s.GameCenter.InitGame(),s.GameCenter.Start()},t.prototype.InitUIManager=function(){c.UIManager.Init(cc.find("UIManager",this.node))},t.prototype.InitGameEvent=function(){var e=this;cc.game.on(cc.game.EVENT_HIDE,function(){e.OnGameHide()}),cc.game.on(cc.game.EVENT_SHOW,function(){e.GameShow()})},t.prototype.OnGameHide=function(){},t.prototype.GameShow=function(){},t.prototype.selfAdaption=function(){var e=cc.find("Canvas").getComponent(cc.Canvas),t=u.GameDataManager.GetWinSize().height/u.GameDataManager.GetWinSize().width;t>16/9?(e.fitWidth=!0,e.fitHeight=!1):t<16/9&&(e.fitWidth=!1,e.fitHeight=!0)},t=a([h],t)}(cc.Component);n.Entry=f,cc._RF.pop()},{"../../../base/assets/script/frame/audio/AudioManager":"AudioManager","../../../base/assets/script/frame/clog/Clog":"Clog","../../../base/assets/script/frame/res/ResManager":"ResManager","../../../base/assets/script/frame/ui/UIManager":"UIManager","../../manager/GameCenter":"GameCenter","../../manager/GameDataManager":"GameDataManager","../../util/FYTipsMgr":"FYTipsMgr"}],EnumCenter:[function(e,t,n){"use strict";cc._RF.push(t,"c6276MqlYxJZL1b+BmGUOmV","EnumCenter"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.Unknow=0]="Unknow",e[e.Mail=1]="Mail",e[e.Femail=2]="Femail"}(n.EnumSex||(n.EnumSex={})),function(e){e.Gift="\u793c\u7269",e.Bag="\u80cc\u5305"}(n.EnumGiftTab||(n.EnumGiftTab={})),function(e){e.Normal="normal",e.Radio="radio",e.RadioDefend="radio-defend",e.Order="order",e.Auto="auto",e.Joy="joy",e.Cp="cp",e.CpLove="cp-love",e.Private="private"}(n.EnumRoomTypes||(n.EnumRoomTypes={})),n.EnumRoomSubType||(n.EnumRoomSubType={}),function(e){e.Auto="auto",e.Lock="lock"}(n.EnumRoomMode||(n.EnumRoomMode={})),function(e){e.Normal="normal",e.Order="order"}(n.EnumRoomBusiness||(n.EnumRoomBusiness={})),function(e){e.Business="businss",e.Vip="vip",e.Fleet="fleet",e.Private="private"}(n.RoomProperty||(n.RoomProperty={})),function(e){e.Message="message",e.Notify="notify",e.System="system",e.Package="package",e.Box="box",e.Local="local",e.CloseNotify="close-notify",e.Guess="guess",e.AvatarGift="avatargift"}(n.EnumMessageType||(n.EnumMessageType={})),function(e){e[e.White=0]="White",e[e.Other=1]="Other"}(n.EnumBallType||(n.EnumBallType={})),function(e){e.GameInit="GameInit",e.BallMoveEnd="BallMoveEnd",e.BallInHole="BallInHole",e.InHole="InHole",e.PlayerCountDownComplete="PlayerCountDownComplete",e.ConfirmBallColorType="ConfirmBallColorType",e.GameAgain="GameAgain",e.WhiteBallCollition="WhiteBallCollition",e.StartTurn="StartTurn",e.NextTurn="NextTurn",e.GameEnd="GameEnd",e.FreeBallPut="FreeBallPut",e.AngleChangeStart="AngleChangeStart",e.AngleChange="AngleChange",e.AngleChangeEnd="AngleChangeEnd",e.CueHitComplete="CueHitComplete",e.TableTouchStart="TableTouchStart",e.TableTouchMove="TableTouchMove",e.TableTouchEnd="TableTouchEnd",e.PowerValueChangeStart="PowerValueChangeStart",e.PowerValueChange="PowerValueChange",e.PowerValueChangeEnd="PowerValueChangeEnd",e.ClickBall="ClickBall",e.GameStateChange="GameStateChange",e.VsAnimFinish="VsAnimFinish",e.ReadyAddGame="ReadyAddGame",e.ReadyExitGame="ReadyExitGame",e.ReadyGame="ReadyGame",e.ReadyStartGame="ReadyStartGame",e.EffectRelease="EffectRelease"}(n.EnumGameMessageType||(n.EnumGameMessageType={})),function(e){e[e.Idle=0]="Idle",e[e.Move=1]="Move",e[e.MoveEnd=2]="MoveEnd",e[e.InHole=3]="InHole"}(n.EnumBallState||(n.EnumBallState={})),function(e){e[e.Me=0]="Me",e[e.Other=1]="Other"}(n.EnumPlayerType||(n.EnumPlayerType={})),function(e){e[e.None=0]="None",e[e.Full=1]="Full",e[e.Half=2]="Half"}(n.EnumBallColorType||(n.EnumBallColorType={})),function(e){e[e.MyStartBall=0]="MyStartBall",e[e.YourRound=1]="YourRound",e[e.HitHalfBall=2]="HitHalfBall",e[e.HitFullBall=3]="HitFullBall",e[e.Foul=4]="Foul",e[e.Win=5]="Win",e[e.Lose=6]="Lose",e[e.Link=7]="Link"}(n.EnumGameTipsType||(n.EnumGameTipsType={})),function(e){e[e.None=0]="None",e[e.Win=1]="Win",e[e.Fail=2]="Fail"}(n.EnumGameResultType||(n.EnumGameResultType={})),function(e){e[e.NextPlayer=0]="NextPlayer",e[e.Continue=1]="Continue",e[e.FreeBall=2]="FreeBall"}(n.EnumRuleType||(n.EnumRuleType={})),function(e){e[e.ReadyToHit=0]="ReadyToHit",e[e.FreeBallIdle=1]="FreeBallIdle",e[e.FreeBallMove=2]="FreeBallMove",e[e.FreeBallPut=3]="FreeBallPut",e[e.HitBall=4]="HitBall"}(n.EnumGameState||(n.EnumGameState={})),function(e){e.BallCollider="S_Game_BallCollider",e.BallHit="S_Game_BallHit",e.CueHit="S_Game_CueHit",e.Pocket="S_Game_Pocket"}(n.EnumAudio||(n.EnumAudio={})),cc._RF.pop()},{}],EventCommond:[function(e,t,n){"use strict";cc._RF.push(t,"b9c2bbYouhIX5Kuzhk6z3U7","EventCommond"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.EventLogout="EventLogout",e}();n.EventCommond=o,cc._RF.pop()},{}],FYCountDownMgr:[function(e,t,n){"use strict";cc._RF.push(t,"4f798Kw7QhE4YJs27ZwXaIn","FYCountDownMgr");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._bStart=!1,t._dictCountDownInfo={},t}var n;return o(t,e),n=t,Object.defineProperty(t,"Instance",{get:function(){return null===n._instance&&(n._instance=cc.director.getScene().getChildByName("Canvas").getComponent(n)),null===n._instance&&(n._instance=cc.director.getScene().getChildByName("Canvas").addComponent(n)),n._instance},enumerable:!0,configurable:!0}),t.prototype.add=function(e,t,n,o){this._dictCountDownInfo[e]&&cc.warn("key = "+e+"is already exist");var a=new s(e,t,n,o);this._dictCountDownInfo[e]=a,this._bStart=!0},t.prototype.remove=function(e){this._dictCountDownInfo[e]&&delete this._dictCountDownInfo[e]},t.prototype.update=function(e){if(this._bStart)for(var t in this._dictCountDownInfo){var n=this._dictCountDownInfo[t];n.curTime+=e,-1!=n.intervalTime&&(n.intervalTotalTime+=e),-1!=n.needTime&&n.curTime>=n.needTime?(delete this._dictCountDownInfo[t],0===Object.keys(this._dictCountDownInfo).length&&(this._bStart=!1),n.cb&&n.cb(!0,n.curTime)):-1!=n.intervalTime&&n.intervalTotalTime>=n.intervalTime&&(n.cb&&n.cb(!1,n.curTime),n.intervalTotalTime=0)}},t._instance=null,t=n=a([i],t)}(cc.Component));n.default=l;var s=function(){return function(e,t,n,o){this.key="",this.needTime=0,this.intervalTime=0,this.intervalTotalTime=0,this.curTime=0,this.cb=null,this.key=e,this.needTime=t,this.intervalTime=n,this.cb=o,this.curTime=0,this.intervalTotalTime=0}}();cc._RF.pop()},{}],FYTipsMgr:[function(e,t,n){"use strict";cc._RF.push(t,"428496u99lHZbAssalQfZc7","FYTipsMgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./FYTips"),a=e("../../base/assets/script/frame/res/ResManager"),r=e("../../base/assets/script/frame/clog/Clog"),i=function(){function e(){this.isInit=!1,this._nodeContainer=null,this._pool=new cc.NodePool,this._tipPrefab=null}return e.prototype.init=function(e){var t=this;this._nodeContainer=e,a.ResManager.LoadRes("P_FYTips",cc.Prefab,function(e,n){t._tipPrefab=n,t.isInit=!0})},e.prototype.getTips=function(){var e=null;return this._pool.size()>0?e=this._pool.get():this._tipPrefab&&(e=cc.instantiate(this._tipPrefab)),e},e.prototype.putTips=function(e){e?this._pool.put(e):cc.error("nodeTips is null")},e.prototype.showTips=function(e){this.isInit||r.default.Warn(r.ClogKey.UI,"Tips \u6ca1\u6709\u521d\u59cb\u5316");var t=this.addTips();t?t.setTips(e):r.default.Warn(r.ClogKey.UI,"Tips \u521b\u5efa\u52a0\u8f7d\u5931\u8d25 tips = "+e)},e.prototype.addTips=function(e){void 0===e&&(e=this._nodeContainer);var t=this.getTips();return t?(t.parent=e,t.scale=1,t.opacity=255,t.getComponent(o.default)):null},e.prototype.removeTips=function(e){this.putTips(e.node)},e}();n.default=i,n.FYTipsMgr=new i,cc._RF.pop()},{"../../base/assets/script/frame/clog/Clog":"Clog","../../base/assets/script/frame/res/ResManager":"ResManager","./FYTips":"FYTips"}],FYTips:[function(e,t,n){"use strict";cc._RF.push(t,"8a27c/c2edJzqMK7WW7dIda","FYTips");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./FYTipsMgr"),i=cc._decorator,l=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labTips=null,t}return o(t,e),t.prototype.setTips=function(e){this.labTips&&cc.isValid(this.labTips)&&(this.labTips.string=e,this.playTween())},t.prototype.playTween=function(){this.node.setPosition(0,0);var e=this;this.node.opacity=0;var t=cc.fadeTo(.3,255),n=cc.fadeTo(.3,0),o=cc.moveBy(1.2,0,80),a=cc.callFunc(function(){r.FYTipsMgr.removeTips(e)}),i=cc.sequence(t,cc.delayTime(.9),n,a),l=cc.spawn(o,i);this.node.runAction(l)},a([s(cc.Label)],t.prototype,"labTips",void 0),t=a([l],t)}(cc.Component);n.default=c,cc._RF.pop()},{"./FYTipsMgr":"FYTipsMgr"}],FreeBallControl:[function(e,t,n){"use strict";cc._RF.push(t,"7fde1oVbrtHD6vx8kE149vv","FreeBallControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./BaseControl"),i=e("../../Constance"),l=e("../../manager/GameDataManager"),s=e("../../../base/assets/script/global/SS"),c=e("../../common/EnumCenter"),u=cc._decorator,p=u.ccclass,h=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._canNotPut=null,t._hand=null,t._bg=null,t.deltaPos=cc.Vec2.ZERO,t.allBallPosArray=[],t}return o(t,e),t.prototype.Init=function(){this.initRoot(),this.initEvent(),this.InitComplete()},t.prototype.Reset=function(){this.node.active=!1},t.prototype.ShowFreeBall=function(e,t){l.GameDataManager.GameState=c.EnumGameState.FreeBallIdle,this._bg.active=!0,this._hand.active=!0,this.node.active=!0,this.node.setPosition(e),this.allBallPosArray=t,this.canPut()},t.prototype.ShowFreeBallStart=function(e,t){this._bg.active=!1,this._hand.active=!1,this.node.active=!0,this.node.setPosition(e),this.allBallPosArray=t,this.canPut()},t.prototype.PutFreeBall=function(){this._bg.active=!1,this._hand.active=!1},t.prototype.HideFreeBall=function(){this.node.active=!1},t.prototype.initRoot=function(){this._bg=cc.find("Bg",this.node),this._hand=cc.find("Hand",this.node),this._canNotPut=cc.find("CanNotPut",this.node)},t.prototype.initEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},t.prototype.removeEvent=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},t.prototype.canPut=function(){var e=!0;this.node.x<l.GameDataManager.TableLeftBorder.x+i.Constance.BALL_RADIUS&&(this.node.x=l.GameDataManager.TableLeftBorder.x+i.Constance.BALL_RADIUS),this.node.x>l.GameDataManager.TableRightBorder.x-i.Constance.BALL_RADIUS&&(this.node.x=l.GameDataManager.TableRightBorder.x-i.Constance.BALL_RADIUS),this.node.y<l.GameDataManager.TableBottomBorder.y+i.Constance.BALL_RADIUS&&(this.node.y=l.GameDataManager.TableBottomBorder.y+i.Constance.BALL_RADIUS),l.GameDataManager.IsFirstHit?this.node.y>-210&&(this.node.y=-210):this.node.y>l.GameDataManager.TableTopBorder.y-i.Constance.BALL_RADIUS&&(this.node.y=l.GameDataManager.TableTopBorder.y-i.Constance.BALL_RADIUS);for(var t=0;t<this.allBallPosArray.length;t++){var n=this.allBallPosArray[t];if(this.node.x>=n.x-2*i.Constance.BALL_RADIUS&&this.node.x<=n.x+2*i.Constance.BALL_RADIUS&&this.node.y>=n.y-2*i.Constance.BALL_RADIUS&&this.node.y<=n.y+2*i.Constance.BALL_RADIUS)return e=!1}return e},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.onTouchStart=function(e){l.GameDataManager.GameState=c.EnumGameState.FreeBallMove,this._bg.active=!0,this._hand.active=!0;var t=e.getLocation();this.deltaPos=this.node.getPosition().sub(t)},t.prototype.onTouchMove=function(e){this.node.setPosition(this.deltaPos.add(e.getLocation())),this._canNotPut.active=!this.canPut()},t.prototype.onTouchEnd=function(){this.canPut()&&(s.SS.EventCenter.emit(c.EnumGameMessageType.FreeBallPut,this.node.getPosition()),this.PutFreeBall())},t.prototype.onTouchCancel=function(){},t=a([p],t)}(r.default));n.default=h,cc._RF.pop()},{"../../../base/assets/script/global/SS":"SS","../../Constance":"Constance","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","./BaseControl":"BaseControl"}],GameCenter:[function(e,t,n){"use strict";cc._RF.push(t,"06b5e8LxDhHaKSaGipjfkVF","GameCenter");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,r){function i(e){try{s(o.next(e))}catch(e){r(e)}}function l(e){try{s(o.throw(e))}catch(e){r(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,l)}s((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(e){return function(t){return s([e,t])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/assets/script/frame/clog/Clog"),i=e("../../base/assets/script/global/BaseEnum"),l=e("../../base/assets/script/global/DeviceInfo"),s=e("../../base/assets/script/global/SS"),c=e("./UIReadyManager"),u=function(){function e(){}return e.ReStartGame=function(){cc.audioEngine.stopAll(),cc.game.restart()},e.InitGame=function(){l.DeviceInfoManager.Init()},e.Start=function(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return s.SS.IsDevMode=!0,[4,this.readGameConfig()];case 1:return e.sent()?(l.DeviceInfoManager.Init(),this.initAgora(),c.UIReadyManager.InitData(),c.UIReadyManager.OpenUI(),[2]):[2]}})})},e.initAgora=function(){s.SS.IsDevMode},e.readGameConfig=function(){return o(this,void 0,Promise,function(){var e=this;return a(this,function(t){return[2,new Promise(function(t){return o(e,void 0,void 0,function(){return a(this,function(e){return cc.loader.loadRes("config/GameConfig",function(e,n){null!=e&&(r.default.Error("load Config Error!"),t(!1)),s.SS.CurPlatform=i.EnumPlatform[""+n.json.Platform],s.SS.CurAppName=n.json.AppName,s.SS.CurAgoraType=i.EnumAgoraType[""+n.json.AgoraType],s.SS.IsDevMode=Boolean(n.json.IsDevMode),s.SS.HttpUrl=n.json.HttpUrl,r.default.Trace(r.ClogKey.Entry,"CurPlatform="+s.SS.CurPlatform),r.default.Trace(r.ClogKey.Entry,"CurAppName="+s.SS.CurAppName),r.default.Trace(r.ClogKey.Entry,"CurAgoraType="+s.SS.CurAgoraType),r.default.Trace(r.ClogKey.Entry,"IsDevMode="+s.SS.IsDevMode),r.default.Trace(r.ClogKey.Entry,"HttpUrl="+s.SS.HttpUrl),t(!0)}),[2]})})})]})})},e}();n.GameCenter=u,cc._RF.pop()},{"../../base/assets/script/frame/clog/Clog":"Clog","../../base/assets/script/global/BaseEnum":"BaseEnum","../../base/assets/script/global/DeviceInfo":"DeviceInfo","../../base/assets/script/global/SS":"SS","./UIReadyManager":"UIReadyManager"}],GameDataManager:[function(e,t,n){"use strict";cc._RF.push(t,"ec7146kpH1La7JaqtItIwEV","GameDataManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../base/assets/script/global/SS"),a=e("../common/EnumCenter"),r=e("../util/UtilityEx"),i=function(){function e(){this.Entry=null,this.Canvas=null,this.TableSize=new cc.Vec2(0,0),this.TableLeftBorder=new cc.Vec2(0,0),this.TableRightBorder=new cc.Vec2(0,0),this.TableTopBorder=new cc.Vec2(0,0),this.TableBottomBorder=new cc.Vec2(0,0),this.WhiteBallPos=new cc.Vec3(0,0,0),this.OverTimeCount=[0,0],this.IsGameStart=!1,this._curTurn=a.EnumPlayerType.Me,this.MyBallColorType=a.EnumBallColorType.None,this.gameStatePre=a.EnumGameState.ReadyToHit,this.gameState=a.EnumGameState.ReadyToHit,this.GameUserDataArray=[],this.LinkNumArray=[],this._isNewGuide=-1,this.RemainBallNumArray=[0,0],this.IsFirstHit=!0}return e.prototype.GetDesignWidth=function(){return this.Canvas?this.Canvas.designResolution.width:0},e.prototype.GetDesignHeight=function(){return this.Canvas?this.Canvas.designResolution.height:0},e.prototype.GetWinSize=function(){return cc.winSize},e.prototype.StartTurn=function(){var e=Math.round(10*Math.random())%2;this._curTurn=0===e?a.EnumPlayerType.Me:a.EnumPlayerType.Other,o.SS.EventCenter.emit(a.EnumGameMessageType.StartTurn)},e.prototype.NextTurn=function(e){this._curTurn===a.EnumPlayerType.Me?this._curTurn=a.EnumPlayerType.Other:this._curTurn=a.EnumPlayerType.Me,o.SS.EventCenter.emit(a.EnumGameMessageType.NextTurn,e||30)},e.prototype.GetCurWhoTurn=function(){return this._curTurn},Object.defineProperty(e.prototype,"GameState",{get:function(){return this.gameState},set:function(e){e!=this.gameState&&(this.gameStatePre=this.gameState,this.gameState=e,o.SS.EventCenter.emit(a.EnumGameMessageType.GameStateChange,this.gameState,this.gameStatePre))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsNewGuide",{get:function(){return-1===this._isNewGuide&&(this._isNewGuide=r.GetLocalStorageNumber("isNewGuide",0)),this._isNewGuide},set:function(e){e!=this._isNewGuide&&(this._isNewGuide=e,r.SetLocalStorageNumber("isNewGuide",this._isNewGuide))},enumerable:!0,configurable:!0}),e.prototype.Reset=function(){this.OverTimeCount=[0,0],this.WhiteBallPos=new cc.Vec3(0,0,0),this.IsGameStart=!1,this.MyBallColorType=a.EnumBallColorType.None,this.gameState=a.EnumGameState.ReadyToHit,this.RemainBallNumArray=[0,0],this.IsFirstHit=!0},e}();n.GameDataManager=new i,cc._RF.pop()},{"../../base/assets/script/global/SS":"SS","../common/EnumCenter":"EnumCenter","../util/UtilityEx":"UtilityEx"}],GameTipsControl:[function(e,t,n){"use strict";cc._RF.push(t,"96453NVgHpD2pksXNHMHe/F","GameTipsControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../common/EnumCenter"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._container=null,t._win=null,t._lose=null,t._yourRound=null,t._hitFullBall=null,t._hitHalfBall=null,t._foul=null,t._myStartBall=null,t._link=null,t._labLinkNum=null,t}return o(t,e),t.prototype.Init=function(){this.initRoot(),this.InitComplete()},t.prototype.Reset=function(){this.node.stopAllActions(),this.hideAll()},t.prototype.ShowGameTip=function(e){this._win.active=e===a.EnumGameTipsType.Win,this._lose.active=e===a.EnumGameTipsType.Lose,this._hitFullBall.active=e===a.EnumGameTipsType.HitFullBall,this._hitHalfBall.active=e===a.EnumGameTipsType.HitHalfBall,this._foul.active=e===a.EnumGameTipsType.Foul,this._myStartBall.active=e===a.EnumGameTipsType.MyStartBall,this._yourRound.active=e===a.EnumGameTipsType.YourRound,this._link.active=e===a.EnumGameTipsType.Link,this.playTween(e)},t.prototype.ShowLink=function(e){console.log("ShowLink num = "+e),e>=3&&e<=8&&(this._labLinkNum.string=e.toString(),this.ShowGameTip(a.EnumGameTipsType.Link))},t.prototype.playTween=function(e){e!=a.EnumGameTipsType.Win&&e!=a.EnumGameTipsType.Lose?(this._container.stopAllActions(),this._container.scale=0,this._container.opacity=255,cc.tween(this._container).to(.5,{scale:1},{easing:"backOut"}).delay(1).to(.2,{opacity:0}).start()):e===a.EnumGameTipsType.Win?(this._win.stopAllActions(),this._win.scale=0,this._win.opacity=255,cc.tween(this._win).to(.5,{scale:1},{easing:"backOut"}).delay(1).to(.2,{opacity:0}).start()):e===a.EnumGameTipsType.Lose&&(this._lose.stopAllActions(),this._lose.scale=0,this._lose.opacity=255,cc.tween(this._lose).to(.5,{scale:1},{easing:"backOut"}).delay(1).to(.2,{opacity:0}).start())},t.prototype.initRoot=function(){this._container=cc.find("Container",this.node),this._win=cc.find("Win",this.node),this._lose=cc.find("Lose",this.node),this._yourRound=cc.find("YourRound",this._container),this._hitHalfBall=cc.find("HitHalfBall",this._container),this._hitFullBall=cc.find("HitFullBall",this._container),this._foul=cc.find("Foul",this._container),this._myStartBall=cc.find("MyStartBall",this._container),this._link=cc.find("Link",this._container),this._labLinkNum=cc.find("Link/LabNum",this._container).getComponent(cc.Label)},t.prototype.hideAll=function(){this._yourRound.active=!1,this._link.active=!1,this._hitFullBall.active=!1,this._hitHalfBall.active=!1,this._foul.active=!1,this._myStartBall.active=!1,this._win.active=!1,this._lose.active=!1},t}(e("./BaseControl").default);n.default=r,cc._RF.pop()},{"../../common/EnumCenter":"EnumCenter","./BaseControl":"BaseControl"}],GameUserData:[function(e,t,n){"use strict";cc._RF.push(t,"c04ef7G5GdFLqq3FH526axq","GameUserData"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../util/UtilityEx"),a=function(){return function(e){void 0===e&&(e=null),this.Id=0,this.Name="",this.Sex=0,this.Age=0,this.HeadUrl="",this.SeatId=0,null!==e&&(this.Id=o.GetValue(e,"id",0),this.Name=o.GetValue(e,"name",""),this.Sex=o.GetValue(e,"sex",0),this.Age=o.GetValue(e,"age",0),this.HeadUrl=o.GetValue(e,"head",""),this.SeatId=o.GetValue(e,"seatId",0))}}();n.GameUserData=a,cc._RF.pop()},{"../util/UtilityEx":"UtilityEx"}],GiftData:[function(e,t,n){"use strict";cc._RF.push(t,"59fe01ABQ1IQZxMhkNcLtZk","GiftData"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(e){void 0===e&&(e=null),(e=null)||(this.Id=e.id,this.Name=e.name,this.NameZhTw=e.name_zh_tw,this.NameEn=e.name_en,this.Price=e.price,this.Display=e.display,this.Type=e.type,this.WithEnd=e.with_end,this.Size=e.size,this.SizeBig=e.size_big,this.Ordering=e.ordering,this.Deleted=e.deleted,this.Title=e.title,this.Naming=e.naming,this.Xratio=e.xratio,this.Xtype=e.xtype,this.Excludes=e.excludes,this.Isnaming=e.isnaming)}}();n.GiftData=o,cc._RF.pop()},{}],GiftManager:[function(e,t,n){"use strict";cc._RF.push(t,"d6685eecZhDeKgkUVnS6xZm","GiftManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../base/assets/script/api/http/Xhr"),a=e("../../base/assets/script/frame/clog/Clog"),r=e("../model/GiftData"),i=function(){function e(){}return e.RefreshAllGift=function(e){this.allGift=new Array;for(var t=0;t<e.length;t++){var n=e[t];this.allGift.push(new r.GiftData(n))}},e.GetGiftDataById=function(e){return this.allGift.find(function(t){return t.Id==e})},e.HttpGetGiftData=function(e){var t=this,n=o.default.WithUrl("room/giftConfig/?displaly="+e.display+"&version="+e.version);o.default.Get(n,{onComplete:function(e){a.default.Green(a.ClogKey.Net,"HttpGetGiftConfig:"+JSON.stringify(e.data)),0!=e.success&&t.RefreshAllGift(e.data)},onError:function(e){}})},e}();n.GiftDataManager=i,cc._RF.pop()},{"../../base/assets/script/api/http/Xhr":"Xhr","../../base/assets/script/frame/clog/Clog":"Clog","../model/GiftData":"GiftData"}],GuideControl:[function(e,t,n){"use strict";cc._RF.push(t,"672e0HDzBVO0o3Ya4ldhFDs","GuideControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseControl"),r=e("../../manager/GameDataManager"),i=e("../../util/FYCountDownMgr"),l=e("../../common/EnumCenter"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._move=null,t._angle=null,t._power=null,t._freeball=null,t.step=0,t}return o(t,e),t.prototype.Init=function(){this.initRoot(),this.initData(),this.InitComplete()},t.prototype.Reset=function(){},t.prototype.Show=function(){if(r.GameDataManager.GetCurWhoTurn()==l.EnumPlayerType.Me){if(this.step<0||3===this.step)return this._move.active=!1,this._angle.active=!1,this._power.active=!1,this._freeball.active=!1,void i.default.Instance.remove("GuideControl");this._move.active=0===this.step,this._angle.active=1===this.step,this._power.active=2===this.step,this.step++,r.GameDataManager.IsNewGuide=1}},t.prototype.ShowFreeBall=function(e){r.GameDataManager.GetCurWhoTurn()==l.EnumPlayerType.Other&&3===this.step&&(this._freeball.active=!0,this._freeball.setPosition(new cc.Vec2(e.x,e.y+50)),this.step=-1)},t.prototype.StartMoveTipsCountDown=function(){var e=this;r.GameDataManager.GetCurWhoTurn()==l.EnumPlayerType.Me&&this.step<0&&(i.default.Instance.remove("GuideControl"),i.default.Instance.add("GuideControl",10,-1,function(){e.showMove()}))},t.prototype.StartPowerTipsCountDown=function(){var e=this;r.GameDataManager.GetCurWhoTurn()==l.EnumPlayerType.Me&&this.step<0&&(i.default.Instance.remove("GuideControl"),i.default.Instance.add("GuideControl",10,-1,function(){e.showPower()}))},t.prototype.Hide=function(){this.step>0&&this.step<3&&(this.step=3),i.default.Instance.remove("GuideControl"),this._move.active=!1,this._angle.active=!1,this._power.active=!1,this._freeball.active=!1},t.prototype.initRoot=function(){this._move=cc.find("Move",this.node),this._angle=cc.find("Angle",this.node),this._power=cc.find("Power",this.node),this._freeball=cc.find("FreeBall",this.node)},t.prototype.initData=function(){1===r.GameDataManager.IsNewGuide?this.step=-1:this.step=0},t.prototype.showMove=function(){this._move.active=!0},t.prototype.showPower=function(){this._power.active=!0},t}(a.default);n.default=s,cc._RF.pop()},{"../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","../../util/FYCountDownMgr":"FYCountDownMgr","./BaseControl":"BaseControl"}],GuideLineControl:[function(e,t,n){"use strict";cc._RF.push(t,"9876bqMghBKzI6jDPZc3HOa","GuideLineControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../Constance"),i=e("../../manager/GameDataManager"),l=e("./BaseControl"),s=e("../../util/UtilityEx"),c=e("../../common/EnumCenter"),u=cc._decorator,p=u.ccclass,h=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._drawLine=null,t._drawLinePic=null,t._drawCircle=null,t._drawCirCleWhite=null,t._drawCircleRed=null,t._reflectedLine=null,t._nearestBall=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.Init=function(){this.initRoot(),this.InitComplete()},t.prototype.Reset=function(){this.Hide()},t.prototype.DrawGuideLine=function(e,t,n){this.node.active=!0,this.node.setPosition(this.node.parent.convertToNodeSpaceAR(t.node.convertToWorldSpaceAR(cc.Vec2.ZERO))),this.node.angle=e;var o=this.getGuideLineLength(e-90,n,t,r.Constance.BALL_RADIUS);this._drawLinePic.getComponent(cc.Sprite).enabled=o>0,this._drawLinePic.width=o,this._drawCircle.x=o+20.5,this._reflectedLine.x=o+20.5,this._reflectedLine.active=!1,this.drawReflectedLine(t)},t.prototype.Show=function(){this.node.active=!0},t.prototype.Hide=function(){this.node.active=!1},t.prototype.initRoot=function(){this._drawLine=cc.find("DrawLine",this.node),this._drawLinePic=cc.find("DrawLine/DrawLine",this.node),this._drawCircle=cc.find("DrawCircle",this._drawLinePic),this._drawCirCleWhite=cc.find("DrawCircle/White",this._drawLinePic),this._drawCircleRed=cc.find("DrawCircle/Red",this._drawLinePic),this._reflectedLine=cc.find("ReflectedLine",this._drawLinePic)},t.prototype.getLineEquation=function(e,t){var n=0,o=0,a=0;if(90===e)n=0,o=1,a=-t.y;else{var r=e*Math.PI/180;n=-Math.tan(r),o=1,a=Math.tan(r)*t.x-t.y}return new cc.Vec3(n,o,a)},t.prototype.getDistanceBetweenPointAndLine=function(e,t,n,o){var a=this.getLineEquation(e,n),r=a.x,i=a.y,l=a.z;return Math.abs(r*t.x+i*t.y+l)/Math.sqrt(r*r+i*i)},t.prototype.changeAngleFrom0To360=function(e){return e<0?e%360+360:e%360},t.prototype.drawReflectedLine=function(e){if(this._nearestBall){var t=e.node.parent.convertToNodeSpaceAR(this._drawCircle.convertToWorldSpaceAR(cc.Vec2.ZERO)),n=e.node.getPosition().sub(t),o=this._nearestBall.node.getPosition().sub(t),a=s.RadianToAngle(cc.v2(n).signAngle(o));this._reflectedLine.angle=a+180,this._reflectedLine.active=!0}},t.prototype.getGuideLineLength=function(e,t,n,o){for(var a=[],r=n.node.getPosition(),l=n.node.parent.convertToNodeSpaceAR(this._drawLinePic.convertToWorldSpaceAR(cc.Vec2.ZERO)),u=l.sub(n.node.getPosition()),p=0;p<t.length;p++){if((m=this.getDistanceBetweenPointAndLine(e,t[p].node.getPosition(),r,o))<2*o){var h=t[p].node.getPosition().sub(l);s.RadianToAngle(h.angle(u))<90&&a.push(p)}}if(a.length>0){var f=a[0],d=cc.Vec2.distance(t[a[0]].node.getPosition(),r);for(p=1;p<a.length;p++){var m;d>(m=cc.Vec2.distance(t[a[p]].node.getPosition(),r))&&(f=a[p],d=m)}this._nearestBall=t[f];var y=!0;8===this._nearestBall.BallNum&&i.GameDataManager.MyBallColorType!=c.EnumBallColorType.None?y=i.GameDataManager.RemainBallNumArray[0]<=1&&i.GameDataManager.GetCurWhoTurn()===c.EnumPlayerType.Me||i.GameDataManager.RemainBallNumArray[1]<=1&&i.GameDataManager.GetCurWhoTurn()===c.EnumPlayerType.Other:(y=i.GameDataManager.MyBallColorType===s.BallNumToBallColorType(this._nearestBall.BallNum)||i.GameDataManager.MyBallColorType===c.EnumBallColorType.None,i.GameDataManager.GetCurWhoTurn()===c.EnumPlayerType.Other&&(y=i.GameDataManager.MyBallColorType===c.EnumBallColorType.None||!y)),this._drawCircleRed.active=!y,this._drawCirCleWhite.active=y;var g=this.getDistanceBetweenPointAndLine(e,this._nearestBall.node.getPosition(),r,o),_=Math.sqrt(Math.abs(Math.pow(2*o,2)-Math.pow(g,2))),v=cc.Vec2.distance(this._nearestBall.node.getPosition(),r)-_-20-(P=20.5);return this._drawLinePic.width=v,v}this._drawCircleRed.active=!1,this._drawCirCleWhite.active=!0,this._nearestBall=null,this._reflectedLine.active=!1;var C=this.getLineEquation(e,r),S=C.x,b=C.y,E=-S/b,T=-C.z/b,M=E*i.GameDataManager.TableLeftBorder.x+T,B=E*i.GameDataManager.TableRightBorder.x+T,R=(i.GameDataManager.TableTopBorder.y-T)/E,w=(i.GameDataManager.TableBottomBorder.y-T)/E,I=new cc.Vec2(0,0),G=[];M<=i.GameDataManager.TableTopBorder.y&&M>=i.GameDataManager.TableBottomBorder.y&&G.push(new cc.Vec2(i.GameDataManager.TableLeftBorder.x,M)),B<=i.GameDataManager.TableTopBorder.y&&B>=i.GameDataManager.TableBottomBorder.y&&G.push(new cc.Vec2(i.GameDataManager.TableRightBorder.x,B)),R<=i.GameDataManager.TableRightBorder.x&&R>=i.GameDataManager.TableLeftBorder.x&&G.push(new cc.Vec2(R,i.GameDataManager.TableTopBorder.y)),w<=i.GameDataManager.TableRightBorder.x&&w>=i.GameDataManager.TableLeftBorder.x&&G.push(new cc.Vec2(w,i.GameDataManager.TableBottomBorder.y)),G.forEach(function(e){var t=e.sub(l);s.RadianToAngle(t.angle(u))<90&&(I=e)});var P,A=this.changeAngleFrom0To360(e),O=(P=20.5,Math.abs(Math.cos(s.AngleToRadian(A))));A>=45&&A<90?A+=90:A>=90&&A<135?A+=90:A>=135&&A<225||(A>=225&&A<315?A+=270:A>=315&&A<360||A>=0&&A<45&&(A-=180)),O=P/Math.abs(Math.cos(s.AngleToRadian(A)))+P;return cc.Vec2.distance(r,I)-20-O},t=a([p],t)}(l.default));n.default=h,cc._RF.pop()},{"../../Constance":"Constance","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","../../util/UtilityEx":"UtilityEx","./BaseControl":"BaseControl"}],HoleControl:[function(e,t,n){"use strict";cc._RF.push(t,"9e159WTTLNNZaCi9udTSUzP","HoleControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseControl"),r=e("../entity/Hole"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.Init=function(){this.node.children.forEach(function(e){e.getComponent(r.default)||e.addComponent(r.default)}),this.InitComplete()},t.prototype.Reset=function(){},t}(a.default);n.default=i,cc._RF.pop()},{"../entity/Hole":"Hole","./BaseControl":"BaseControl"}],Hole:[function(e,t,n){"use strict";cc._RF.push(t,"02b84HMHc5AIKqjcykx3Ajz","Hole");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./Ball"),i=e("../../common/EnumCenter"),l=e("../../../base/assets/script/global/SS"),s=e("../../../base/assets/script/frame/audio/AudioManager"),c=cc._decorator,u=c.ccclass,p=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onBeginContact=function(e,t,n){if(n){n.node.getComponent(r.default);n.node.getComponent(r.default).InHole(),l.SS.EventCenter.emit(i.EnumGameMessageType.InHole,this.node),s.AudioManager.PlaySound(i.EnumAudio.Pocket)}},t=a([u],t)}(cc.Component));n.default=p,cc._RF.pop()},{"../../../base/assets/script/frame/audio/AudioManager":"AudioManager","../../../base/assets/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter","./Ball":"Ball"}],InfiniteScrollView:[function(e,t,n){"use strict";cc._RF.push(t,"8fb7a7lShFFQ4z3dsUiKccD","InfiniteScrollView");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._mask=null,t._item=null,t._itemList=[],t.onScrollStart=null,t.onScrollEnd=null,t.onScroll=null,t}return o(t,e),t.prototype.Init=function(e,t,n,o,a){void 0===o&&(o=null),void 0===a&&(a=null),this._item=e,this._mask=t,this.onScroll=n,this.onScrollStart=o,this.onScrollEnd=a;for(var r=Math.ceil(this.node.height/this._item.height)+1,i=0;i<r;i++){var l=cc.instantiate(this._item);this._mask.addChild(l),l.setPosition(0,0),l.y=i*-l.height,l.active=!0,this._itemList.push(l)}this.initEvent()},t.prototype.initEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},t.prototype.moveImage=function(e){var t=this;this._itemList.forEach(function(n){n.y+=e.y,e.y>0&&n.y>t._item.height&&(n.y-=t._itemList.length*t._item.height),e.y<0&&n.y<-(t._itemList.length-1)*t._item.height&&(n.y+=t._itemList.length*t._item.height)})},t.prototype.onTouchStart=function(){this.onScrollStart&&this.onScrollStart()},t.prototype.onTouchMove=function(e){this.moveImage(e.getDelta()),this.onScroll&&this.onScroll(e.getDelta().y)},t.prototype.onTouchEnd=function(){this.onScrollEnd&&this.onScrollEnd()},t=a([i],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],LocalStorage:[function(e,t,n){"use strict";cc._RF.push(t,"8851e0VcwpE3Lt4hfBAoXpK","LocalStorage"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../audio/AudioManager"),a=e("../../util/StringUtil"),r=e("../clog/Clog"),i=function(){function e(){}return Object.defineProperty(e,"SoundVolume",{get:function(){return null==this._soundVolume&&(this._soundVolume=l.GetNumber("SoundVolume",1)),this._soundVolume},set:function(e){this._soundVolume=e,l.SetNumber("SoundVolume",this._soundVolume),o.AudioManager.SetSoundVolume(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MusicVolume",{get:function(){return null==this.musicVolume&&(this.musicVolume=l.GetNumber("MusicVolume",1)),this.musicVolume},set:function(e){this.musicVolume=e,l.SetNumber("MusicVolume",this.musicVolume),o.AudioManager.SetMusicVolume(e)},enumerable:!0,configurable:!0}),e._soundVolume=null,e.musicVolume=null,e}();n.LocalStorage=i;var l=function(){function e(){}return e.SetString=function(e,t){cc.sys.localStorage.setItem(e,t)},e.GetString=function(e,t){var n=cc.sys.localStorage.getItem(e);return null!=n?n:null==n&&null!=t?t:null},e.SetBool=function(e,t){t?cc.sys.localStorage.setItem(e,"true"):cc.sys.localStorage.setItem(e,"false")},e.GetBool=function(e,t){var n=cc.sys.localStorage.getItem(e);return"true"==n||"false"!=n&&(a.IsNullOrEmpty(n)&&null!=t?t:(!a.IsNullOrEmpty(n)||null!=t)&&void 0)},e.SetNumber=function(e,t){null!=t&&cc.sys.localStorage.setItem(e,t)},e.GetNumber=function(e,t){var n=cc.sys.localStorage.getItem(e);if(null==n&&null!=t)return r.default.Orange(r.ClogKey.LocalStorage,"LocalStorage get Number is null or empty ,return defult false!"),t;if(null==n&&null==t)return r.default.Orange(r.ClogKey.LocalStorage,"LocalStorage get Number is null ,defult is null, return -1!"),-1;var o=Number(n);return isNaN(o)?t:o},e}();cc._RF.pop()},{"../../util/StringUtil":"StringUtil","../audio/AudioManager":"AudioManager","../clog/Clog":"Clog"}],LoginData:[function(e,t,n){"use strict";cc._RF.push(t,"0c2e8XBe1JDm4LEf2uZaLFa","LoginData"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(e){void 0===e&&(e=null),this.SessionKey="",null!=e&&(this.SessionKey=e.session_key)}}();n.QQData=o;var a=function(){return function(e){void 0===e&&(e=null),this.QQData=new o,null!=e&&(this.UId=e.uid,this.Name=e.name,this.Icon=e.icon,this.Role=e.role,this.Sex=e.Sex,this.PayNum=e.pay_num,this.PayNum=e.pay_money,this.Vip=e.vip,this.VipNew=e.vip_new,this.Title=e.title,this.Birthday=e.birthday,this.Job=e.job,this.DateLine=e.dateline,this.Version=e.version,this.Longitude=e.longitude,this.Latitude=e.latitude,this.City=e.city,this.CityCode=e.city_code,this.Position=e.position,this.Sign=e.sign,this.ServerTime=e.server_time,this.Star=e.star,this.deleted=e.deleted,this.TmpIcon=e.tmp_icon,this.GodNum=e.god_num,this.Friend=e.friend,this.CashMin=e.cash_min,this.CashRate=e.cash_rate,this.GroupEnabled=e["group.enabled"],this.GameLoginToken=e.game_login_token,this.Token=e.token,this.DToken=e.dtoken)}}();n.LoginData=a,cc._RF.pop()},{}],LoginManager:[function(e,t,n){"use strict";cc._RF.push(t,"8a7159WzehNFL5qpe3Ye8LP","LoginManager");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,r){function i(e){try{s(o.next(e))}catch(e){r(e)}}function l(e){try{s(o.throw(e))}catch(e){r(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,l)}s((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(e){return function(t){return s([e,t])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/assets/script/api/http/Xhr"),i=e("../model/LoginData"),l=e("../../base/assets/script/frame/clog/Clog"),s=e("../../base/assets/script/util/StringUtil"),c=e("../common/EventCommond"),u=e("../../base/assets/script/global/SS");n.Session=new i.LoginData;var p=function(){function e(){}return e.Init=function(){this.loginData=new i.LoginData},e.Clear=function(){this.loginData=new i.LoginData},e.HasName=function(){return s.IsNullOrEmpty(this.loginData.Name)},e.Refresh=function(e){this.loginData=new i.LoginData(e)},Object.defineProperty(e,"isLogined",{get:function(){return null!=this.loginData.UId&&null!=this.loginData.Token},enumerable:!0,configurable:!0}),e.Logout=function(){this.Clear(),u.SS.EventCenter.emit(c.EventCommond.EventLogout)},e.HttpDoDebugLogin=function(){return o(this,void 0,Promise,function(){var e=this;return a(this,function(t){return[2,new Promise(function(t){return o(e,void 0,void 0,function(){var e,n,o;return a(this,function(a){switch(a.label){case 0:return e=new r.XhrUrl("ccminigame/xiyoulogin").Query({key:"debug",value:"true"}).Query({key:"uid",value:this.DebugLoignUserId.toString()}).Url,[4,r.default.GetJson(e)];case 1:return n=a.sent(),n.success||t(!1),o=new i.LoginData(n.data),l.default.Trace(l.ClogKey.Net,"Session="+JSON.stringify(o)),s.IsNullOrEmpty(o.Token)||(r.default.SetHeaderToken(o.Token),t(!0)),t(!1),[2]}})})})]})})},e.DebugLoignUserId=105000700,e}();n.LoginManager=p,cc._RF.pop()},{"../../base/assets/script/api/http/Xhr":"Xhr","../../base/assets/script/frame/clog/Clog":"Clog","../../base/assets/script/global/SS":"SS","../../base/assets/script/util/StringUtil":"StringUtil","../common/EventCommond":"EventCommond","../model/LoginData":"LoginData"}],PlatformApi:[function(e,t,n){"use strict";cc._RF.push(t,"f066fL5OsdKy7vueuuT27zN","PlatformApi"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./platform/WechatPlatform"),a=e("./platform/WebPlatform"),r=e("./platform/QQPlatform"),i=e("../global/BaseEnum"),l=e("../global/SS"),s=function(){function e(){this._platform=null}return Object.defineProperty(e.prototype,"Platform",{get:function(){if(!this._platform)switch(l.SS.CurPlatform){case i.EnumPlatform.WEB:this._platform=new a.WebPlatform;break;case i.EnumPlatform.QQ:this._platform=new r.QQPlatform;break;case i.EnumPlatform.WECHAT:this._platform=new o.WechatPlatform}return this._platform},enumerable:!0,configurable:!0}),e}();n._PlatformApi=s,n.PlatformApi=new s,cc._RF.pop()},{"../global/BaseEnum":"BaseEnum","../global/SS":"SS","./platform/QQPlatform":"QQPlatform","./platform/WebPlatform":"WebPlatform","./platform/WechatPlatform":"WechatPlatform"}],PlayerControl:[function(e,t,n){"use strict";cc._RF.push(t,"7daa3k754RFuaicTy1kBEcY","PlayerControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../base/assets/script/global/SS"),i=e("../../common/EnumCenter"),l=e("../entity/Player"),s=e("./BaseControl"),c=e("../../manager/GameDataManager"),u=cc._decorator,p=u.ccclass,h=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._playerLeft=null,t._playerRight=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.Init=function(){this.initRoot(),this.initData(),this.initEvent(),this.InitComplete()},t.prototype.Reset=function(){},t.prototype.initRoot=function(){this._playerLeft=cc.find("PlayerLeft",this.node).addComponent(l.default),this._playerRight=cc.find("PlayerRight",this.node).addComponent(l.default)},t.prototype.initData=function(){this._playerLeft.Init(i.EnumPlayerType.Me,c.GameDataManager.GameUserDataArray[0]),this._playerRight.Init(i.EnumPlayerType.Other,c.GameDataManager.GameUserDataArray[1])},t.prototype.initEvent=function(){r.SS.EventCenter.on(i.EnumGameMessageType.StartTurn,this.onTurnChange,this),r.SS.EventCenter.on(i.EnumGameMessageType.NextTurn,this.onTurnChange,this)},t.prototype.removeEvent=function(){r.SS.EventCenter.off(i.EnumGameMessageType.StartTurn,this.onTurnChange,this),r.SS.EventCenter.off(i.EnumGameMessageType.NextTurn,this.onTurnChange,this)},t.prototype.onTurnChange=function(){c.GameDataManager.GetCurWhoTurn()===i.EnumPlayerType.Me?(this._playerLeft.ShowLight(),this._playerRight.HideLight()):(this._playerRight.ShowLight(),this._playerLeft.HideLight())},t=a([p],t)}(s.default));n.default=h,cc._RF.pop()},{"../../../base/assets/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","../entity/Player":"Player","./BaseControl":"BaseControl"}],Player:[function(e,t,n){"use strict";cc._RF.push(t,"b2ac188EH5D07GcDMnchDu5","Player");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../common/EnumCenter"),i=cc._decorator,l=i.ccclass,s=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._head=null,t._labNickName=null,t._labAge=null,t._sprSex=null,t._nodeLight=null,t._nodeFemale=null,t._nodeMale=null,t.playerType=r.EnumPlayerType.Me,t.gameUserData=null,t}return o(t,e),t.prototype.onLoad=function(){this.initRoot(),this.initData()},t.prototype.initRoot=function(){this._head=cc.find("HeadMask/Head",this.node).getComponent(cc.Sprite),this._labNickName=cc.find("LabNickName",this.node).getComponent(cc.Label),this._labAge=cc.find("Sex/LabAge",this.node).getComponent(cc.Label),this._nodeLight=cc.find("Light",this.node),this._nodeFemale=cc.find("Sex/Female",this.node),this._nodeMale=cc.find("Sex/Male",this.node)},t.prototype.initData=function(){},t.prototype.Init=function(e,t){this.playerType=e,this.gameUserData=t,this._labNickName.string=this.gameUserData.Name,this._labAge.string=this.gameUserData.Age.toString(),this._nodeFemale.active=0===this.gameUserData.Sex,this._nodeMale.active=1===this.gameUserData.Sex},t.prototype.Reset=function(){this.HideLight()},t.prototype.ShowLight=function(){this._nodeLight.active=!0,this._nodeLight.stopAllActions(),cc.tween(this._nodeLight).by(1,{angle:-180}).repeatForever().start()},t.prototype.HideLight=function(){this._nodeLight.stopAllActions(),this._nodeLight.active=!1},t=a([l],t)}(cc.Component));n.default=s,cc._RF.pop()},{"../../common/EnumCenter":"EnumCenter"}],PowerControl:[function(e,t,n){"use strict";cc._RF.push(t,"f2d1c0Il2xGBKwp7QJHK95E","PowerControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../base/assets/script/global/SS"),r=e("../../common/EnumCenter"),i=e("./BaseControl"),l=e("../../manager/GameDataManager"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._powerValue=null,t._powerBallArm=null,t}return o(t,e),t.prototype.Init=function(){this.initRoot(),this.initEvent(),this.InitComplete()},t.prototype.Reset=function(){this._powerValue.fillRange=0,this._powerBallArm.y=0},t.prototype.initRoot=function(){this._powerValue=cc.find("PowerValue",this.node).getComponent(cc.Sprite),this._powerBallArm=cc.find("Mask/PowerBallArm",this.node)},t.prototype.initEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},t.prototype.onLoad=function(){},t.prototype.onTouchStart=function(){a.SS.EventCenter.emit(r.EnumGameMessageType.PowerValueChangeStart)},t.prototype.onTouchMove=function(e){l.GameDataManager.GameState==r.EnumGameState.ReadyToHit&&(this._powerValue.fillRange+=e.getDelta().y/this._powerValue.node.height,this._powerValue.fillRange<-1&&(this._powerValue.fillRange=-1),this._powerValue.fillRange>=0&&(this._powerValue.fillRange=0),a.SS.EventCenter.emit(r.EnumGameMessageType.PowerValueChange,Math.abs(this._powerValue.fillRange)),this._powerBallArm.y=-340*Math.abs(this._powerValue.fillRange))},t.prototype.onTouchEnd=function(){l.GameDataManager.GameState==r.EnumGameState.ReadyToHit&&(a.SS.EventCenter.emit(r.EnumGameMessageType.PowerValueChangeEnd,Math.abs(this._powerValue.fillRange)),this._powerValue.fillRange=0,this._powerBallArm.y=0)},t.prototype.onTouchCancel=function(){l.GameDataManager.GameState==r.EnumGameState.ReadyToHit&&(a.SS.EventCenter.emit(r.EnumGameMessageType.PowerValueChangeEnd,Math.abs(this._powerValue.fillRange)),this._powerValue.fillRange=0,this._powerBallArm.y=0)},t}(i.default);n.default=s,cc._RF.pop()},{"../../../base/assets/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","./BaseControl":"BaseControl"}],QQPlatform:[function(e,t,n){"use strict";cc._RF.push(t,"db6d1oHMY1AzIWcqcOE7jUE","QQPlatform");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BasePlatform"),r=e("../../global/SS"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.Login=function(){return new Promise(function(e){console.warn("qq login"),r.qq.login({success:function(t){console.warn("qq login success",t),t.errMsg.endsWith(":ok")?e({code:t.code}):e(t.errMsg)},fail:function(t){console.warn("qq login error",t),e("qq\u767b\u5f55\u5931\u8d25")}})})},t.prototype.GetUserInfo=function(){return new Promise(function(e){r.qq.getUserInfo({withCredentials:!0,success:function(t){t.errMsg.endsWith(":ok")?e(t):e(t.errMsg)},fail:function(t){e("\u83b7\u53d6qq\u7528\u6237\u4fe1\u606f\u5931\u8d25")}})})},t.prototype.GetSystemInfoSync=function(){try{return r.qq.getSystemInfoSync()}catch(e){return console.warn("qq get system info sync error",e),null}},t.prototype.GetUserDataPath=function(){return r.qq.env.USER_DATA_PATH},t.prototype.Access=function(e){var t=r.qq.getFileSystemManager();try{return t.accessSync(e),!0}catch(e){return!1}},t.prototype.MakeDir=function(e){var t=r.qq.getFileSystemManager();try{return t.mkdirSync(e),!0}catch(e){return!1}},t.prototype.ReadDir=function(e){try{return r.qq.getFileSystemManager().readdirSync(e)}catch(e){return[]}},t.prototype.RemoveDir=function(e){var t=r.qq.getFileSystemManager();try{return t.rmdirSync(e,!0),!0}catch(e){return!1}},t.prototype.WriteFile=function(e,t){var n=r.qq.getFileSystemManager();try{return n.writeFileSync(e,t,"utf-8"),!0}catch(e){return!1}},t.prototype.ReadFile=function(e){var t="";try{t=r.qq.getFileSystemManager().readFileSync(e,"utf-8")}catch(t){console.warn("readFile "+e+" error",JSON.stringify(t))}return t},t.prototype.RemoveFile=function(e){var t=r.qq.getFileSystemManager();try{return t.unlinkSync(e),!0}catch(e){return!1}},t.prototype.SetStorage=function(e,t){try{return r.qq.setStorageSync(e,t),!0}catch(e){return!1}},t.prototype.GetStorage=function(e){try{return r.qq.getStorageSync(e)}catch(e){return""}},t.prototype.RemoveStorage=function(e){try{return r.qq.removeStorageSync(e),!0}catch(e){return!1}},t}(a.BasePlatform);n.QQPlatform=i,cc._RF.pop()},{"../../global/SS":"SS","./BasePlatform":"BasePlatform"}],ResManager:[function(e,t,n){"use strict";cc._RF.push(t,"1d9c2oYCF9GhJRcQB0J3XZo","ResManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../util/StringUtil"),a=function(){function e(){}return e.prototype.getUrlByName=function(e){return window.ResourcesPath.hasOwnProperty(e)?window.ResourcesPath[e]:e},e.prototype.LoadRes=function(e,t,n){var a=this.getUrlByName(e);o.IsNullOrEmpty(a)||cc.loader.loadRes(a,t,n)},e.prototype.Release=function(e){var t=this.getUrlByName(e);o.IsNullOrEmpty(t)||cc.loader.releaseRes(t)},e}();n.ResManager=new a,cc._RF.pop()},{"../../util/StringUtil":"StringUtil"}],ResUtil:[function(e,t,n){"use strict";cc._RF.push(t,"3f9dbW3CKJNwrqyf0gtQiLi","ResUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../clog/Clog"),a=e("../../util/StringUtil"),r=e("./ResManager"),i=function(){function e(){}return e.prototype.SetHeadIcon=function(e,t){null!=t?a.CheckNetUrl(e)?this.LoadNetImage(e,t):this.ChangeSprite(e,t):o.default.Error("iconSprite is null ")},e.prototype.LoadNetImage=function(e,t){if(a.IsNullOrEmpty(e))o.default.Warn(o.ClogKey.Res,"LoadNetImg Path Error:"+e);else if(a.CheckNetUrl(e)){var n=e.lastIndexOf("/"),r=e.slice(0,n)+"/0";cc.loader.load({url:r,type:"jpg"},function(e,n){if(e)o.default.Warn(o.ClogKey.Res,"LoadNetImg load error,error:"+e);else if(null!=t.node){var a=new cc.SpriteFrame(n);t.spriteFrame=a}else o.default.Error("LoadNetImg load error>>>>>>>>obj.node==null")})}},e.prototype.ChangeSprite=function(e,t){null!=t&&(a.IsNullOrEmpty(e)?o.default.Error("ChangeSprite name is Empty!"):null!=t.spriteFrame&&t.spriteFrame.name==e||r.ResManager.LoadRes(e,cc.SpriteFrame,function(n,a){n?o.default.Error("ChangeSprite Error!, name:"+e+",err"+JSON.stringify(n)):t.isValid&&(t.spriteFrame=a)}))},e}();n.ResUtil=new i,cc._RF.pop()},{"../../util/StringUtil":"StringUtil","../clog/Clog":"Clog","./ResManager":"ResManager"}],RoomData:[function(e,t,n){"use strict";cc._RF.push(t,"41d5cVEAAVISKbaYF+DAOeV","RoomData"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(e){void 0===e&&(e=null),null!=e&&(this.RoomId=e.rid,this.UId=e.uid,this.Prefix=e.prefix,this.RoomName=e.name,this.Icon=e.icon)}}();n.Room=o,cc._RF.pop()},{}],RoomManager:[function(e,t,n){"use strict";cc._RF.push(t,"1ed18/kdZBJ9aiIVOHl5CYz","RoomManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../model/RoomData"),a=e("../../base/assets/script/api/http/Xhr"),r=e("../../base/assets/script/frame/clog/Clog"),i=function(){function e(){}return e.RefreshAllRoom=function(e){this.AllRoom=new Array;for(var t=0;t<e.length;t++){var n=e[t],a=new o.Room(n);this.AllRoom.push(a)}},e.GetRoomById=function(e){return this.AllRoom.find(function(t){return t.RoomId==e})},e.HttpGetRoomList=function(){var e=this;a.default.Get("room/list",{onComplete:function(t){t.success&&e.RefreshAllRoom(t.data)},onError:function(e){r.default.Error(e)}})},e.AllRoom=new Array,e}();n.RoomManager=i,cc._RF.pop()},{"../../base/assets/script/api/http/Xhr":"Xhr","../../base/assets/script/frame/clog/Clog":"Clog","../model/RoomData":"RoomData"}],SS:[function(e,t,n){"use strict";cc._RF.push(t,"bf027hc+f9Da4q9x/jPB7OU","SS"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./BaseEnum");n.qq=window.qq,n.wx=window.wx,n.AgoraRTC=window.AgoraRTC,n.ResourcesPath=window.ResourcesPath||{};var a=function(){function e(){}return Object.defineProperty(e,"SocketUrl",{get:function(){return this.IsDevMode?"wss://dev.iambanban.com:8545":"wss://websocket.iambanban.com:8545"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ImageUrlProxy",{get:function(){return"https://xs-image-proxy.oss-cn-hangzhou.aliyuncs.com/"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ImageUrlUnProxy",{get:function(){return"https://xs-image.oss-cn-hangzhou.aliyuncs.com/"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CurPlatformStr",{get:function(){switch(e.CurPlatform){case o.EnumPlatform.QQ:return o.EnumPlatformStr.QQ;case o.EnumPlatform.WEB:return o.EnumPlatformStr.WEB;case o.EnumPlatform.WECHAT:return o.EnumPlatformStr.WECHAT;case o.EnumPlatform.NONE:default:return o.EnumPlatformStr.NONE}},enumerable:!0,configurable:!0}),e.EventCenter=new cc.EventTarget,e.IsDevMode=!1,e}();n.SS=a,cc._RF.pop()},{"./BaseEnum":"BaseEnum"}],StringUtil:[function(e,t,n){"use strict";cc._RF.push(t,"39a65o+9qtOIJSoGz01RQaS","StringUtil"),Object.defineProperty(n,"__esModule",{value:!0}),n.CheckNetUrl=function(e){return/^http[s]*:\/\//.test(e)},n.IsNullOrEmpty=function(e){return null==e||""===e},n.MapToString=function(e){return JSON.stringify(Array.from(e.entries()).reduce(function(e,t){var n=t[0],o=t[1];return e[n]=o,e},{}))},n.StringLimit=function(e,t){for(var n=0,o=0,a=0;a<e.length;a++)n>=t&&0==o&&(o=a),escape(e[a]).indexOf("%u")<0?n+=1:n+=2;return n<=t?e:e.slice(0,o)+"..."},cc._RF.pop()},{}],SyncPromise:[function(e,t,n){"use strict";cc._RF.push(t,"9932f6+3n5LBZfKlOUPgc/U","SyncPromise"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}}();n.SyncPromise=o,cc._RF.pop()},{}],TableControl:[function(e,t,n){"use strict";cc._RF.push(t,"a2f4emC/6JIqrAwGDq66Cd2","TableControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../base/assets/script/global/SS"),r=e("../../common/EnumCenter"),i=e("./BaseControl"),l=e("../../manager/GameDataManager"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.Init=function(){this.initEvent(),this.InitComplete()},t.prototype.Reset=function(){},t.prototype.initEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},t.prototype.removeEvent=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},t.prototype.onLoad=function(){},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.onTouchStart=function(e){a.SS.EventCenter.emit(r.EnumGameMessageType.TableTouchStart)},t.prototype.onTouchMove=function(e){var t=e.getLocation(),n=l.GameDataManager.GetWinSize();a.SS.EventCenter.emit(r.EnumGameMessageType.TableTouchMove,e.getDelta(),new cc.Vec2(t.x-n.width/2,t.y-n.height/2))},t.prototype.onTouchEnd=function(e){var t=e.getLocation(),n=l.GameDataManager.GetWinSize();a.SS.EventCenter.emit(r.EnumGameMessageType.TableTouchEnd,e.getDelta(),new cc.Vec2(t.x-n.width/2,t.y-n.height/2))},t}(i.default);n.default=s,cc._RF.pop()},{"../../../base/assets/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","./BaseControl":"BaseControl"}],TargetBallControl:[function(e,t,n){"use strict";cc._RF.push(t,"0a1577nHE5KyLeG5AoXxjJs","TargetBallControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../base/assets/script/global/SS"),r=e("../../common/EnumCenter"),i=e("../entity/TargetBall"),l=e("./BaseControl"),s=e("../../manager/GameDataManager"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ourTargetBall=null,t._theirTargetBall=null,t.ballInHoleNumArray=[],t}return o(t,e),t.prototype.Init=function(){this.initRoot(),this.initEvent(),this.initData(),this.InitComplete()},t.prototype.Reset=function(){this.ballInHoleNumArray=[],this._ourTargetBall.Reset(),this._theirTargetBall.Reset()},t.prototype.GetOurRemainBallNum=function(){return this._ourTargetBall.GetRemainBallNum()},t.prototype.GetTheirRemainBallNum=function(){return this._theirTargetBall.GetRemainBallNum()},t.prototype.ResetToLastRoundValue=function(e){var t=this;this.ballInHoleNumArray=[],e.forEach(function(e){e.GetBallState()===r.EnumBallState.InHole&&t.ballInHoleNumArray.push(e.BallNum)}),this.checkBallInHole()},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.initRoot=function(){this._ourTargetBall=cc.find("OurTargetBall",this.node).addComponent(i.default),this._theirTargetBall=cc.find("TheirTargetBall",this.node).addComponent(i.default)},t.prototype.initData=function(){this._ourTargetBall.Init(),this._theirTargetBall.Init()},t.prototype.initEvent=function(){a.SS.EventCenter.on(r.EnumGameMessageType.ConfirmBallColorType,this.onConfirmBallColorType,this),a.SS.EventCenter.on(r.EnumGameMessageType.BallInHole,this.onBallInHole,this)},t.prototype.removeEvent=function(){a.SS.EventCenter.off(r.EnumGameMessageType.ConfirmBallColorType,this.onConfirmBallColorType,this),a.SS.EventCenter.off(r.EnumGameMessageType.BallInHole,this.onBallInHole,this)},t.prototype.checkBallInHole=function(){this._ourTargetBall.CheckBallInHole(this.ballInHoleNumArray),this._theirTargetBall.CheckBallInHole(this.ballInHoleNumArray),s.GameDataManager.RemainBallNumArray[0]=this._ourTargetBall.GetRemainBallNum(),s.GameDataManager.RemainBallNumArray[1]=this._theirTargetBall.GetRemainBallNum()},t.prototype.onConfirmBallColorType=function(e){this._ourTargetBall.SetBallColorType(e),this._theirTargetBall.SetBallColorType(e===r.EnumBallColorType.Half?r.EnumBallColorType.Full:r.EnumBallColorType.Half),this.checkBallInHole()},t.prototype.onBallInHole=function(e){0!==e&&8!==e&&8!=e&&(this.ballInHoleNumArray.push(e),this.checkBallInHole())},t}(l.default);n.default=c,cc._RF.pop()},{"../../../base/assets/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","../entity/TargetBall":"TargetBall","./BaseControl":"BaseControl"}],TargetBallTexture:[function(e,t,n){"use strict";cc._RF.push(t,"d5de231NcZLvKAgOM1yj3Ww","TargetBallTexture");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,l=r.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.targetBallArray=[],t}return o(t,e),a([l(Array(cc.SpriteFrame))],t.prototype,"targetBallArray",void 0),t=a([i],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],TargetBall:[function(e,t,n){"use strict";cc._RF.push(t,"51357zRivVPiJeYou9Vkauc","TargetBall");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../common/EnumCenter"),r=e("../../Constance"),i=e("./TargetBallTexture"),l=e("../../util/UtilityEx"),s=e("../../manager/GameDataManager"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ballSpriteArray=[],t._ballNumArray=[],t._targetBallTexture=null,t.ballColorType=a.EnumBallColorType.None,t.isShowBall8=!1,t}return o(t,e),t.prototype.Init=function(){this.initRoot(),this.initData()},t.prototype.Reset=function(){this.initData(),this.ballColorType=a.EnumBallColorType.None,this._ballNumArray=[],this.isShowBall8=!1},t.prototype.SetBallColorType=function(e){this.ballColorType=e;for(var t=0;t<r.Constance.BALL_COUNT/2;t++)this.ballColorType===a.EnumBallColorType.Full?this._ballNumArray.push(t+1):this._ballNumArray.push(t+8);this.refreshBallSprite()},t.prototype.ShowBallEight=function(){this.isShowBall8=!0,this.refreshBallSprite()},t.prototype.PopBall=function(e){l.BallNumToBallColorType(e)===this.ballColorType&&(this.ballColorType===a.EnumBallColorType.Full?this._ballNumArray[e-1]=-1:this._ballNumArray[e%8]=-1),this.refreshBallSprite()},t.prototype.CheckBallInHole=function(e){var t=this;e.forEach(function(e){l.BallNumToBallColorType(e)===t.ballColorType&&(t.ballColorType===a.EnumBallColorType.Full?t._ballNumArray[e-1]=-1:t._ballNumArray[e%8]=-1)}),1===this.GetRemainBallNum()&&s.GameDataManager.MyBallColorType!=a.EnumBallColorType.None?this.ShowBallEight():this.refreshBallSprite()},t.prototype.GetRemainBallNum=function(){var e=0;return this._ballNumArray.forEach(function(t){-1!=t&&e++}),e},t.prototype.initRoot=function(){var e=this;cc.find("Container",this.node).children.forEach(function(t){e._ballSpriteArray.push(t.getComponent(cc.Sprite))}),this._targetBallTexture=this.getComponent(i.default)},t.prototype.initData=function(){for(var e=0;e<this._ballSpriteArray.length;e++)this._ballSpriteArray[e].spriteFrame=null},t.prototype.refreshBallSprite=function(){for(var e=0,t=0;e<this._ballSpriteArray.length;e++,t++)-1===this._ballNumArray[t]||!this.isShowBall8&&8===this._ballNumArray[t]?e--:t<this._ballNumArray.length?this._ballSpriteArray[e].spriteFrame=this._targetBallTexture.targetBallArray[this._ballNumArray[t]-1]:this._ballSpriteArray[e].spriteFrame=null},t}(cc.Component);n.default=c,cc._RF.pop()},{"../../Constance":"Constance","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","../../util/UtilityEx":"UtilityEx","./TargetBallTexture":"TargetBallTexture"}],Time:[function(e,t,n){"use strict";cc._RF.push(t,"f6b3b9v/0pMN4fkk4FuF3QF","Time"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.Format=function(e,t){void 0===t&&(t="yyyy/MM/dd hh:mm:ss");var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var o in/(y+)/i.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return t},e.TimestampToTime=function(e){return this.Format(new Date(e))},e}();n.Time=o,cc._RF.pop()},{}],UIBaseManager:[function(e,t,n){"use strict";cc._RF.push(t,"19a2aLAaSJNU7i8+PuCUQvb","UIBaseManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(){}}();n.UIBaseManager=o,cc._RF.pop()},{}],UIBase:[function(e,t,n){"use strict";cc._RF.push(t,"5f30bFyCudNKqCFTbfjrSSS","UIBase");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("./UIEnum"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.HierarchyType=a.EnumUIHierarchy.Normal,t.OpenTween=a.EnumUIOpenTween.None,t.CloseTween=a.EnumUICloseTween.None,t}return o(t,e),t.prototype.onLoad=function(){this.Mask=cc.find("UIMask",this.node)},t}(cc.Component);n.UIBase=r,cc._RF.pop()},{"./UIEnum":"UIEnum"}],UIEnum:[function(e,t,n){"use strict";cc._RF.push(t,"907a8KqOlpN4YSAjGUrZUj4","UIEnum"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.Base=0]="Base",e[e.Normal=1e4]="Normal",e[e.Fix=2e4]="Fix",e[e.Marquee=20100]="Marquee",e[e.Tip=20200]="Tip",e[e.Loading=20300]="Loading",e[e.Waiting=20400]="Waiting",e[e.NetDlg=20500]="NetDlg",e[e.Toast=20600]="Toast",e[e.FrameMask=20700]="FrameMask"}(n.EnumUIHierarchy||(n.EnumUIHierarchy={})),function(e){e.None="None",e.Scale="Scale",e.FadeIn="FadeIn",e.PullUp="PullUp"}(n.EnumUIOpenTween||(n.EnumUIOpenTween={})),function(e){e.None="None",e.Scale="Scale",e.FadeOut="FadeOut",e.PullDown="PullDown"}(n.EnumUICloseTween||(n.EnumUICloseTween={})),cc._RF.pop()},{}],UIEventCenter:[function(e,t,n){"use strict";cc._RF.push(t,"ff6c3Uc22ZLh6jru7oHR5Iq","UIEventCenter"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../frame/audio/AudioManager"),a=e("./StringUtil"),r=function(){function e(){}return e.ButtonEvent=function(e,t,n,r){void 0===n&&(n="S_Button"),void 0===r&&(r=.4),e.node.on("click",function(){e.interactable&&(a.IsNullOrEmpty(n)||o.AudioManager.PlaySound(n),r>0&&(e.interactable=!1,window.setTimeout(function(){e&&(e.interactable=!0)},1e3*r)),t())})},e.TouchNodeStart=function(e,t){e.on(cc.Node.EventType.TOUCH_START,function(e){t(e)})},e.TouchNodeEnd=function(e,t){e.on(cc.Node.EventType.TOUCH_END,function(e){t(e)})},e.TouchNodeCancel=function(e,t){e.on(cc.Node.EventType.TOUCH_CANCEL,function(e){t(e)})},e.TouchNodeMove=function(e,t){e.on(cc.Node.EventType.TOUCH_MOVE,function(e){t(e)})},e.ScrollSelect=function(){},e}();n.UIEventCenter=r,cc._RF.pop()},{"../frame/audio/AudioManager":"AudioManager","./StringUtil":"StringUtil"}],UIGameManager:[function(e,t,n){"use strict";cc._RF.push(t,"227a2Dx/kdI75poTFuz//yV","UIGameManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,r){function i(e){try{s(o.next(e))}catch(e){r(e)}}function l(e){try{s(o.throw(e))}catch(e){r(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,l)}s((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(e){return function(t){return s([e,t])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../base/assets/script/frame/ui/UIManager"),l=e("../view/game/UIGame"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.OpenUI=function(){return a(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,i.UIManager.OpenUI(l.default)];case 1:return e.sent(),[2]}})})},t.prototype.CloseUI=function(){i.UIManager.CloseUI(l.default)},t.prototype.Reset=function(){},t}(e("./UIBaseManager").UIBaseManager);n.default=s,n.UIGameManager=new s,cc._RF.pop()},{"../../base/assets/script/frame/ui/UIManager":"UIManager","../view/game/UIGame":"UIGame","./UIBaseManager":"UIBaseManager"}],UIGame:[function(e,t,n){"use strict";cc._RF.push(t,"8a1c9+1xmhD6YxV1oUi28UD","UIGame");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../base/assets/script/frame/clog/Clog"),r=e("../../../base/assets/script/frame/ui/UIBase"),i=e("../../../base/assets/script/frame/ui/UIEnum"),l=e("../../../base/assets/script/global/SS"),s=e("../../common/EnumCenter"),c=e("../../Constance"),u=e("../../game/ctl/AngleControl"),p=e("../../game/ctl/BallControl"),h=e("../../game/ctl/CountDownControl"),f=e("../../game/ctl/CueControl"),d=e("../../game/ctl/EndBallControl"),m=e("../../game/ctl/FreeBallControl"),y=e("../../game/ctl/GameTipsControl"),g=e("../../game/ctl/GuideLineControl"),_=e("../../game/ctl/HoleControl"),v=e("../../game/ctl/PlayerControl"),C=e("../../game/ctl/PowerControl"),S=e("../../game/ctl/TableControl"),b=e("../../game/ctl/TargetBallControl"),E=e("../../manager/GameDataManager"),T=e("../../manager/UIGameManager"),M=e("../../manager/UIResultManager"),B=e("../../util/CollitionFixForce"),R=e("../../util/UtilityEx"),w=e("../../game/ctl/VsControl"),I=e("../../game/ctl/EffectControl"),G=e("../../game/entity/EffectInHole"),P=e("../../game/ctl/GuideControl"),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.PrefabName="P_UIGame",t.OpenTween=i.EnumUIOpenTween.None,t.CloseTween=i.EnumUICloseTween.None,t._bg=null,t._animVS=null,t._angleControl=null,t._cueControl=null,t._tableControl=null,t._powerControl=null,t._ballControl=null,t._guideLineControl=null,t._endBallControl=null,t._playerControl=null,t._holeControl=null,t._gameTipControl=null,t._targetBallControl=null,t._freeBallControl=null,t._countDownControl=null,t._vsControl=null,t._effectControl=null,t._guideControl=null,t._controlArray=[],t._btnReset=null,t.controlCount=0,t.curInitCount=0,t.canHit=!0,t.curRule=s.EnumRuleType.Continue,t.linkNum=0,t.firstHitBallNum=-1,t.isBallEightInHole=!1,t.isMyBallInHole=!1,t.isHisBallInHole=!1,t.isWhiteBallInHole=!1,t.firstInHoleBallNum=-1,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.setupPhysicsManager(),this.curInitCount=0,this.initRoot(),this.initEvent(),this.initData(),this.selfAdaption(),this.initControl()},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.start=function(){},t.prototype.selfAdaption=function(){cc.find("Canvas").getComponent(cc.Canvas);var e=E.GameDataManager.GetWinSize().height/E.GameDataManager.GetWinSize().width,t=1;e>16/9?t=e/(16/9):e<16/9&&(t=16/9/e),this._bg.node.scale=t},t.prototype.setupPhysicsManager=function(){var e=cc.director.getPhysicsManager();e.enabled=!0,e.gravity=cc.v2(0,0),e.enabledAccumulator=!1},t.prototype.initData=function(){E.GameDataManager.TableSize.x=this._tableControl.node.getContentSize().width,E.GameDataManager.TableSize.y=this._tableControl.node.getContentSize().height,E.GameDataManager.TableLeftBorder=cc.find("Table/Border/Left",this.node).getPosition(),E.GameDataManager.TableRightBorder=cc.find("Table/Border/Right",this.node).getPosition(),E.GameDataManager.TableTopBorder=cc.find("Table/Border/Top",this.node).getPosition(),E.GameDataManager.TableBottomBorder=cc.find("Table/Border/Bottom",this.node).getPosition()},t.prototype.initEvent=function(){l.SS.EventCenter.on(s.EnumGameMessageType.GameInit,this.onGameInit,this),l.SS.EventCenter.on(s.EnumGameMessageType.BallMoveEnd,this.onBallMoveEnd,this),l.SS.EventCenter.on(s.EnumGameMessageType.BallInHole,this.onBallInHole,this),l.SS.EventCenter.on(s.EnumGameMessageType.GameAgain,this.onGameAgain,this),l.SS.EventCenter.on(s.EnumGameMessageType.StartTurn,this.onStartTurn,this),l.SS.EventCenter.on(s.EnumGameMessageType.NextTurn,this.onNextTurn,this),l.SS.EventCenter.on(s.EnumGameMessageType.WhiteBallCollition,this.onWhiteBallCollition,this),l.SS.EventCenter.on(s.EnumGameMessageType.GameEnd,this.onGameEnd,this),l.SS.EventCenter.on(s.EnumGameMessageType.PlayerCountDownComplete,this.onPlayerCountDownComplete,this),l.SS.EventCenter.on(s.EnumGameMessageType.FreeBallPut,this.onFreeBallPut,this),l.SS.EventCenter.on(s.EnumGameMessageType.AngleChangeStart,this.onAngleChangeStart,this),l.SS.EventCenter.on(s.EnumGameMessageType.AngleChange,this.onAngleChange,this),l.SS.EventCenter.on(s.EnumGameMessageType.AngleChangeEnd,this.onAngleChangeEnd,this),l.SS.EventCenter.on(s.EnumGameMessageType.CueHitComplete,this.onCueHitComplete,this),l.SS.EventCenter.on(s.EnumGameMessageType.TableTouchStart,this.onTableTouchStart,this),l.SS.EventCenter.on(s.EnumGameMessageType.TableTouchMove,this.onTableTouchMove,this),l.SS.EventCenter.on(s.EnumGameMessageType.TableTouchEnd,this.onTableTouchEnd,this),l.SS.EventCenter.on(s.EnumGameMessageType.PowerValueChangeStart,this.onPowerValueChangeStart,this),l.SS.EventCenter.on(s.EnumGameMessageType.PowerValueChange,this.onPowerValueChange,this),l.SS.EventCenter.on(s.EnumGameMessageType.PowerValueChangeEnd,this.onPowerValueChangeEnd,this),l.SS.EventCenter.on(s.EnumGameMessageType.ClickBall,this.onClickBall,this),l.SS.EventCenter.on(s.EnumGameMessageType.GameStateChange,this.onGameStateChange,this),l.SS.EventCenter.on(s.EnumGameMessageType.VsAnimFinish,this.onVsAnimFinish,this),l.SS.EventCenter.on(s.EnumGameMessageType.InHole,this.onInHole,this),this._btnReset.on(cc.Node.EventType.TOUCH_END,function(){l.SS.EventCenter.emit(s.EnumGameMessageType.GameAgain)},this)},t.prototype.removeEvent=function(){l.SS.EventCenter.off(s.EnumGameMessageType.GameInit,this.onGameInit,this),l.SS.EventCenter.off(s.EnumGameMessageType.BallMoveEnd,this.onBallMoveEnd,this),l.SS.EventCenter.off(s.EnumGameMessageType.BallInHole,this.onBallInHole,this),l.SS.EventCenter.off(s.EnumGameMessageType.GameAgain,this.onGameAgain,this),l.SS.EventCenter.off(s.EnumGameMessageType.StartTurn,this.onStartTurn,this),l.SS.EventCenter.off(s.EnumGameMessageType.NextTurn,this.onNextTurn,this),l.SS.EventCenter.off(s.EnumGameMessageType.WhiteBallCollition,this.onWhiteBallCollition,this),l.SS.EventCenter.off(s.EnumGameMessageType.GameEnd,this.onGameEnd,this),l.SS.EventCenter.off(s.EnumGameMessageType.PlayerCountDownComplete,this.onPlayerCountDownComplete,this),l.SS.EventCenter.off(s.EnumGameMessageType.FreeBallPut,this.onFreeBallPut,this),l.SS.EventCenter.off(s.EnumGameMessageType.AngleChangeStart,this.onAngleChangeStart,this),l.SS.EventCenter.off(s.EnumGameMessageType.AngleChange,this.onAngleChange,this),l.SS.EventCenter.off(s.EnumGameMessageType.AngleChangeEnd,this.onAngleChangeEnd,this),l.SS.EventCenter.off(s.EnumGameMessageType.CueHitComplete,this.onCueHitComplete,this),l.SS.EventCenter.off(s.EnumGameMessageType.TableTouchStart,this.onTableTouchStart,this),l.SS.EventCenter.off(s.EnumGameMessageType.TableTouchMove,this.onTableTouchMove,this),l.SS.EventCenter.off(s.EnumGameMessageType.TableTouchEnd,this.onTableTouchEnd,this),l.SS.EventCenter.off(s.EnumGameMessageType.PowerValueChangeStart,this.onPowerValueChangeStart,this),l.SS.EventCenter.off(s.EnumGameMessageType.PowerValueChange,this.onPowerValueChange,this),l.SS.EventCenter.off(s.EnumGameMessageType.PowerValueChangeEnd,this.onPowerValueChangeEnd,this),l.SS.EventCenter.off(s.EnumGameMessageType.ClickBall,this.onClickBall,this),l.SS.EventCenter.off(s.EnumGameMessageType.GameStateChange,this.onGameStateChange,this),l.SS.EventCenter.off(s.EnumGameMessageType.VsAnimFinish,this.onVsAnimFinish,this),l.SS.EventCenter.off(s.EnumGameMessageType.InHole,this.onInHole,this)},t.prototype.getControl=function(e,t){this.controlCount++;var n=cc.find(e,this.node).addComponent(t);return this._controlArray.push(n),n},t.prototype.initRoot=function(){this._bg=cc.find("Bg",this.node).getComponent(cc.Sprite),this._angleControl=this.getControl("Angle",u.default),this._cueControl=this.getControl("Cue",f.default),this._tableControl=this.getControl("Table",S.default),this._powerControl=this.getControl("Power",C.default),this._ballControl=this.getControl("Table/Balls",p.default),this._guideLineControl=this.getControl("GuideLine",g.default),this._endBallControl=this.getControl("EndBall",d.default),this._playerControl=this.getControl("PlayerContainer",v.default),this._holeControl=this.getControl("Table/Holes",_.default),this._gameTipControl=this.getControl("GameTips",y.default),this._targetBallControl=this.getControl("TargetBall",b.default),this._freeBallControl=this.getControl("Table/FreeBall",m.default),this._countDownControl=this.getControl("CountDown",h.default),this._vsControl=this.getControl("VS",w.default),this._effectControl=this.getControl("EffectContainer",I.default),this._guideControl=this.getControl("Guide",P.default),cc.find("Table/Border/Top",this.node).addComponent(B.default).SetFixForce(new cc.Vec2(0,-c.Constance.BORDER_FIX_POWER)),cc.find("Table/Border/Left",this.node).addComponent(B.default).SetFixForce(new cc.Vec2(c.Constance.BORDER_FIX_POWER,0)),cc.find("Table/Border/Right",this.node).addComponent(B.default).SetFixForce(new cc.Vec2(-c.Constance.BORDER_FIX_POWER,0)),cc.find("Table/Border/Bottom",this.node).addComponent(B.default).SetFixForce(new cc.Vec2(0,c.Constance.BORDER_FIX_POWER)),this._btnReset=cc.find("BtnReset",this.node)},t.prototype.initControl=function(){this._controlArray.forEach(function(e){e.Init()})},t.prototype.resetControl=function(){this._controlArray.forEach(function(e){e.Reset()})},t.prototype.reset=function(){this.linkNum=0,this.firstHitBallNum=-1,this.isBallEightInHole=!1,this.isMyBallInHole=!1,this.isHisBallInHole=!1,this.isWhiteBallInHole=!1,this.firstInHoleBallNum=-1,this.canHit=!0,this.curRule=s.EnumRuleType.Continue,E.GameDataManager.Reset(),M.UIResultManager.Reset(),T.UIGameManager.Reset(),this.resetControl(),this._ballControl.EnableWhiteBall(!0),this._freeBallControl.HideFreeBall()},t.prototype.startGame=function(){E.GameDataManager.IsGameStart=!0;var e=this._cueControl.node.parent.convertToNodeSpaceAR(this._ballControl.GetWhiteBallPos());a.default.Trace(a.ClogKey.UI,"onGameInit position = "+e),this._cueControl.Show(e),this._guideLineControl.DrawGuideLine(-180,this._ballControl.GetWhiteBall(),this._ballControl.GetAllActiveBall()),E.GameDataManager.StartTurn()},t.prototype.checkAllBallMoveEnd=function(){if(E.GameDataManager.IsGameStart&&(a.default.Trace(a.ClogKey.UI,"GetAllBallState = "+this._ballControl.GetAllBallState()),this._ballControl.IsAllBallMoveEnd()&&!this.canHit)){this.canHit=!0;var e=this._cueControl.node.parent.convertToNodeSpaceAR(this._ballControl.GetWhiteBallPos());a.default.Trace(a.ClogKey.UI,"checkAllBallMoveEnd position = "+e),this.checkRule(),this.curRule!=s.EnumRuleType.FreeBall&&(this._cueControl.Show(e),this._guideLineControl.DrawGuideLine(this._cueControl.node.angle,this._ballControl.GetWhiteBall(),this._ballControl.GetAllActiveBall())),this._ballControl.SaveLastRoundValue(),E.GameDataManager.GameState===s.EnumGameState.HitBall&&(E.GameDataManager.GameState=s.EnumGameState.ReadyToHit)}},t.prototype.showFreeBall=function(){this._guideControl.ShowFreeBall(this._ballControl.GetWhiteBallLocalPos()),E.GameDataManager.GameState=s.EnumGameState.FreeBallIdle,this.curRule=s.EnumRuleType.FreeBall,this._gameTipControl.ShowGameTip(s.EnumGameTipsType.Foul),this._freeBallControl.ShowFreeBall(this._ballControl.GetWhiteBallLocalPos(),this._ballControl.GetAllActiveBallPos()),this._ballControl.EnableWhiteBall(!1),E.GameDataManager.NextTurn(45)},t.prototype.resetToLastRoundValue=function(){this._ballControl.ResetToLastRoundValue(),this._targetBallControl.ResetToLastRoundValue(this._ballControl.GetAllBall()),this._endBallControl.ResetToLastRoundValue(this._ballControl.GetAllBall())},t.prototype.checkBallEightInHole=function(){E.GameDataManager.GetCurWhoTurn()===s.EnumPlayerType.Me&&this._targetBallControl.GetOurRemainBallNum()<=1?(this.isWhiteBallInHole?(M.UIResultManager.GameResultType=s.EnumGameResultType.Fail,M.UIResultManager.ScoreArray=[2,8]):(M.UIResultManager.GameResultType=s.EnumGameResultType.Win,M.UIResultManager.ScoreArray=[8,2]),M.UIResultManager.OpenUIWait(this._gameTipControl)):E.GameDataManager.GetCurWhoTurn()===s.EnumPlayerType.Other&&this._targetBallControl.GetTheirRemainBallNum()<=1?(this.isWhiteBallInHole?(M.UIResultManager.GameResultType=s.EnumGameResultType.Win,M.UIResultManager.ScoreArray=[8,2]):(M.UIResultManager.GameResultType=s.EnumGameResultType.Fail,M.UIResultManager.ScoreArray=[2,8]),M.UIResultManager.OpenUIWait(this._gameTipControl)):(this.resetToLastRoundValue(),this.showFreeBall())},t.prototype.confirmBallColorType=function(){var e=R.BallNumToBallColorType(this.firstInHoleBallNum);E.GameDataManager.MyBallColorType===s.EnumBallColorType.None&&(E.GameDataManager.GetCurWhoTurn()===s.EnumPlayerType.Me?E.GameDataManager.MyBallColorType=e:E.GameDataManager.MyBallColorType=e===s.EnumBallColorType.Half?s.EnumBallColorType.Full:s.EnumBallColorType.Half,E.GameDataManager.MyBallColorType===s.EnumBallColorType.Full?this._gameTipControl.ShowGameTip(s.EnumGameTipsType.HitFullBall):this._gameTipControl.ShowGameTip(s.EnumGameTipsType.HitHalfBall),l.SS.EventCenter.emit(s.EnumGameMessageType.ConfirmBallColorType,E.GameDataManager.MyBallColorType),this.curRule=s.EnumRuleType.Continue)},t.prototype.linkCue=function(){this.linkNum++,this.linkNum>=3&&this._gameTipControl.ShowLink(this.linkNum)},t.prototype.checkRule=function(){var e=this;this.curRule=s.EnumRuleType.NextPlayer,this._guideControl.Hide(),8===this.firstHitBallNum?this.isBallEightInHole?this.checkBallEightInHole():this.isWhiteBallInHole?this.showFreeBall():E.GameDataManager.GetCurWhoTurn()===s.EnumPlayerType.Me&&this._targetBallControl.GetOurRemainBallNum()<=1?E.GameDataManager.NextTurn():E.GameDataManager.GetCurWhoTurn()===s.EnumPlayerType.Other&&this._targetBallControl.GetTheirRemainBallNum()<=1?E.GameDataManager.NextTurn():this.showFreeBall():this.isWhiteBallInHole?this.isBallEightInHole?(this.resetToLastRoundValue(),this.showFreeBall()):-1===this.firstHitBallNum?(E.GameDataManager.GameState=s.EnumGameState.FreeBallIdle,this.curRule=s.EnumRuleType.FreeBall,this.scheduleOnce(function(){e.showFreeBall()},.5)):this.showFreeBall():-1===this.firstHitBallNum?this.showFreeBall():E.GameDataManager.MyBallColorType===s.EnumBallColorType.None?-1!=this.firstInHoleBallNum?this.isBallEightInHole?(this.resetToLastRoundValue(),this.showFreeBall()):E.GameDataManager.IsFirstHit?this._countDownControl.StartCountDown(E.GameDataManager.GetCurWhoTurn()):(this.confirmBallColorType(),this._countDownControl.StartCountDown(E.GameDataManager.GetCurWhoTurn())):E.GameDataManager.NextTurn():E.GameDataManager.GetCurWhoTurn()===s.EnumPlayerType.Me?R.BallNumToBallColorType(this.firstHitBallNum)===E.GameDataManager.MyBallColorType?this.isBallEightInHole?this.checkBallEightInHole():this.isMyBallInHole?(this._countDownControl.StartCountDown(E.GameDataManager.GetCurWhoTurn()),this.linkCue()):E.GameDataManager.NextTurn():R.BallNumToBallColorType(this.firstHitBallNum)!=E.GameDataManager.MyBallColorType&&(this.isBallEightInHole?(this.resetToLastRoundValue(),this.showFreeBall()):this.showFreeBall()):E.GameDataManager.GetCurWhoTurn()===s.EnumPlayerType.Other&&(R.BallNumToBallColorType(this.firstHitBallNum)===E.GameDataManager.MyBallColorType?this.isBallEightInHole?this.checkBallEightInHole():this.showFreeBall():R.BallNumToBallColorType(this.firstHitBallNum)!=E.GameDataManager.MyBallColorType&&(this.isBallEightInHole?this.checkBallEightInHole():this.isHisBallInHole?this._countDownControl.StartCountDown(E.GameDataManager.GetCurWhoTurn()):E.GameDataManager.NextTurn())),-1!=this.firstHitBallNum&&(E.GameDataManager.IsFirstHit=!1),this.firstHitBallNum=-1,this.isBallEightInHole=!1,this.isMyBallInHole=!1,this.isHisBallInHole=!1,this.isWhiteBallInHole=!1,this.firstInHoleBallNum=-1},t.prototype.onTableTouchStart=function(){this._guideControl.Show(),this._guideControl.StartPowerTipsCountDown()},t.prototype.onTableTouchMove=function(e,t){if(E.GameDataManager.IsGameStart&&E.GameDataManager.GameState==s.EnumGameState.ReadyToHit){var n=0;n=Math.abs(e.x)>Math.abs(e.y)?t.y>0?e.x:-e.x:t.x>0?-e.y:e.y,this._cueControl.Rotate(n/10),this._guideLineControl.DrawGuideLine(this._cueControl.node.angle,this._ballControl.GetWhiteBall(),this._ballControl.GetAllActiveBall())}},t.prototype.onTableTouchEnd=function(e){},t.prototype.onAngleChangeStart=function(){E.GameDataManager.IsGameStart&&this._guideControl.Show()},t.prototype.onAngleChange=function(e){E.GameDataManager.IsGameStart&&E.GameDataManager.GameState==s.EnumGameState.ReadyToHit&&(this._cueControl.Rotate(e/10),this._guideLineControl.DrawGuideLine(this._cueControl.node.angle,this._ballControl.GetWhiteBall(),this._ballControl.GetAllActiveBall()))},t.prototype.onAngleChangeEnd=function(){},t.prototype.onPowerValueChangeStart=function(){this._guideControl.Show()},t.prototype.onPowerValueChange=function(e){E.GameDataManager.IsGameStart&&E.GameDataManager.GameState==s.EnumGameState.ReadyToHit&&(this._cueControl.SetPower(e),this._guideLineControl.Hide())},t.prototype.onPowerValueChangeEnd=function(e){E.GameDataManager.IsGameStart&&(0!=e&&(E.GameDataManager.GameState=s.EnumGameState.HitBall),0===e?this._guideLineControl.Show():this._cueControl.Hit())},t.prototype.onGameInit=function(){this.curInitCount++,a.default.Trace(a.ClogKey.UI,"onGameInit count = "+this.curInitCount+" / "+this.controlCount),this.curInitCount===this.controlCount&&this._vsControl.Show()},t.prototype.onVsAnimFinish=function(){this.startGame()},t.prototype.onBallMoveEnd=function(){this.checkAllBallMoveEnd()},t.prototype.onInHole=function(e){this._effectControl.Show(G.default,e.convertToWorldSpaceAR(cc.Vec2.ZERO))},t.prototype.onBallInHole=function(e){E.GameDataManager.IsGameStart&&(-1===this.firstInHoleBallNum&&(this.firstInHoleBallNum=e),this.isBallEightInHole||(8===e?this.isBallEightInHole=!0:0===e?this.isWhiteBallInHole=!0:R.BallNumToBallColorType(e)===E.GameDataManager.MyBallColorType?this.isMyBallInHole=!0:R.BallNumToBallColorType(e)!=E.GameDataManager.MyBallColorType&&R.BallNumToBallColorType(e)!=s.EnumBallColorType.None&&(this.isHisBallInHole=!0),this.checkAllBallMoveEnd()))},t.prototype.onWhiteBallCollition=function(e){E.GameDataManager.IsGameStart&&-1==this.firstHitBallNum&&(this.firstHitBallNum=e)},t.prototype.onGameAgain=function(){this.reset(),this._vsControl.Show()},t.prototype.onStartTurn=function(){if(E.GameDataManager.IsGameStart)switch(this._freeBallControl.ShowFreeBallStart(this._ballControl.GetWhiteBallLocalPos(),this._ballControl.GetAllActiveBallPos()),this._countDownControl.StartCountDown(E.GameDataManager.GetCurWhoTurn()),E.GameDataManager.GetCurWhoTurn()){case s.EnumPlayerType.Me:this._gameTipControl.ShowGameTip(s.EnumGameTipsType.MyStartBall),this._guideControl.Show();break;case s.EnumPlayerType.Other:}},t.prototype.onNextTurn=function(e){if(this.linkNum=0,E.GameDataManager.IsGameStart&&(this._countDownControl.StartCountDown(E.GameDataManager.GetCurWhoTurn(),e),this.curRule!==s.EnumRuleType.FreeBall))switch(E.GameDataManager.GetCurWhoTurn()){case s.EnumPlayerType.Me:this._gameTipControl.ShowGameTip(s.EnumGameTipsType.YourRound),this._guideControl.Show(),this._guideControl.StartMoveTipsCountDown();break;case s.EnumPlayerType.Other:}},t.prototype.onGameEnd=function(){E.GameDataManager.IsGameStart=!1,this._countDownControl.StopCountDown()},t.prototype.onPlayerCountDownComplete=function(e){this._guideControl.Hide(),this._ballControl.EnableWhiteBall(!0),this._freeBallControl.HideFreeBall(),this._guideLineControl.Hide(),this._cueControl.Hide(),this.showFreeBall(),E.GameDataManager.OverTimeCount[e]++,3===E.GameDataManager.OverTimeCount[s.EnumPlayerType.Me]?(M.UIResultManager.GameResultType=s.EnumGameResultType.Fail,M.UIResultManager.ScoreArray=[2,8],M.UIResultManager.OpenUIWait(this._gameTipControl)):3===E.GameDataManager.OverTimeCount[s.EnumPlayerType.Other]&&(M.UIResultManager.GameResultType=s.EnumGameResultType.Win,M.UIResultManager.ScoreArray=[8,2],M.UIResultManager.OpenUIWait(this._gameTipControl))},t.prototype.onFreeBallPut=function(e){E.GameDataManager.GameState=s.EnumGameState.ReadyToHit,this.curRule=s.EnumRuleType.Continue,this.canHit=!0,this._ballControl.SetWhiteBallLocalPos(e);var t=this._cueControl.node.parent.convertToNodeSpaceAR(this._ballControl.GetWhiteBallPos());this._cueControl.Show(t),this._guideLineControl.DrawGuideLine(this._cueControl.node.angle,this._ballControl.GetWhiteBall(),this._ballControl.GetAllActiveBall()),this._ballControl.EnableWhiteBall(!0),this._guideControl.StartMoveTipsCountDown()},t.prototype.onCueHitComplete=function(e,t){E.GameDataManager.IsGameStart&&this.curRule!==s.EnumRuleType.FreeBall&&(this.canHit&&(this._ballControl.HitWhiteBall(e,t),this._countDownControl.StopCountDown()),this.canHit=!1)},t.prototype.onClickBall=function(e){if(E.GameDataManager.IsGameStart&&E.GameDataManager.GameState==s.EnumGameState.ReadyToHit){var t=R.RadianToAngle(cc.v2(this._ballControl.GetWhiteBall().node.position.sub(e.node.position)).signAngle(cc.Vec2.UP));this._cueControl.SetRotation(-t),this._guideLineControl.DrawGuideLine(this._cueControl.node.angle,this._ballControl.GetWhiteBall(),this._ballControl.GetAllActiveBall())}},t.prototype.onGameStateChange=function(e,t){switch(e){case s.EnumGameState.FreeBallMove:this.canHit=!1,this.curRule=s.EnumRuleType.FreeBall,this._ballControl.EnableWhiteBall(!1),this._guideLineControl.Hide(),this._cueControl.Hide();break;case s.EnumGameState.HitBall:this._freeBallControl.HideFreeBall()}},t}(r.UIBase);n.default=A,cc._RF.pop()},{"../../../base/assets/script/frame/clog/Clog":"Clog","../../../base/assets/script/frame/ui/UIBase":"UIBase","../../../base/assets/script/frame/ui/UIEnum":"UIEnum","../../../base/assets/script/global/SS":"SS","../../Constance":"Constance","../../common/EnumCenter":"EnumCenter","../../game/ctl/AngleControl":"AngleControl","../../game/ctl/BallControl":"BallControl","../../game/ctl/CountDownControl":"CountDownControl","../../game/ctl/CueControl":"CueControl","../../game/ctl/EffectControl":"EffectControl","../../game/ctl/EndBallControl":"EndBallControl","../../game/ctl/FreeBallControl":"FreeBallControl","../../game/ctl/GameTipsControl":"GameTipsControl","../../game/ctl/GuideControl":"GuideControl","../../game/ctl/GuideLineControl":"GuideLineControl","../../game/ctl/HoleControl":"HoleControl","../../game/ctl/PlayerControl":"PlayerControl","../../game/ctl/PowerControl":"PowerControl","../../game/ctl/TableControl":"TableControl","../../game/ctl/TargetBallControl":"TargetBallControl","../../game/ctl/VsControl":"VsControl","../../game/entity/EffectInHole":"EffectInHole","../../manager/GameDataManager":"GameDataManager","../../manager/UIGameManager":"UIGameManager","../../manager/UIResultManager":"UIResultManager","../../util/CollitionFixForce":"CollitionFixForce","../../util/UtilityEx":"UtilityEx"}],UIManager:[function(e,t,n){"use strict";cc._RF.push(t,"fa81649GVhJyZOSTGdDhn7V","UIManager");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,r){function i(e){try{s(o.next(e))}catch(e){r(e)}}function l(e){try{s(o.throw(e))}catch(e){r(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,l)}s((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(e){return function(t){return s([e,t])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../util/StringUtil"),i=e("../clog/Clog"),l=e("../res/ResManager"),s=e("./UIEnum"),c=e("../../util/ArrayUtil"),u=e("../audio/AudioManager"),p=function(){function e(){this.scaleTweenTime=.2,this.feadTweenTime=.5,this.pullTweenTime=.2,this.maskColorA=180,this.OpenedUI=new Array,this.OnOpenUITag=new Array}return e.prototype.Init=function(e){this._root=e},e.prototype.OpenUI=function(e){return o(this,void 0,Promise,function(){var t=this;return a(this,function(n){return[2,new Promise(function(n){return o(t,void 0,void 0,function(){var t,o,p,h=this;return a(this,function(a){return t=(new e).PrefabName,r.IsNullOrEmpty(t)?(i.default.Error("Open UI -> UI Name is null! "),[2,null]):null!=(o=this.OpenedUI.find(function(e){return e.PrefabName==t}))?(this.PrintOpenedUIList("Open UI -> UI Name is opened! name:"+t),c.ArrayRemove(this.OpenedUI,o),this.OpenedUI.push(o),this.SortOrder(),[2]):this.OnOpenUITag.find(function(e){return e==t})?(i.default.Warn(i.ClogKey.UI,"Open UI -> but UI is OnOpen, name:"+t),[2]):(this.OnOpenUITag.push(t),this.PrintOnOpenUIList("Open UI -> before Open UI with name:"+t),p=function(){h.OnOpenUITag.find(function(e){return e==t})?(i.default.Trace(i.ClogKey.UI,"remove target Name from OnOpen List!"),c.ArrayRemove(h.OnOpenUITag,t)):i.default.Error("can not find onOpen UI name, targetName:"+t),h.PrintOnOpenUIList("Open UI -> After Open UI with name:"+t)},l.ResManager.LoadRes(t,cc.Prefab,function(o,a){if(o)return p(),void i.default.Error("UIManager >> GetInstance >> node is null!, name:"+t+",err"+JSON.stringify(o));var r=cc.instantiate(a),l=r.addComponent(e);switch(l.PrefabName=t,h._root.addChild(r),r.setPosition(0,0),p(),h.OpenedUI.push(l),h.SortOrder(),h.PrintOpenedUIList("After Open UI >>"+t),l.OpenTween){case s.EnumUIOpenTween.None:l.Mask&&(l.Mask.active=!0,l.Mask.runAction(cc.fadeTo(.2,h.maskColorA))),n(l);break;case s.EnumUIOpenTween.Scale:u.AudioManager.PlaySound("S_OpenUI");var c=r.scale,f=cc.callFunc(function(){l.Mask&&(l.Mask.active=!1),r.scale=.2}),d=cc.scaleTo(h.scaleTweenTime,c,c).easing(cc.easeBezierAction(c-.1,c+.2,c+.1,c)),m=cc.callFunc(function(){l.Mask&&(l.Mask.active=!0,l.Mask.runAction(cc.fadeTo(.2,h.maskColorA))),n(l)});r.runAction(cc.sequence(f,d,m));break;case s.EnumUIOpenTween.FadeIn:u.AudioManager.PlaySound("S_OpenUI");f=cc.callFunc(function(){l.Mask&&(l.Mask.active=!1),r.opacity=0}),d=cc.fadeIn(h.feadTweenTime),m=cc.callFunc(function(){l.Mask&&(l.Mask.active=!0,l.Mask.runAction(cc.fadeTo(.2,h.maskColorA))),n(l)});r.runAction(cc.sequence(f,d,m));break;case s.EnumUIOpenTween.PullUp:u.AudioManager.PlaySound("S_OpenUI"),r.setPosition(r.x,-r.parent.anchorY*r.parent.height-(1-r.anchorY)*r.height);var y=cc.callFunc(function(){l.Mask&&(l.Mask.active=!1)}),g=cc.moveTo(h.pullTweenTime,r.x,-(r.parent.anchorY-.5)*r.parent.height+(r.anchorY-.5)*r.height).easing(cc.easeOut(3)),_=cc.callFunc(function(){l.Mask&&(l.Mask.active=!0),n(l)});l.scheduleOnce(function(){return r.runAction(cc.sequence(y,g,_))})}}),[2])})})})]})})},e.prototype.CloseUI=function(e){var t=this;return new Promise(function(n){return o(t,void 0,void 0,function(){var t,o,r,l=this;return a(this,function(a){if(t=(new e).PrefabName,i.default.Orange(i.ClogKey.UI,"Close UI  -> UIName="+t),null==(o=this.OpenedUI.find(function(e){return e.PrefabName==t})))return i.default.Warn(i.ClogKey.UI,"CloseUI -> target UI is null,name:"+t),[2];switch(o.CloseTween){case s.EnumUICloseTween.None:o.node.destroy(),c.ArrayRemove(this.OpenedUI,o),this.PrintOpenedUIList("After Close UI :"+t),n();break;case s.EnumUICloseTween.Scale:o.Mask&&(o.Mask.active=!1),r=o.node.scale,o.node.runAction(cc.sequence(cc.callFunc(function(){o.node.scale=r}),cc.scaleTo(.1,.1,.1),cc.callFunc(function(){o.node.destroy(),c.ArrayRemove(l.OpenedUI,o),l.PrintOpenedUIList("After Close UI :"+t),n()})));break;case s.EnumUICloseTween.FadeOut:o.Mask&&(o.Mask.active=!1),o.node.runAction(cc.sequence(cc.fadeOut(this.feadTweenTime),cc.callFunc(function(){o.node.destroy(),c.ArrayRemove(l.OpenedUI,o),l.PrintOpenedUIList("After Close UI :"+t),n()})));break;case s.EnumUICloseTween.PullDown:o.Mask&&(o.Mask.active=!1),o.node.runAction(cc.sequence(cc.moveTo(this.pullTweenTime,o.node.x,-o.node.parent.anchorY*o.node.parent.height-(1-o.node.anchorY)*o.node.height).easing(cc.easeIn(3)),cc.callFunc(function(){o.node.destroy(),c.ArrayRemove(l.OpenedUI,o),l.PrintOpenedUIList("After Close UI :"+t),n()})))}return[2]})})})},e.prototype.CloseAll=function(){for(var e=0;e<this.OpenedUI.length;e++){this.OpenedUI[e].node.destroy()}this.OpenedUI=new Array,this.PrintOpenedUIList("After Close All UI")},e.prototype.SortOrder=function(){for(var e=0;e<this.OpenedUI.length;e++){var t=this.OpenedUI[e];t.node.zIndex=t.HierarchyType+2*e}},e.prototype.PrintOpenedUIList=function(e){if(void 0===e&&(e=null),this.OpenedUI.length<=0)i.default.Orange(i.ClogKey.UI,e+">>> Now Opened UI List is Empty");else{for(var t="",n=0;n<this.OpenedUI.length;n++){var o=this.OpenedUI[n];t=t+"\n[ name: "+o.PrefabName+", zIndex: "+o.node.zIndex+" ]"}i.default.Orange(i.ClogKey.UI,e+">>> Now  Opened UI List :"+t)}},e.prototype.PrintOnOpenUIList=function(e){if(void 0===e&&(e=null),this.OnOpenUITag.length<=0)i.default.Orange(i.ClogKey.UI,e+">>> Now OnOpen UI List is Empty");else{for(var t="",n=0;n<this.OnOpenUITag.length;n++){t=t+"\n[ name: "+this.OnOpenUITag[n]+" ]"}i.default.Orange(i.ClogKey.UI,e+">>> Now OnOpen UI List :"+t)}},e}();n.UIManager=new p,cc._RF.pop()},{"../../util/ArrayUtil":"ArrayUtil","../../util/StringUtil":"StringUtil","../audio/AudioManager":"AudioManager","../clog/Clog":"Clog","../res/ResManager":"ResManager","./UIEnum":"UIEnum"}],UIReadyManager:[function(e,t,n){"use strict";cc._RF.push(t,"34933YbcMNNV5rWDHWp7XVJ","UIReadyManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../base/assets/script/frame/ui/UIManager"),r=e("../model/GameUserData"),i=e("../view/ready/UIReady"),l=e("./GameDataManager"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.InitData=function(){l.GameDataManager.GameUserDataArray.push(new r.GameUserData({id:1,name:"Player1",sex:1,age:23,head:"http://www.foryun.com.cn/1Image/head1.png"})),l.GameDataManager.GameUserDataArray.push(new r.GameUserData({id:2,name:"Player2",sex:0,age:18,head:"http://www.foryun.com.cn/1Image/head2.png"}))},t.prototype.OpenUI=function(){a.UIManager.OpenUI(i.default),this.GetData()},t.prototype.CloseUI=function(){a.UIManager.CloseUI(i.default)},t.prototype.Reset=function(){},t.prototype.GetData=function(){},t}(e("./UIBaseManager").UIBaseManager);n.default=s,n.UIReadyManager=new s,cc._RF.pop()},{"../../base/assets/script/frame/ui/UIManager":"UIManager","../model/GameUserData":"GameUserData","../view/ready/UIReady":"UIReady","./GameDataManager":"GameDataManager","./UIBaseManager":"UIBaseManager"}],UIReadyPlayerSeat:[function(e,t,n){"use strict";cc._RF.push(t,"a7643fV5KpI1KlpsKQ3lTuH","UIReadyPlayerSeat");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../util/UtilityEx"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._sprHead=null,t._labNickName=null,t._nodeReady=null,t._nodeNoReady=null,t._nodeSeat=null,t.data=null,t}return o(t,e),t.prototype.onDestroy=function(){this._sprHead.spriteFrame=null,a.ReleaseOnlineImage(this.data.HeadUrl)},t.prototype.Init=function(){this.initRoot()},t.prototype.InitData=function(e){this.data=e,this.refreshUI()},t.prototype.ShowReady=function(){this._nodeReady.active=!0},t.prototype.IsReady=function(){return this._nodeReady.active},t.prototype.initRoot=function(){this._nodeSeat=cc.find("Seat",this.node),this._sprHead=cc.find("Seat/HeadBg/HeadMask/Head",this.node).getComponent(cc.Sprite),this._labNickName=cc.find("Seat/LabNickName",this.node).getComponent(cc.Label),this._nodeReady=cc.find("Seat/Ready",this.node),this._nodeNoReady=cc.find("Seat/NoReady",this.node)},t.prototype.refreshUI=function(){this._nodeSeat.active=!0,this._sprHead.node.parent.parent.active=!0,this._labNickName.string=this.data.Name,this._nodeNoReady.active=!1,this._nodeReady.active=!1},t}(cc.Component);n.default=r,cc._RF.pop()},{"../../util/UtilityEx":"UtilityEx"}],UIReady:[function(e,t,n){"use strict";cc._RF.push(t,"bbc477NQoNAF41v/ND1OGX1","UIReady");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,r){function i(e){try{s(o.next(e))}catch(e){r(e)}}function l(e){try{s(o.throw(e))}catch(e){r(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,l)}s((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(e){return function(t){return s([e,t])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var l=e("../../../base/assets/script/frame/ui/UIBase"),s=e("../../../base/assets/script/frame/ui/UIEnum"),c=e("../../../base/assets/script/global/SS"),u=e("../../../base/assets/script/util/UIEventCenter"),p=e("../../common/EnumCenter"),h=e("../../manager/GameDataManager"),f=e("../../manager/UIGameManager"),d=e("../../util/FYTipsMgr"),m=e("./UIReadyPlayerSeat"),y=e("../../manager/UIReadyManager"),g=cc._decorator,_=g.ccclass,v=(g.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.PrefabName="P_UIReady",t.OpenTween=s.EnumUIOpenTween.None,t.CloseTween=s.EnumUICloseTween.None,t._bg=null,t._btnAdd=null,t._btnExit=null,t._btnReady=null,t._btnStart=null,t.playerSeat1=null,t.playerSeat2=null,t.mySeatId=0,t}return o(t,e),t.prototype.onLoad=function(){this.initRoot(),this.initEvent(),this.initData(),this.selfAdaption()},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.initRoot=function(){this._bg=cc.find("Bg",this.node),this._btnAdd=cc.find("BtnAdd",this.node).getComponent(cc.Button),this._btnReady=cc.find("BtnReady",this.node).getComponent(cc.Button),this._btnStart=cc.find("BtnStart",this.node).getComponent(cc.Button),this._btnExit=cc.find("BtnExit",this.node).getComponent(cc.Button),this.playerSeat1=cc.find("PlayerSeat1",this.node).addComponent(m.default),this.playerSeat2=cc.find("PlayerSeat2",this.node).addComponent(m.default)},t.prototype.initData=function(){this._btnAdd.node.active=!0,this._btnReady.node.active=!1,this._btnExit.node.active=!1,this._btnStart.node.active=!1,this.playerSeat1.Init(),this.playerSeat2.Init()},t.prototype.initEvent=function(){u.UIEventCenter.ButtonEvent(this._btnAdd,this.onClickBtnAdd.bind(this)),u.UIEventCenter.ButtonEvent(this._btnReady,this.onClickBtnReady.bind(this)),u.UIEventCenter.ButtonEvent(this._btnStart,this.onClickBtnStart.bind(this)),u.UIEventCenter.ButtonEvent(this._btnExit,this.onClickBtnExit.bind(this)),c.SS.EventCenter.on(p.EnumGameMessageType.ReadyAddGame,this.onReadyAdd,this),c.SS.EventCenter.on(p.EnumGameMessageType.ReadyExitGame,this.onReadyExitGame,this),c.SS.EventCenter.on(p.EnumGameMessageType.ReadyGame,this.onReady,this),c.SS.EventCenter.on(p.EnumGameMessageType.ReadyStartGame,this.onReadyStart,this)},t.prototype.removeEvent=function(){c.SS.EventCenter.off(p.EnumGameMessageType.ReadyAddGame,this.onReadyAdd,this),c.SS.EventCenter.off(p.EnumGameMessageType.ReadyExitGame,this.onReadyExitGame,this),c.SS.EventCenter.off(p.EnumGameMessageType.ReadyGame,this.onReady,this),c.SS.EventCenter.off(p.EnumGameMessageType.ReadyStartGame,this.onReadyStart,this)},t.prototype.selfAdaption=function(){cc.find("Canvas").getComponent(cc.Canvas);var e=h.GameDataManager.GetWinSize().height/h.GameDataManager.GetWinSize().width,t=1;e>16/9?t=e/(16/9):e<16/9&&(t=16/9/e),this._bg.scale=t},t.prototype.onClickBtnAdd=function(){c.SS.EventCenter.emit(p.EnumGameMessageType.ReadyAddGame,1,h.GameDataManager.GameUserDataArray[0],!0),this.scheduleOnce(function(){c.SS.EventCenter.emit(p.EnumGameMessageType.ReadyAddGame,2,h.GameDataManager.GameUserDataArray[1],!1)},1),this.scheduleOnce(function(){c.SS.EventCenter.emit(p.EnumGameMessageType.ReadyGame,2)},2)},t.prototype.onClickBtnReady=function(){},t.prototype.onClickBtnStart=function(){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return this.playerSeat2.IsReady()?(this._btnStart.interactable=!1,[4,f.UIGameManager.OpenUI()]):[3,2];case 1:return e.sent(),y.UIReadyManager.CloseUI(),[3,3];case 2:d.FYTipsMgr.showTips("\u5bf9\u65b9\u8fd8\u6ca1\u6709\u51c6\u5907\u597d\uff01"),e.label=3;case 3:return[2]}})})},t.prototype.onClickBtnExit=function(){},t.prototype.onReadyStart=function(){},t.prototype.onReadyAdd=function(e,t,n){1===e?(this.playerSeat1.InitData(t),this.playerSeat1.ShowReady()):this.playerSeat2.InitData(t),this._btnAdd.node.active=!1,this._btnExit.node.active=!0,n&&(this.mySeatId=e),this._btnStart.node.active=1===this.mySeatId,this._btnReady.node.active=1===this.mySeatId},t.prototype.onReady=function(e){1===e?this.playerSeat1.ShowReady():this.playerSeat2.ShowReady()},t.prototype.onReadyExitGame=function(){},t=a([_],t)}(l.UIBase));n.default=v,cc._RF.pop()},{"../../../base/assets/script/frame/ui/UIBase":"UIBase","../../../base/assets/script/frame/ui/UIEnum":"UIEnum","../../../base/assets/script/global/SS":"SS","../../../base/assets/script/util/UIEventCenter":"UIEventCenter","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","../../manager/UIGameManager":"UIGameManager","../../manager/UIReadyManager":"UIReadyManager","../../util/FYTipsMgr":"FYTipsMgr","./UIReadyPlayerSeat":"UIReadyPlayerSeat"}],UIResultManager:[function(e,t,n){"use strict";cc._RF.push(t,"aa543OtE1ZPILbRawH0W8MH","UIResultManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../base/assets/script/frame/ui/UIManager"),r=e("../view/result/UIResult"),i=e("./UIBaseManager"),l=e("../common/EnumCenter"),s=e("../util/FYCountDownMgr"),c=e("../../base/assets/script/global/SS"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ScoreArray=[],t.GameResultType=l.EnumGameResultType.None,t}return o(t,e),t.prototype.OpenUIWait=function(e){var t=this;c.SS.EventCenter.emit(l.EnumGameMessageType.GameEnd),e&&(this.GameResultType===l.EnumGameResultType.Win?e.ShowGameTip(l.EnumGameTipsType.Win):this.GameResultType===l.EnumGameResultType.Fail&&e.ShowGameTip(l.EnumGameTipsType.Lose)),s.default.Instance.add("UIResultWait",1.7,-1,function(){t.OpenUI()})},t.prototype.OpenUI=function(){a.UIManager.OpenUI(r.default)},t.prototype.CloseUI=function(){a.UIManager.CloseUI(r.default)},t.prototype.Reset=function(){this.ScoreArray=[],this.GameResultType=l.EnumGameResultType.None},t}(i.UIBaseManager);n.default=u,n.UIResultManager=new u,cc._RF.pop()},{"../../base/assets/script/frame/ui/UIManager":"UIManager","../../base/assets/script/global/SS":"SS","../common/EnumCenter":"EnumCenter","../util/FYCountDownMgr":"FYCountDownMgr","../view/result/UIResult":"UIResult","./UIBaseManager":"UIBaseManager"}],UIResult:[function(e,t,n){"use strict";cc._RF.push(t,"2a326G0coBGTatTCl4SxIWW","UIResult");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../base/assets/script/frame/ui/UIBase"),i=e("../../../base/assets/script/frame/ui/UIEnum"),l=e("../../manager/GameDataManager"),s=e("../../common/EnumCenter"),c=e("../../../base/assets/script/global/SS"),u=e("../../../base/assets/script/frame/ui/UIManager"),p=e("../../manager/UIResultManager"),h=e("../../../base/assets/script/util/UIEventCenter"),f=cc._decorator,d=f.ccclass,m=(f.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.PrefabName="P_UIResult",t.OpenTween=i.EnumUIOpenTween.None,t.CloseTween=i.EnumUICloseTween.None,t._fail=null,t._win=null,t._labMyName=null,t._labMyScore=null,t._sprMyHead=null,t._labOtherName=null,t._labOtherScore=null,t._sprOtherHead=null,t._btnAgain=null,t}var n;return o(t,e),n=t,t.prototype.onLoad=function(){this.initRoot(),this.initEvent(),this.initData()},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.initRoot=function(){this._fail=cc.find("Other/Fail",this.node),this._win=cc.find("Me/Win",this.node),this._btnAgain=cc.find("BtnAgain",this.node),this._labMyName=cc.find("Me/LabNickName",this.node).getComponent(cc.Label),this._labMyScore=cc.find("Me/ValueBg/LabScore",this.node).getComponent(cc.Label),this._sprMyHead=cc.find("Me/HeadMask/Head",this.node).getComponent(cc.Sprite),this._labOtherName=cc.find("Other/LabNickName",this.node).getComponent(cc.Label),this._labOtherScore=cc.find("Other/ValueBg/LabScore",this.node).getComponent(cc.Label),this._sprOtherHead=cc.find("Other/HeadMask/Head",this.node).getComponent(cc.Sprite)},t.prototype.initData=function(){this._fail.active=p.UIResultManager.GameResultType===s.EnumGameResultType.Fail,this._win.active=p.UIResultManager.GameResultType===s.EnumGameResultType.Win,this._labMyName.string=l.GameDataManager.GameUserDataArray[0].Name,this._labMyScore.string=p.UIResultManager.ScoreArray[0].toString(),this._labOtherName.string=l.GameDataManager.GameUserDataArray[1].Name,this._labOtherScore.string=p.UIResultManager.ScoreArray[1].toString(),this.playTween()},t.prototype.initEvent=function(){h.UIEventCenter.ButtonEvent(this._btnAgain.getComponent(cc.Button),this.onClickBtnAgain.bind(this))},t.prototype.removeEvent=function(){},t.prototype.playTween=function(){this._win.scale=10,this._win.opacity=0,this._btnAgain.opacity=0,this._fail.opacity=0,this._win.stopAllActions(),this._btnAgain.stopAllActions(),this._fail.stopAllActions(),p.UIResultManager.GameResultType===s.EnumGameResultType.Win?(this._win.runAction(cc.spawn(cc.scaleTo(.5,1,1),cc.fadeIn(.5))),this._btnAgain.runAction(cc.sequence(cc.delayTime(.2),cc.fadeIn(.5)))):(this._fail.runAction(cc.fadeIn(.5)),this._btnAgain.runAction(cc.sequence(cc.delayTime(.2),cc.fadeIn(.5))))},t.prototype.onClickBtnAgain=function(){c.SS.EventCenter.emit(s.EnumGameMessageType.GameAgain),u.UIManager.CloseUI(n)},t=n=a([d],t)}(r.UIBase));n.default=m,cc._RF.pop()},{"../../../base/assets/script/frame/ui/UIBase":"UIBase","../../../base/assets/script/frame/ui/UIEnum":"UIEnum","../../../base/assets/script/frame/ui/UIManager":"UIManager","../../../base/assets/script/global/SS":"SS","../../../base/assets/script/util/UIEventCenter":"UIEventCenter","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","../../manager/UIResultManager":"UIResultManager"}],UIUtil:[function(e,t,n){"use strict";cc._RF.push(t,"52b99Pt5yxBG7b4Iy7GrpAQ","UIUtil");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,r){function i(e){try{s(o.next(e))}catch(e){r(e)}}function l(e){try{s(o.throw(e))}catch(e){r(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,l)}s((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(e){return function(t){return s([e,t])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../clog/Clog"),i=e("../../util/StringUtil"),l=e("../res/ResManager"),s=function(){function e(){}return e.SetHeadIcon=function(e,t,n){null!=t?(e=(Number(n)%50).toString(),e=i.IsNullOrEmpty(e)?"T_HeadIcon_0":"T_HeadIcon_"+Number(e),this.ChangeSprite(e,t)):r.default.Error("iconSprite is null ")},e.LoadRemoteImage=function(e,t){i.IsNullOrEmpty(e)?r.default.Warn(r.ClogKey.UI,"LoadNetImg path error:"+e):i.CheckNetUrl(e)&&(r.default.Orange(r.ClogKey.Net,"LoadRemoteImage url:"+e),cc.loader.load({url:e},function(e,n){if(e)r.default.Warn(r.ClogKey.UI,"LoadNetImg load error,error:"+e);else if(null!=t.node){var o=new cc.SpriteFrame(n);t.spriteFrame=o}else r.default.Error("LoadNetImg load error>>>>>>>>obj.node==null")}))},e.ChangeSprite=function(e,t){null!=t&&(i.IsNullOrEmpty(e)?r.default.Error("ChangeSprite name is Empty!"):null!=t.spriteFrame&&t.spriteFrame.name==e||l.ResManager.LoadRes(e,cc.SpriteFrame,function(n,o){if(n)r.default.Error("ChangeSprite Error!, name:"+e+",err"+JSON.stringify(n));else{var a=o;t.isValid&&(t.spriteFrame=a)}}))},e.CreateAnimationClip=function(e){return o(this,void 0,Promise,function(){return a(this,function(t){return[2,new Promise(function(t){if(i.IsNullOrEmpty(e))return r.default.Error("CreateAnimationClip name is Empty!"),void t(null);cc.loader.loadResDir(e,cc.SpriteFrame,function(n,o,a){if(n)return r.default.Error("CreateAnimationClip Error!, name:"+e+",err"+JSON.stringify(n)),void t(null);var i=[];i.push.apply(i,o),i.sort(function(e,t){return e.name==t.name?0:e.name<t.name?-1:1});t(function(e,t){var n=new cc.AnimationClip;n.sample=t||n.sample;for(var o=[],a=0,r=0,i=e.length;r<i;r++){var l=e[r].name.lastIndexOf("-"),s=parseInt(e[r].name.substr(l+1));o[r]={frame:a,value:e[r]},a+=s/1e3}return o[e.length]={frame:a,value:e[e.length-1]},n._duration=a,n.curveData={comps:{"cc.Sprite":{spriteFrame:o}}},n}(o,30))})})]})})},e.LoadDragonBones=function(e,t,n,o,a){return void 0===a&&(a=1),new Promise(function(r){cc.loader.loadResDir(t,function(t,i){t||i.length<=0?r(!1):(i.forEach(function(t){t instanceof dragonBones.DragonBonesAsset&&(e.dragonAsset=t),t instanceof dragonBones.DragonBonesAtlasAsset&&(e.dragonAtlasAsset=t)}),e.armatureName=n,e.playAnimation(o,a),e.addEventListener(dragonBones.EventObject.COMPLETE,function(){e.removeEventListener(dragonBones.EventObject.COMPLETE),r(!0)}))})})},e}();n.UIUtil=s,cc._RF.pop()},{"../../util/StringUtil":"StringUtil","../clog/Clog":"Clog","../res/ResManager":"ResManager"}],UtilityEx:[function(e,t,n){"use strict";cc._RF.push(t,"9c99bax/nhCfatyeJa+ToJI","UtilityEx"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../common/EnumCenter"),a=e("../../base/assets/script/frame/clog/Clog");n.CreateEventHandler=function(e,t,n){var o=new cc.Component.EventHandler;return o.target=e,o.component=t,o.handler=n,o},n.RotateAround=function(e,t,n,o){if(e){var a=new cc.Quat;e.getRotation(a),cc.Quat.rotateAround(a,a,new cc.Vec3(1,0,0),t),cc.Quat.rotateAround(a,a,new cc.Vec3(0,1,0),n),cc.Quat.rotateAround(a,a,new cc.Vec3(0,0,1),o),e.setRotation(a)}},n.BallNumToBallColorType=function(e){return e>0&&e<8?o.EnumBallColorType.Full:e>8&&e<=15?o.EnumBallColorType.Half:o.EnumBallColorType.None},n.RadianToAngle=function(e){return 180*e/Math.PI},n.AngleToRadian=function(e){return e*Math.PI/180},n.LoadOnlineImage=function(e,t,n){""!=e&&void 0!=e&&" "!=e&&null!=e&&cc.loader.load({url:e,type:t},function(e,t){n&&n(t)})},n.ReleaseOnlineImage=function(e){cc.loader.release(e)},n.GetValue=function(e,t,n){return e&&e[t]?e[t]:(a.default.Warn(a.ClogKey.UI,"GetValue fail, target = "+e+", variableName = "+t+", defaultValue = "+n),n)},n.GetLocalStorageNumber=function(e,t){var n=cc.sys.localStorage.getItem(e);if(null==n&&null!=t)return t;if(null==n&&null==t)return-1;var o=Number(n);return isNaN(o)?t:o},n.SetLocalStorageNumber=function(e,t){null!=t&&cc.sys.localStorage.setItem(e,t)},cc._RF.pop()},{"../../base/assets/script/frame/clog/Clog":"Clog","../common/EnumCenter":"EnumCenter"}],Utility:[function(e,t,n){"use strict";cc._RF.push(t,"4f4193zj5FIKZiq10/WW4NM","Utility"),Object.defineProperty(n,"__esModule",{value:!0}),n.IsObject=function(e){return"function"==typeof e||!(!e||"object"!=typeof e)},cc._RF.pop()},{}],VsControl:[function(e,t,n){"use strict";cc._RF.push(t,"97bbcvOr61Gq5P5MRv30Jxk","VsControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseControl"),r=e("../../manager/GameDataManager"),i=e("../../../base/assets/script/global/SS"),l=e("../../common/EnumCenter"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._animVs=null,t._sprHeadPlayer1=null,t._sprHeadPlayer2=null,t._labNickNamePlayer1=null,t._labNickNamePlayer2=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.initRoot=function(){this._animVs=this.node.getComponent(cc.Animation),this._sprHeadPlayer1=cc.find("Left/PlayerLeft/HeadMask/Head",this.node).getComponent(cc.Sprite),this._sprHeadPlayer2=cc.find("Right/PlayerRight/HeadMask/Head",this.node).getComponent(cc.Sprite),this._labNickNamePlayer1=cc.find("Left/PlayerLeft/LabNickName",this.node).getComponent(cc.Label),this._labNickNamePlayer2=cc.find("Right/PlayerRight/LabNickName",this.node).getComponent(cc.Label)},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){this._labNickNamePlayer1.string=r.GameDataManager.GameUserDataArray[0].Name,this._labNickNamePlayer2.string=r.GameDataManager.GameUserDataArray[1].Name},t.prototype.Init=function(){this.initRoot(),this.initEvent(),this.initData(),this.InitComplete()},t.prototype.Reset=function(){},t.prototype.Show=function(){var e=this;this.node.active=!0,this._animVs.play("A_Game_VS",0),this.scheduleOnce(function(){e.node.active=!1,i.SS.EventCenter.emit(l.EnumGameMessageType.VsAnimFinish)},1.5)},t}(a.default);n.default=s,cc._RF.pop()},{"../../../base/assets/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","./BaseControl":"BaseControl"}],WebPlatform:[function(e,t,n){"use strict";cc._RF.push(t,"a86363UHuRBvqGsBCxq+zw1","WebPlatform");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.Access=function(e){return!1},t.prototype.GetStorage=function(e){return""},t.prototype.GetSystemInfoSync=function(){},t.prototype.GetUserDataPath=function(){return""},t.prototype.GetUserInfo=function(){},t.prototype.Login=function(){},t.prototype.MakeDir=function(e){return!1},t.prototype.ReadDir=function(e){return[]},t.prototype.ReadFile=function(e){return""},t.prototype.RemoveDir=function(e){return!1},t.prototype.RemoveFile=function(e){return!1},t.prototype.RemoveStorage=function(e){return!1},t.prototype.SetStorage=function(e,t){return!1},t.prototype.WriteFile=function(e,t){return!1},t}(e("./BasePlatform").BasePlatform);n.WebPlatform=a,cc._RF.pop()},{"./BasePlatform":"BasePlatform"}],WechatPlatform:[function(e,t,n){"use strict";cc._RF.push(t,"634dcHb4QNCZ7Iisq45ydN6","WechatPlatform");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BasePlatform"),r=e("../../global/SS"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.Login=function(){return new Promise(function(e){var t={};console.warn("wechat login"),r.wx.login({success:function(n){console.warn("wechat login success",n),t.code=n.code,e(t)},fail:function(n){console.warn("wechat login error",n),e(t)}})})},t.prototype.GetUserInfo=function(){return new Promise(function(e){r.wx.getUserInfo({success:function(t){e(t)},fail:function(t){e(null)}})})},t.prototype.GetSystemInfoSync=function(){try{return r.wx.getSystemInfoSync()}catch(e){return console.warn("wechat get system info sync error",e),null}},t.prototype.GetUserDataPath=function(){return r.wx.env.USER_DATA_PATH},t.prototype.Access=function(e){var t=r.wx.getFileSystemManager();try{return t.accessSync(e),!0}catch(e){return!1}},t.prototype.MakeDir=function(e){var t=r.wx.getFileSystemManager();try{return t.mkdirSync(e),!0}catch(e){return!1}},t.prototype.ReadDir=function(e){try{return r.wx.getFileSystemManager().readdirSync(e)}catch(e){return[]}},t.prototype.RemoveDir=function(e){var t=r.wx.getFileSystemManager();try{return t.rmdirSync(e,!0),!0}catch(e){return!1}},t.prototype.WriteFile=function(e,t){var n=r.wx.getFileSystemManager();try{return n.writeFileSync(e,t,"utf-8"),!0}catch(e){return!1}},t.prototype.ReadFile=function(e){var t="";try{t=r.wx.getFileSystemManager().readFileSync(e,"utf-8")}catch(t){console.warn("readFile "+e+" error",JSON.stringify(t))}return t},t.prototype.RemoveFile=function(e){var t=r.wx.getFileSystemManager();try{return t.unlinkSync(e),!0}catch(e){return!1}},t.prototype.SetStorage=function(e,t){try{return r.wx.setStorageSync(e,t),!0}catch(e){return!1}},t.prototype.GetStorage=function(e){try{return r.wx.getStorageSync(e)}catch(e){return""}},t.prototype.RemoveStorage=function(e){try{return r.wx.removeStorageSync(e),!0}catch(e){return!1}},t}(a.BasePlatform);n.WechatPlatform=i,cc._RF.pop()},{"../../global/SS":"SS","./BasePlatform":"BasePlatform"}],Xhr:[function(e,t,n){"use strict";cc._RF.push(t,"f15e7QINK1MUqk4w4/4G7er","Xhr");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,r){function i(e){try{s(o.next(e))}catch(e){r(e)}}function l(e){try{s(o.throw(e))}catch(e){r(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,l)}s((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(e){return function(t){return s([e,t])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../frame/clog/Clog"),i=e("../../global/SS"),l=e("../../global/DeviceInfo"),s=function(){function e(e){this.queryBase=new c;var t=e.indexOf("http")>=0?"":i.SS.HttpUrl;this.url=t+e+(e.indexOf("?")>-1?"&":"?")}return e.prototype.Query=function(e){return this.queryBase.Push(e),this},Object.defineProperty(e.prototype,"Url",{get:function(){return this.url+this.queryBase.ToString()},enumerable:!0,configurable:!0}),e}();n.XhrUrl=s;var c=function(){function e(){this.query=[{key:"package",value:"im."+i.SS.CurAppName+".minigame."+i.SS.CurPlatformStr},{key:"_ipv",value:"0"},{key:"_platform",value:i.SS.CurPlatformStr},{key:"_model",value:l.DeviceInfoManager.deviceInfo.model||""},{key:"_timestamp",value:((new Date).valueOf()/1e3).toString()},{key:"_index",value:e.indexStr}]}return Object.defineProperty(e,"indexStr",{get:function(){return this.index++,this.index.toString()},enumerable:!0,configurable:!0}),e.prototype.Push=function(e){this.query.push(e)},e.prototype.ToString=function(){var e=[];return this.query.forEach(function(t){return e.push(t.key+"="+t.value)}),e.join("&")},e.index=0,e}(),u=function(){function e(){this.config=[{key:"content-type",value:"application/x-www-form-urlencoded"},{key:"user-token",value:""}]}return e.prototype.ToString=function(){var e=[];return this.config.forEach(function(t){return e.push(t.key+":"+t.value)}),JSON.stringify(e)},e}(),p=function(){function e(){}return e.SetHeaderToken=function(e){this.header.config.find(function(e){return"user-token"==e.key}).value=e},e.GetJson=function(t){return o(this,void 0,Promise,function(){var n=this;return a(this,function(o){return[2,new Promise(function(o,a){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState)switch(r.default.Green(r.ClogKey.Net,"get json from "+t+" status code :"+i.status),i.status){case 200:var n=void 0;try{n=JSON.parse(i.responseText)}catch(e){a({message:"\u8fd4\u56de\u4fe1\u606f\u9519\u8bef"})}r.default.Green(r.ClogKey.Net,"[XHR GET]\t\n[url]:"+t+"\t\n[msg]:"+JSON.stringify(n)),o(n);break;default:a(e.getEror(i.status))}},i.open("GET",t,!0),n.header.config.forEach(function(e){i.setRequestHeader(e.key,e.value)}),i.send(null),r.default.Green(r.ClogKey.Net,"[XHR GET]\t\n[url]:"+t+"\t\n[header]:"+n.header.ToString())})]})})},e.PostJson=function(t,n){return o(this,void 0,Promise,function(){var o=this;return a(this,function(a){return[2,new Promise(function(a,i){var l=new XMLHttpRequest;if(l.onreadystatechange=function(){if(4==l.readyState)switch(l.status){case 200:var n=void 0;try{n=JSON.parse(l.responseText)}catch(e){i({message:"\u8fd4\u56de\u4fe1\u606f\u9519\u8bef"})}r.default.Green(r.ClogKey.Net,"[XHR POST]\t\n[url]:"+t+"\t\n[msg]:"+JSON.stringify(n)),a(n);break;default:i(e.getEror(l.status))}},l.open("POST",t,!0),o.header.config.forEach(function(e){l.setRequestHeader(e.key,e.value)}),n){var s=[];for(var c in n)n.hasOwnProperty(c)&&n[c]&&s.push(encodeURIComponent(c)+"="+encodeURIComponent(n[c]));var u=s.join("&");l.send(u)}else l.send(null);r.default.Green(r.ClogKey.Net,"[XHR POST]\t\n[url]:"+t+"\t\n[post data]:"+JSON.stringify(n)+",\t\n[header]:"+o.header.ToString())})]})})},e.getEror=function(e){return e>=500?{message:"\u670d\u52a1\u5668\u8fd4\u56de\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5"}:e>=400?{message:"\u9519\u8bef\u7684\u8bf7\u6c42\uff0c\u8bf7\u91cd\u8bd5"}:e>=300?{message:"\u767b\u5f55\u72b6\u6001\u53ef\u80fd\u5df2\u8fc7\u671f\uff0c\u8bf7\u91cd\u8bd5"}:{message:"\u670d\u52a1\u5668\u8fd4\u56de\u6570\u636e\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5"}},e.header=new u,e}();n.default=p,cc._RF.pop()},{"../../frame/clog/Clog":"Clog","../../global/DeviceInfo":"DeviceInfo","../../global/SS":"SS"}],md5:[function(e,t,n){"use strict";cc._RF.push(t,"375e7IIvJ9HcKaBvmjZko8W","md5"),Object.defineProperty(n,"__esModule",{value:!0});var o=0,a=8;function r(e){return m(i(d(e),e.length*a))}function i(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,o=-271733879,a=-1732584194,r=271733878,i=0;i<e.length;i+=16){var l=n,f=o,d=a,m=r;o=p(o=p(o=p(o=p(o=u(o=u(o=u(o=u(o=c(o=c(o=c(o=c(o=s(o=s(o=s(o=s(o,a=s(a,r=s(r,n=s(n,o,a,r,e[i+0],7,-680876936),o,a,e[i+1],12,-389564586),n,o,e[i+2],17,606105819),r,n,e[i+3],22,-1044525330),a=s(a,r=s(r,n=s(n,o,a,r,e[i+4],7,-176418897),o,a,e[i+5],12,1200080426),n,o,e[i+6],17,-1473231341),r,n,e[i+7],22,-45705983),a=s(a,r=s(r,n=s(n,o,a,r,e[i+8],7,1770035416),o,a,e[i+9],12,-1958414417),n,o,e[i+10],17,-42063),r,n,e[i+11],22,-1990404162),a=s(a,r=s(r,n=s(n,o,a,r,e[i+12],7,1804603682),o,a,e[i+13],12,-40341101),n,o,e[i+14],17,-1502002290),r,n,e[i+15],22,1236535329),a=c(a,r=c(r,n=c(n,o,a,r,e[i+1],5,-165796510),o,a,e[i+6],9,-1069501632),n,o,e[i+11],14,643717713),r,n,e[i+0],20,-373897302),a=c(a,r=c(r,n=c(n,o,a,r,e[i+5],5,-701558691),o,a,e[i+10],9,38016083),n,o,e[i+15],14,-660478335),r,n,e[i+4],20,-405537848),a=c(a,r=c(r,n=c(n,o,a,r,e[i+9],5,568446438),o,a,e[i+14],9,-1019803690),n,o,e[i+3],14,-187363961),r,n,e[i+8],20,1163531501),a=c(a,r=c(r,n=c(n,o,a,r,e[i+13],5,-1444681467),o,a,e[i+2],9,-51403784),n,o,e[i+7],14,1735328473),r,n,e[i+12],20,-1926607734),a=u(a,r=u(r,n=u(n,o,a,r,e[i+5],4,-378558),o,a,e[i+8],11,-2022574463),n,o,e[i+11],16,1839030562),r,n,e[i+14],23,-35309556),a=u(a,r=u(r,n=u(n,o,a,r,e[i+1],4,-1530992060),o,a,e[i+4],11,1272893353),n,o,e[i+7],16,-155497632),r,n,e[i+10],23,-1094730640),a=u(a,r=u(r,n=u(n,o,a,r,e[i+13],4,681279174),o,a,e[i+0],11,-358537222),n,o,e[i+3],16,-722521979),r,n,e[i+6],23,76029189),a=u(a,r=u(r,n=u(n,o,a,r,e[i+9],4,-640364487),o,a,e[i+12],11,-421815835),n,o,e[i+15],16,530742520),r,n,e[i+2],23,-995338651),a=p(a,r=p(r,n=p(n,o,a,r,e[i+0],6,-198630844),o,a,e[i+7],10,1126891415),n,o,e[i+14],15,-1416354905),r,n,e[i+5],21,-57434055),a=p(a,r=p(r,n=p(n,o,a,r,e[i+12],6,1700485571),o,a,e[i+3],10,-1894986606),n,o,e[i+10],15,-1051523),r,n,e[i+1],21,-2054922799),a=p(a,r=p(r,n=p(n,o,a,r,e[i+8],6,1873313359),o,a,e[i+15],10,-30611744),n,o,e[i+6],15,-1560198380),r,n,e[i+13],21,1309151649),a=p(a,r=p(r,n=p(n,o,a,r,e[i+4],6,-145523070),o,a,e[i+11],10,-1120210379),n,o,e[i+2],15,718787259),r,n,e[i+9],21,-343485551),n=h(n,l),o=h(o,f),a=h(a,d),r=h(r,m)}return Array(n,o,a,r)}function l(e,t,n,o,a,r){return h(f(h(h(t,e),h(o,r)),a),n)}function s(e,t,n,o,a,r,i){return l(t&n|~t&o,e,t,a,r,i)}function c(e,t,n,o,a,r,i){return l(t&o|n&~o,e,t,a,r,i)}function u(e,t,n,o,a,r,i){return l(t^n^o,e,t,a,r,i)}function p(e,t,n,o,a,r,i){return l(n^(t|~o),e,t,a,r,i)}function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function f(e,t){return e<<t|e>>>32-t}function d(e){for(var t=Array(),n=(1<<a)-1,o=0;o<e.length*a;o+=a)t[o>>5]|=(e.charCodeAt(o/a)&n)<<o%32;return t}function m(e){for(var t=o?"0123456789ABCDEF":"0123456789abcdef",n="",a=0;a<4*e.length;a++)n+=t.charAt(e[a>>2]>>a%4*8+4&15)+t.charAt(e[a>>2]>>a%4*8&15);return n}var y=function(){function e(){}return e.hex_md5=function(e){return r(e)},e}();n.default=y,cc._RF.pop()},{}],use_reversed_rotateBy:[function(e,t,n){"use strict";cc._RF.push(t,"053ebv+nDBNGrsgOZYeN2b0","use_reversed_rotateBy"),cc.RotateBy._reverse=!0,cc._RF.pop()},{}]},{},["use_reversed_rotateBy","AgoraApi","PlatformApi","AgoraBase","AgoraQQ","AgoraWeb","AgoraWechat","Xhr","BasePlatform","QQPlatform","WebPlatform","WechatPlatform","AudioManager","Clog","ResManager","ResUtil","LocalStorage","Time","UIBase","UIEnum","UIManager","UIUtil","BaseEnum","DeviceInfo","SS","ArrayUtil","CryptoJS","StringUtil","SyncPromise","UIEventCenter","Utility","md5","Constance","EnumCenter","EventCommond","AngleControl","BallControl","BaseControl","CountDownControl","CueControl","EffectControl","EndBallControl","FreeBallControl","GameTipsControl","GuideControl","GuideLineControl","HoleControl","PlayerControl","PowerControl","TableControl","TargetBallControl","VsControl","Ball","BallTexture","EffectBase","EffectInHole","Hole","Player","TargetBall","TargetBallTexture","GameCenter","GameDataManager","GiftManager","LoginManager","RoomManager","UIBaseManager","UIGameManager","UIReadyManager","UIResultManager","GameUserData","GiftData","LoginData","RoomData","CollitionFixForce","DragComp","FYCountDownMgr","FYTips","FYTipsMgr","InfiniteScrollView","UtilityEx","Entry","UIGame","UIReady","UIReadyPlayerSeat","UIResult"]);