window.__require=function e(t,n,o){function r(a,l){if(!n[a]){if(!t[a]){var s=a.split("/");if(s=s[s.length-1],!t[s]){var u="function"==typeof __require&&__require;if(!l&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){return r(t[a][1][e]||e)},c,c.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t,n){"use strict";n.byteLength=function(e){var t=u(e),n=t[0],o=t[1];return 3*(n+o)/4-o},n.toByteArray=function(e){var t,n,o=u(e),a=o[0],l=o[1],s=new i(c(e,a,l)),f=0,h=l>0?a-4:a;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],s[f++]=t>>16&255,s[f++]=t>>8&255,s[f++]=255&t;2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,s[f++]=255&t);1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,s[f++]=t>>8&255,s[f++]=255&t);return s},n.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i=[],a=0,l=n-r;a<l;a+=16383)i.push(h(e,a,a+16383>l?l:a+16383));1===r?(t=e[n-1],i.push(o[t>>2]+o[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(o[t>>10]+o[t>>4&63]+o[t<<2&63]+"="));return i.join("")};for(var o=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,s=a.length;l<s;++l)o[l]=a[l],r[a.charCodeAt(l)]=l;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){return 3*(t+n)/4-n}function f(e){return o[e>>18&63]+o[e>>12&63]+o[e>>6&63]+o[63&e]}function h(e,t,n){for(var o,r=[],i=t;i<n;i+=3)o=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),r.push(f(o));return r.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],2:[function(e,t,n){(function(t){"use strict";var o=e("base64-js"),r=e("ieee754"),i=e("isarray");function a(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=s.prototype:(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return u(this,e,t,n)}function u(e,t,n,o){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?m(e,t,n,o):"string"==typeof t?p(e,t,n):y(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t,n,o){return c(t),t<=0?l(e,t):void 0!==n?"string"==typeof o?l(e,t).fill(n,o):l(e,t).fill(n):l(e,t)}function h(e,t){if(c(t),e=l(e,t<0?0:0|g(t)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|_(t,n),r=(e=l(e,o)).write(t,n);return r!==o&&(e=e.slice(0,r)),e}function d(e,t){var n=t.length<0?0:0|g(t.length);e=l(e,n);for(var o=0;o<n;o+=1)e[o]=255&t[o];return e}function m(e,t,n,o){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===o?new Uint8Array(t):void 0===o?new Uint8Array(t,n):new Uint8Array(t,n,o),s.TYPED_ARRAY_SUPPORT?(e=t).__proto__=s.prototype:e=d(e,t),e}function y(e,t){if(s.isBuffer(t)){var n=0|g(t.length);return 0===(e=l(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||$(t.length)?l(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function _(e,t){if(s.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(e).length;default:if(o)return z(e).length;t=(""+t).toLowerCase(),o=!0}}function v(e,t,n){var o=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return U(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function b(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}function C(e,t,n,o,r){if(0===e.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=s.from(t,o)),s.isBuffer(t))return 0===t.length?-1:S(e,t,n,o,r);if("number"==typeof t)return t&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):S(e,[t],n,o,r);throw new TypeError("val must be string, number or Buffer")}function S(e,t,n,o,r){var i,a=1,l=e.length,s=t.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(e.length<2||t.length<2)return-1;a=2,l/=2,s/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var c=-1;for(i=n;i<l;i++)if(u(e,i)===u(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===s)return c*a}else-1!==c&&(i-=i-c),c=-1}else for(n+s>l&&(n=l-s),i=n;i>=0;i--){for(var f=!0,h=0;h<s;h++)if(u(e,i+h)!==u(t,h)){f=!1;break}if(f)return i}return-1}function E(e,t,n,o){n=Number(n)||0;var r=e.length-n;o?(o=Number(o))>r&&(o=r):o=r;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");o>i/2&&(o=i/2);for(var a=0;a<o;++a){var l=parseInt(t.substr(2*a,2),16);if(isNaN(l))return a;e[n+a]=l}return a}function w(e,t,n,o){return Z(z(t,e.length-n),e,n,o)}function T(e,t,n,o){return Z(Q(t),e,n,o)}function B(e,t,n,o){return T(e,t,n,o)}function R(e,t,n,o){return Z(X(t),e,n,o)}function M(e,t,n,o){return Z(J(t,e.length-n),e,n,o)}function I(e,t,n){return 0===t&&n===e.length?o.fromByteArray(e):o.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var o=[],r=t;r<n;){var i,a,l,s,u=e[r],c=null,f=u>239?4:u>223?3:u>191?2:1;if(r+f<=n)switch(f){case 1:u<128&&(c=u);break;case 2:128==(192&(i=e[r+1]))&&(s=(31&u)<<6|63&i)>127&&(c=s);break;case 3:i=e[r+1],a=e[r+2],128==(192&i)&&128==(192&a)&&(s=(15&u)<<12|(63&i)<<6|63&a)>2047&&(s<55296||s>57343)&&(c=s);break;case 4:i=e[r+1],a=e[r+2],l=e[r+3],128==(192&i)&&128==(192&a)&&128==(192&l)&&(s=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&l)>65535&&s<1114112&&(c=s)}null===c?(c=65533,f=1):c>65535&&(c-=65536,o.push(c>>>10&1023|55296),c=56320|1023&c),o.push(c),r+=f}return G(o)}n.Buffer=s,n.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},n.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=a(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,n){return u(null,e,t,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(e,t,n){return f(null,e,t,n)},s.allocUnsafe=function(e){return h(null,e)},s.allocUnsafeSlow=function(e){return h(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,o=t.length,r=0,i=Math.min(n,o);r<i;++r)if(e[r]!==t[r]){n=e[r],o=t[r];break}return n<o?-1:o<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var o=s.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(o,r),r+=a.length}return o},s.byteLength=_,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):v.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,o,r){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===o&&(o=0),void 0===r&&(r=this.length),t<0||n>e.length||o<0||r>this.length)throw new RangeError("out of range index");if(o>=r&&t>=n)return 0;if(o>=r)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,o>>>=0,r>>>=0,this===e)return 0;for(var i=r-o,a=n-t,l=Math.min(i,a),u=this.slice(o,r),c=e.slice(t,n),f=0;f<l;++f)if(u[f]!==c[f]){i=u[f],a=c[f];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return C(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return C(this,e,t,n,!1)},s.prototype.write=function(e,t,n,o){if(void 0===t)o="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)o=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===o&&(o="utf8")):(o=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var i=!1;;)switch(o){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return T(this,e,t,n);case"latin1":case"binary":return B(this,e,t,n);case"base64":return R(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function G(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);for(var n="",o=0;o<t;)n+=String.fromCharCode.apply(String,e.slice(o,o+=A));return n}function O(e,t,n){var o="";n=Math.min(e.length,n);for(var r=t;r<n;++r)o+=String.fromCharCode(127&e[r]);return o}function U(e,t,n){var o="";n=Math.min(e.length,n);for(var r=t;r<n;++r)o+=String.fromCharCode(e[r]);return o}function D(e,t,n){var o=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>o)&&(n=o);for(var r="",i=t;i<n;++i)r+=K(e[i]);return r}function N(e,t,n){for(var o=e.slice(t,n),r="",i=0;i<o.length;i+=2)r+=String.fromCharCode(o[i]+256*o[i+1]);return r}function x(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,n,o,r,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<i)throw new RangeError('"value" argument is out of bounds');if(n+o>e.length)throw new RangeError("Index out of range")}function F(e,t,n,o){t<0&&(t=65535+t+1);for(var r=0,i=Math.min(e.length-n,2);r<i;++r)e[n+r]=(t&255<<8*(o?r:1-r))>>>8*(o?r:1-r)}function L(e,t,n,o){t<0&&(t=4294967295+t+1);for(var r=0,i=Math.min(e.length-n,4);r<i;++r)e[n+r]=t>>>8*(o?r:3-r)&255}function H(e,t,n,o,r,i){if(n+o>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,o,i){return i||H(e,0,n,4),r.write(e,t,n,o,23,4),n+4}function V(e,t,n,o,i){return i||H(e,0,n,8),r.write(e,t,n,o,52,8),n+8}s.prototype.slice=function(e,t){var n,o=this.length;if(e=~~e,t=void 0===t?o:~~t,e<0?(e+=o)<0&&(e=0):e>o&&(e=o),t<0?(t+=o)<0&&(t=0):t>o&&(t=o),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=s.prototype;else{var r=t-e;n=new s(r,void 0);for(var i=0;i<r;++i)n[i]=this[i+e]}return n},s.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var o=this[e],r=1,i=0;++i<t&&(r*=256);)o+=this[e+i]*r;return o},s.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var o=this[e+--t],r=1;t>0&&(r*=256);)o+=this[e+--t]*r;return o},s.prototype.readUInt8=function(e,t){return t||x(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||x(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||x(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var o=this[e],r=1,i=0;++i<t&&(r*=256);)o+=this[e+i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var o=t,r=1,i=this[e+--o];o>0&&(r*=256);)i+=this[e+--o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){t||x(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){t||x(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||x(e,4,this.length),r.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||x(e,4,this.length),r.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||x(e,8,this.length),r.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||x(e,8,this.length),r.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,o){(e=+e,t|=0,n|=0,o)||k(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,i=0;for(this[t]=255&e;++i<n&&(r*=256);)this[t+i]=e/r&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,o){(e=+e,t|=0,n|=0,o)||k(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,i=1;for(this[t+r]=255&e;--r>=0&&(i*=256);)this[t+r]=e/i&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,n,o){if(e=+e,t|=0,!o){var r=Math.pow(2,8*n-1);k(this,e,t,n,r-1,-r)}var i=0,a=1,l=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===l&&0!==this[t+i-1]&&(l=1),this[t+i]=(e/a>>0)-l&255;return t+n},s.prototype.writeIntBE=function(e,t,n,o){if(e=+e,t|=0,!o){var r=Math.pow(2,8*n-1);k(this,e,t,n,r-1,-r)}var i=n-1,a=1,l=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===l&&0!==this[t+i+1]&&(l=1),this[t+i]=(e/a>>0)-l&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return V(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return V(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,o){if(n||(n=0),o||0===o||(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-n&&(o=e.length-t+n);var r,i=o-n;if(this===e&&n<t&&t<o)for(r=i-1;r>=0;--r)e[r+t]=this[r+n];else if(i<1e3||!s.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},s.prototype.fill=function(e,t,n,o){if("string"==typeof e){if("string"==typeof t?(o=t,t=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!s.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=s.isBuffer(e)?e:z(new s(e,o).toString()),l=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%l]}return this};var W=/[^+\/0-9A-Za-z-_]/g;function q(e){if((e=Y(e).replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function Y(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function K(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var o=e.length,r=null,i=[],a=0;a<o;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===o){(t-=3)>-1&&i.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Q(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function J(e,t){for(var n,o,r,i=[],a=0;a<e.length&&!((t-=2)<0);++a)o=(n=e.charCodeAt(a))>>8,r=n%256,i.push(r),i.push(o);return i}function X(e){return o.toByteArray(q(e))}function Z(e,t,n,o){for(var r=0;r<o&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function $(e){return e!=e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(e,t,n){var o={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==o.call(e)}},{}],4:[function(e,t,n){n.read=function(e,t,n,o,r){var i,a,l=8*r-o-1,s=(1<<l)-1,u=s>>1,c=-7,f=n?r-1:0,h=n?-1:1,p=e[t+f];for(f+=h,i=p&(1<<-c)-1,p>>=-c,c+=l;c>0;i=256*i+e[t+f],f+=h,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=o;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===i)i=1-u;else{if(i===s)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,o),i-=u}return(p?-1:1)*a*Math.pow(2,i-o)},n.write=function(e,t,n,o,r,i){var a,l,s,u=8*i-r-1,c=(1<<u)-1,f=c>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=o?0:i-1,d=o?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),(t+=a+f>=1?h/s:h*Math.pow(2,1-f))*s>=2&&(a++,s/=2),a+f>=c?(l=0,a=c):a+f>=1?(l=(t*s-1)*Math.pow(2,r),a+=f):(l=t*Math.pow(2,f-1)*Math.pow(2,r),a=0));r>=8;e[n+p]=255&l,p+=d,l/=256,r-=8);for(a=a<<r|l,u+=r;u>0;e[n+p]=255&a,p+=d,a/=256,u-=8);e[n+p-d]|=128*m}},{}],5:[function(e,t,n){(function(e){void 0!==t&&(t.exports=e);var n="listeners",o={on:function(e,t){return a(this,e).push(t),this},once:function(e,t){var n=this;return o.originalListener=t,a(n,e).push(o),n;function o(){i.call(n,e,o),t.apply(this,arguments)}},off:i,emit:function(e,t){var n=this,o=a(n,e,!0);if(!o)return!1;var r=arguments.length;if(1===r)o.forEach(function(e){e.call(n)});else if(2===r)o.forEach(function(e){e.call(n,t)});else{var i=Array.prototype.slice.call(arguments,1);o.forEach(function(e){e.apply(n,i)})}return!!o.length}};function r(e){for(var t in o)e[t]=o[t];return e}function i(e,t){var o;if(arguments.length){if(t){if(o=a(this,e,!0)){if(!(o=o.filter(function(e){return e!==t&&e.originalListener!==t})).length)return i.call(this,e);this[n][e]=o}}else if((o=this[n])&&(delete o[e],!Object.keys(o).length))return i.call(this)}else delete this[n];return this}function a(e,t,o){if(!o||e[n]){var r=e[n]||(e[n]={});return r[t]||(r[t]=[])}}r(e.prototype),e.mixin=r})(function e(){if(!(this instanceof e))return new e})},{}],6:[function(e,t,n){arguments[4][4][0].apply(n,arguments)},{dup:4}],7:[function(e,t,n){(function(e){!function(t){var n,o="undefined",r=o!==typeof e&&e,i=o!==typeof Uint8Array&&Uint8Array,a=o!==typeof ArrayBuffer&&ArrayBuffer,l=[0,0,0,0,0,0,0,0],s=Array.isArray||function(e){return!!e&&"[object Array]"==Object.prototype.toString.call(e)},u=4294967296,c=16777216;function f(e,s,f){var S=s?0:4,E=s?4:0,w=s?0:3,T=s?1:2,B=s?2:1,R=s?3:0,M=s?_:b,I=s?v:C,P=O.prototype,A="is"+e,G="_"+A;return P.buffer=void 0,P.offset=0,P[G]=!0,P.toNumber=N,P.toString=function(e){var t=this.buffer,n=this.offset,o=k(t,n+S),r=k(t,n+E),i="",a=!f&&2147483648&o;a&&(o=~o,r=u-r);e=e||10;for(;;){var l=o%e*u+r;if(o=Math.floor(o/e),r=Math.floor(l/e),i=(l%e).toString(e)+i,!o&&!r)break}a&&(i="-"+i);return i},P.toJSON=N,P.toArray=h,r&&(P.toBuffer=p),i&&(P.toArrayBuffer=d),O[A]=function(e){return!(!e||!e[G])},t[e]=O,O;function O(e,t,n,o){return this instanceof O?U(this,e,t,n,o):new O(e,t,n,o)}function U(e,t,r,s,u){if(i&&a&&(t instanceof a&&(t=new i(t)),s instanceof a&&(s=new i(s))),t||r||s||n){if(!m(t,r))u=r,s=t,r=0,t=new(n||Array)(8);e.buffer=t,e.offset=r|=0,o!==typeof s&&("string"==typeof s?D(t,r,s,u||10):m(s,u)?y(t,r,s,u):"number"==typeof u?(x(t,r+S,s),x(t,r+E,u)):s>0?M(t,r,s):s<0?I(t,r,s):y(t,r,l,0))}else e.buffer=g(l,0)}function D(e,t,n,o){var r=0,i=n.length,a=0,l=0;"-"===n[0]&&r++;for(var s=r;r<i;){var c=parseInt(n[r++],o);if(!(c>=0))break;l=l*o+c,a=a*o+Math.floor(l/u),l%=u}s&&(a=~a,l?l=u-l:a++),x(e,t+S,a),x(e,t+E,l)}function N(){var e=this.buffer,t=this.offset,n=k(e,t+S),o=k(e,t+E);return f||(n|=0),n?n*u+o:o}function x(e,t,n){e[t+R]=255&n,n>>=8,e[t+B]=255&n,n>>=8,e[t+T]=255&n,n>>=8,e[t+w]=255&n}function k(e,t){return e[t+w]*c+(e[t+T]<<16)+(e[t+B]<<8)+e[t+R]}}function h(e){var t=this.buffer,o=this.offset;return n=null,!1!==e&&0===o&&8===t.length&&s(t)?t:g(t,o)}function p(t){var o=this.buffer,i=this.offset;if(n=r,!1!==t&&0===i&&8===o.length&&e.isBuffer(o))return o;var a=new r(8);return y(a,0,o,i),a}function d(e){var t=this.buffer,o=this.offset,r=t.buffer;if(n=i,!1!==e&&0===o&&r instanceof a&&8===r.byteLength)return r;var l=new i(8);return y(l,0,t,o),l.buffer}function m(e,t){var n=e&&e.length;return t|=0,n&&t+8<=n&&"string"!=typeof e[t]}function y(e,t,n,o){t|=0,o|=0;for(var r=0;r<8;r++)e[t++]=255&n[o++]}function g(e,t){return Array.prototype.slice.call(e,t,t+8)}function _(e,t,n){for(var o=t+8;o>t;)e[--o]=255&n,n/=256}function v(e,t,n){var o=t+8;for(n++;o>t;)e[--o]=255&-n^255,n/=256}function b(e,t,n){for(var o=t+8;t<o;)e[t++]=255&n,n/=256}function C(e,t,n){var o=t+8;for(n++;t<o;)e[t++]=255&-n^255,n/=256}f("Uint64BE",!0,!0),f("Int64BE",!0,!1),f("Uint64LE",!1,!0),f("Int64LE",!1,!1)}("object"==typeof n&&"string"!=typeof n.nodeName?n:this||{})}).call(this,e("buffer").Buffer)},{buffer:2}],8:[function(e,t,n){arguments[4][3][0].apply(n,arguments)},{dup:3}],9:[function(e,t,n){n.encode=e("./encode").encode,n.decode=e("./decode").decode,n.Encoder=e("./encoder").Encoder,n.Decoder=e("./decoder").Decoder,n.createCodec=e("./ext").createCodec,n.codec=e("./codec").codec},{"./codec":18,"./decode":20,"./decoder":21,"./encode":23,"./encoder":24,"./ext":28}],10:[function(e,t,n){(function(e){function n(e){return e&&e.isBuffer&&e}t.exports=n(void 0!==e&&e)||n(this.Buffer)||n("undefined"!=typeof window&&window.Buffer)||this.Buffer}).call(this,e("buffer").Buffer)},{buffer:2}],11:[function(e,t,n){n.copy=function(e,t,n,o){var r;n||(n=0);o||0===o||(o=this.length);t||(t=0);var i=o-n;if(e===this&&n<t&&t<o)for(r=i-1;r>=0;r--)e[r+t]=this[r+n];else for(r=0;r<i;r++)e[r+t]=this[r+n];return i},n.toString=function(e,t,n){var o=0|t;n||(n=this.length);var r="",i=0;for(;o<n;)(i=this[o++])<128?r+=String.fromCharCode(i):(192==(224&i)?i=(31&i)<<6|63&this[o++]:224==(240&i)?i=(15&i)<<12|(63&this[o++])<<6|63&this[o++]:240==(248&i)&&(i=(7&i)<<18|(63&this[o++])<<12|(63&this[o++])<<6|63&this[o++]),i>=65536?(i-=65536,r+=String.fromCharCode(55296+(i>>>10),56320+(1023&i))):r+=String.fromCharCode(i));return r},n.write=function(e,t){var n=t||(t|=0),o=e.length,r=0,i=0;for(;i<o;)(r=e.charCodeAt(i++))<128?this[n++]=r:r<2048?(this[n++]=192|r>>>6,this[n++]=128|63&r):r<55296||r>57343?(this[n++]=224|r>>>12,this[n++]=128|r>>>6&63,this[n++]=128|63&r):(r=65536+(r-55296<<10|e.charCodeAt(i++)-56320),this[n++]=240|r>>>18,this[n++]=128|r>>>12&63,this[n++]=128|r>>>6&63,this[n++]=128|63&r);return n-t}},{}],12:[function(e,t,n){var o=e("./bufferish");function r(e){return new Array(e)}(n=t.exports=r(0)).alloc=r,n.concat=o.concat,n.from=function(e){if(!o.isBuffer(e)&&o.isView(e))e=o.Uint8Array.from(e);else if(o.isArrayBuffer(e))e=new Uint8Array(e);else{if("string"==typeof e)return o.from.call(n,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return Array.prototype.slice.call(e)}},{"./bufferish":16}],13:[function(e,t,n){var o=e("./bufferish"),r=o.global;function i(e){return new r(e)}(n=t.exports=o.hasBuffer?i(0):[]).alloc=o.hasBuffer&&r.alloc||i,n.concat=o.concat,n.from=function(e){if(!o.isBuffer(e)&&o.isView(e))e=o.Uint8Array.from(e);else if(o.isArrayBuffer(e))e=new Uint8Array(e);else{if("string"==typeof e)return o.from.call(n,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return r.from&&1!==r.from.length?r.from(e):new r(e)}},{"./bufferish":16}],14:[function(e,t,n){var o=e("./buffer-lite");n.copy=s,n.slice=u,n.toString=function(e,t,n){return(!a&&r.isBuffer(this)?this.toString:o.toString).apply(this,arguments)},n.write=function(e){return function(){return(this[e]||o[e]).apply(this,arguments)}}("write");var r=e("./bufferish"),i=r.global,a=r.hasBuffer&&"TYPED_ARRAY_SUPPORT"in i,l=a&&!i.TYPED_ARRAY_SUPPORT;function s(e,t,n,i){var a=r.isBuffer(this),s=r.isBuffer(e);if(a&&s)return this.copy(e,t,n,i);if(l||a||s||!r.isView(this)||!r.isView(e))return o.copy.call(this,e,t,n,i);var c=n||null!=i?u.call(this,n,i):this;return e.set(c,t),c.length}function u(e,t){var n=this.slice||!l&&this.subarray;if(n)return n.call(this,e,t);var o=r.alloc.call(this,t-e);return s.call(this,o,0,e,t),o}},{"./buffer-lite":11,"./bufferish":16}],15:[function(e,t,n){var o=e("./bufferish");function r(e){return new Uint8Array(e)}(n=t.exports=o.hasArrayBuffer?r(0):[]).alloc=r,n.concat=o.concat,n.from=function(e){if(o.isView(e)){var t=e.byteOffset,r=e.byteLength;(e=e.buffer).byteLength!==r&&(e.slice?e=e.slice(t,t+r):(e=new Uint8Array(e)).byteLength!==r&&(e=Array.prototype.slice.call(e,t,t+r)))}else{if("string"==typeof e)return o.from.call(n,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return new Uint8Array(e)}},{"./bufferish":16}],16:[function(e,t,n){var o=n.global=e("./buffer-global"),r=n.hasBuffer=o&&!!o.isBuffer,i=n.hasArrayBuffer="undefined"!=typeof ArrayBuffer,a=n.isArray=e("isarray");n.isArrayBuffer=i?function(e){return e instanceof ArrayBuffer||d(e)}:g;var l=n.isBuffer=r?o.isBuffer:g,s=n.isView=i?ArrayBuffer.isView||_("ArrayBuffer","buffer"):g;n.alloc=p,n.concat=function(e,t){t||(t=0,Array.prototype.forEach.call(e,function(e){t+=e.length}));var o=this!==n&&this||e[0],r=p.call(o,t),i=0;return Array.prototype.forEach.call(e,function(e){i+=h.copy.call(e,r,i)}),r},n.from=function(e){return"string"==typeof e?m.call(this,e):y(this).from(e)};var u=n.Array=e("./bufferish-array"),c=n.Buffer=e("./bufferish-buffer"),f=n.Uint8Array=e("./bufferish-uint8array"),h=n.prototype=e("./bufferish-proto");function p(e){return y(this).alloc(e)}var d=_("ArrayBuffer");function m(e){var t=3*e.length,n=p.call(this,t),o=h.write.call(n,e);return t!==o&&(n=h.slice.call(n,0,o)),n}function y(e){return l(e)?c:s(e)?f:a(e)?u:r?c:i?f:u}function g(){return!1}function _(e,t){return e="[object "+e+"]",function(n){return null!=n&&{}.toString.call(t?n[t]:n)===e}}},{"./buffer-global":10,"./bufferish-array":12,"./bufferish-buffer":13,"./bufferish-proto":14,"./bufferish-uint8array":15,isarray:8}],17:[function(e,t,n){var o=e("isarray");n.createCodec=s,n.install=function(e){for(var t in e)i.prototype[t]=a(i.prototype[t],e[t])},n.filter=function(e){return o(e)?l(e):e};var r=e("./bufferish");function i(e){if(!(this instanceof i))return new i(e);this.options=e,this.init()}function a(e,t){return e&&t?function(){return e.apply(this,arguments),t.apply(this,arguments)}:e||t}function l(e){return e=e.slice(),function(n){return e.reduce(t,n)};function t(e,t){return t(e)}}function s(e){return new i(e)}i.prototype.init=function(){var e=this.options;return e&&e.uint8array&&(this.bufferish=r.Uint8Array),this},n.preset=s({preset:!0})},{"./bufferish":16,isarray:8}],18:[function(e,t,n){e("./read-core"),e("./write-core"),n.codec={preset:e("./codec-base").preset}},{"./codec-base":17,"./read-core":30,"./write-core":33}],19:[function(e,t,n){n.DecodeBuffer=r;var o=e("./read-core").preset;function r(e){if(!(this instanceof r))return new r(e);if(e&&(this.options=e,e.codec)){var t=this.codec=e.codec;t.bufferish&&(this.bufferish=t.bufferish)}}e("./flex-buffer").FlexDecoder.mixin(r.prototype),r.prototype.codec=o,r.prototype.fetch=function(){return this.codec.decode(this)}},{"./flex-buffer":29,"./read-core":30}],20:[function(e,t,n){n.decode=function(e,t){var n=new o(t);return n.write(e),n.read()};var o=e("./decode-buffer").DecodeBuffer},{"./decode-buffer":19}],21:[function(e,t,n){n.Decoder=i;var o=e("event-lite"),r=e("./decode-buffer").DecodeBuffer;function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}i.prototype=new r,o.mixin(i.prototype),i.prototype.decode=function(e){arguments.length&&this.write(e),this.flush()},i.prototype.push=function(e){this.emit("data",e)},i.prototype.end=function(e){this.decode(e),this.emit("end")}},{"./decode-buffer":19,"event-lite":5}],22:[function(e,t,n){n.EncodeBuffer=r;var o=e("./write-core").preset;function r(e){if(!(this instanceof r))return new r(e);if(e&&(this.options=e,e.codec)){var t=this.codec=e.codec;t.bufferish&&(this.bufferish=t.bufferish)}}e("./flex-buffer").FlexEncoder.mixin(r.prototype),r.prototype.codec=o,r.prototype.write=function(e){this.codec.encode(this,e)}},{"./flex-buffer":29,"./write-core":33}],23:[function(e,t,n){n.encode=function(e,t){var n=new o(t);return n.write(e),n.read()};var o=e("./encode-buffer").EncodeBuffer},{"./encode-buffer":22}],24:[function(e,t,n){n.Encoder=i;var o=e("event-lite"),r=e("./encode-buffer").EncodeBuffer;function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}i.prototype=new r,o.mixin(i.prototype),i.prototype.encode=function(e){this.write(e),this.emit("data",this.read())},i.prototype.end=function(e){arguments.length&&this.encode(e),this.flush(),this.emit("end")}},{"./encode-buffer":22,"event-lite":5}],25:[function(e,t,n){n.ExtBuffer=function e(t,n){if(!(this instanceof e))return new e(t,n);this.buffer=o.from(t);this.type=n};var o=e("./bufferish")},{"./bufferish":16}],26:[function(e,t,n){n.setExtPackers=function(e){e.addExtPacker(14,Error,[f,s]),e.addExtPacker(1,EvalError,[f,s]),e.addExtPacker(2,RangeError,[f,s]),e.addExtPacker(3,ReferenceError,[f,s]),e.addExtPacker(4,SyntaxError,[f,s]),e.addExtPacker(5,TypeError,[f,s]),e.addExtPacker(6,URIError,[f,s]),e.addExtPacker(10,RegExp,[c,s]),e.addExtPacker(11,Boolean,[u,s]),e.addExtPacker(12,String,[u,s]),e.addExtPacker(13,Date,[Number,s]),e.addExtPacker(15,Number,[u,s]),"undefined"!=typeof Uint8Array&&(e.addExtPacker(17,Int8Array,a),e.addExtPacker(18,Uint8Array,a),e.addExtPacker(19,Int16Array,a),e.addExtPacker(20,Uint16Array,a),e.addExtPacker(21,Int32Array,a),e.addExtPacker(22,Uint32Array,a),e.addExtPacker(23,Float32Array,a),"undefined"!=typeof Float64Array&&e.addExtPacker(24,Float64Array,a),"undefined"!=typeof Uint8ClampedArray&&e.addExtPacker(25,Uint8ClampedArray,a),e.addExtPacker(26,ArrayBuffer,a),e.addExtPacker(29,DataView,a));r.hasBuffer&&e.addExtPacker(27,i,r.from)};var o,r=e("./bufferish"),i=r.global,a=r.Uint8Array.from,l={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function s(t){return o||(o=e("./encode").encode),o(t)}function u(e){return e.valueOf()}function c(e){(e=RegExp.prototype.toString.call(e).split("/")).shift();var t=[e.pop()];return t.unshift(e.join("/")),t}function f(e){var t={};for(var n in l)t[n]=e[n];return t}},{"./bufferish":16,"./encode":23}],27:[function(e,t,n){n.setExtUnpackers=function(e){e.addExtUnpacker(14,[l,u(Error)]),e.addExtUnpacker(1,[l,u(EvalError)]),e.addExtUnpacker(2,[l,u(RangeError)]),e.addExtUnpacker(3,[l,u(ReferenceError)]),e.addExtUnpacker(4,[l,u(SyntaxError)]),e.addExtUnpacker(5,[l,u(TypeError)]),e.addExtUnpacker(6,[l,u(URIError)]),e.addExtUnpacker(10,[l,s]),e.addExtUnpacker(11,[l,c(Boolean)]),e.addExtUnpacker(12,[l,c(String)]),e.addExtUnpacker(13,[l,c(Date)]),e.addExtUnpacker(15,[l,c(Number)]),"undefined"!=typeof Uint8Array&&(e.addExtUnpacker(17,c(Int8Array)),e.addExtUnpacker(18,c(Uint8Array)),e.addExtUnpacker(19,[f,c(Int16Array)]),e.addExtUnpacker(20,[f,c(Uint16Array)]),e.addExtUnpacker(21,[f,c(Int32Array)]),e.addExtUnpacker(22,[f,c(Uint32Array)]),e.addExtUnpacker(23,[f,c(Float32Array)]),"undefined"!=typeof Float64Array&&e.addExtUnpacker(24,[f,c(Float64Array)]),"undefined"!=typeof Uint8ClampedArray&&e.addExtUnpacker(25,c(Uint8ClampedArray)),e.addExtUnpacker(26,f),e.addExtUnpacker(29,[f,c(DataView)]));r.hasBuffer&&e.addExtUnpacker(27,c(i))};var o,r=e("./bufferish"),i=r.global,a={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function l(t){return o||(o=e("./decode").decode),o(t)}function s(e){return RegExp.apply(null,e)}function u(e){return function(t){var n=new e;for(var o in a)n[o]=t[o];return n}}function c(e){return function(t){return new e(t)}}function f(e){return new Uint8Array(e).buffer}},{"./bufferish":16,"./decode":20}],28:[function(e,t,n){e("./read-core"),e("./write-core"),n.createCodec=e("./codec-base").createCodec},{"./codec-base":17,"./read-core":30,"./write-core":33}],29:[function(e,t,n){n.FlexDecoder=l,n.FlexEncoder=s;var o=e("./bufferish"),r=2048,i=65536,a="BUFFER_SHORTAGE";function l(){if(!(this instanceof l))return new l}function s(){if(!(this instanceof s))return new s}function u(){throw new Error("method not implemented: write()")}function c(){throw new Error("method not implemented: fetch()")}function f(){return this.buffers&&this.buffers.length?(this.flush(),this.pull()):this.fetch()}function h(e){(this.buffers||(this.buffers=[])).push(e)}function p(){return(this.buffers||(this.buffers=[])).shift()}function d(e){return function(t){for(var n in e)t[n]=e[n];return t}}l.mixin=d(function(){return{bufferish:o,write:function(e){var t=this.offset?o.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=t?e?this.bufferish.concat([t,e]):t:e,this.offset=0},fetch:c,flush:function(){for(;this.offset<this.buffer.length;){var e,t=this.offset;try{e=this.fetch()}catch(e){if(e&&e.message!=a)throw e;this.offset=t;break}this.push(e)}},push:h,pull:p,read:f,reserve:function(e){var t=this.offset,n=t+e;if(n>this.buffer.length)throw new Error(a);return this.offset=n,t},offset:0}}()),l.mixin(l.prototype),s.mixin=d(function(){return{bufferish:o,write:u,fetch:function(){var e=this.start;if(e<this.offset){var t=this.start=this.offset;return o.prototype.slice.call(this.buffer,e,t)}},flush:function(){for(;this.start<this.offset;){var e=this.fetch();e&&this.push(e)}},push:h,pull:function(){var e=this.buffers||(this.buffers=[]),t=e.length>1?this.bufferish.concat(e):e[0];return e.length=0,t},read:f,reserve:function(e){var t=0|e;if(this.buffer){var n=this.buffer.length,o=0|this.offset,r=o+t;if(r<n)return this.offset=r,o;this.flush(),e=Math.max(e,Math.min(2*n,this.maxBufferSize))}return e=Math.max(e,this.minBufferSize),this.buffer=this.bufferish.alloc(e),this.start=0,this.offset=t,0},send:function(e){var t=e.length;if(t>this.minBufferSize)this.flush(),this.push(e);else{var n=this.reserve(t);o.prototype.copy.call(e,this.buffer,n)}},maxBufferSize:i,minBufferSize:r,offset:0,start:0}}()),s.mixin(s.prototype)},{"./bufferish":16}],30:[function(e,t,n){var o=e("./ext-buffer").ExtBuffer,r=e("./ext-unpacker"),i=e("./read-format").readUint8,a=e("./read-token"),l=e("./codec-base");function s(e){var t=a.getReadToken(e);return function(e){var n=i(e),o=t[n];if(!o)throw new Error("Invalid type: "+(n?"0x"+n.toString(16):n));return o(e)}}function u(){var e=this.options;return this.decode=s(e),e&&e.preset&&r.setExtUnpackers(this),this}l.install({addExtUnpacker:function(e,t){(this.extUnpackers||(this.extUnpackers=[]))[e]=l.filter(t)},getExtUnpacker:function(e){return(this.extUnpackers||(this.extUnpackers=[]))[e]||function(t){return new o(t,e)}},init:u}),n.preset=u.call(l.preset)},{"./codec-base":17,"./ext-buffer":25,"./ext-unpacker":27,"./read-format":31,"./read-token":32}],31:[function(e,t,n){var o=e("ieee754"),r=e("int64-buffer"),i=r.Uint64BE,a=r.Int64BE;n.getReadFormat=function(e){var t=l.hasArrayBuffer&&e&&e.binarraybuffer,n=e&&e.int64;return{map:u&&e&&e.usemap?h:f,array:p,str:d,bin:t?y:m,ext:g,uint8:_,uint16:b,uint32:S,uint64:w(8,n?R:T),int8:v,int16:C,int32:E,int64:w(8,n?M:B),float32:w(4,I),float64:w(8,P)}},n.readUint8=_;var l=e("./bufferish"),s=e("./bufferish-proto"),u="undefined"!=typeof Map,c=!0;function f(e,t){var n,o={},r=new Array(t),i=new Array(t),a=e.codec.decode;for(n=0;n<t;n++)r[n]=a(e),i[n]=a(e);for(n=0;n<t;n++)o[r[n]]=i[n];return o}function h(e,t){var n,o=new Map,r=new Array(t),i=new Array(t),a=e.codec.decode;for(n=0;n<t;n++)r[n]=a(e),i[n]=a(e);for(n=0;n<t;n++)o.set(r[n],i[n]);return o}function p(e,t){for(var n=new Array(t),o=e.codec.decode,r=0;r<t;r++)n[r]=o(e);return n}function d(e,t){var n=e.reserve(t),o=n+t;return s.toString.call(e.buffer,"utf-8",n,o)}function m(e,t){var n=e.reserve(t),o=n+t,r=s.slice.call(e.buffer,n,o);return l.from(r)}function y(e,t){var n=e.reserve(t),o=n+t,r=s.slice.call(e.buffer,n,o);return l.Uint8Array.from(r).buffer}function g(e,t){var n=e.reserve(t+1),o=e.buffer[n++],r=n+t,i=e.codec.getExtUnpacker(o);if(!i)throw new Error("Invalid ext type: "+(o?"0x"+o.toString(16):o));return i(s.slice.call(e.buffer,n,r))}function _(e){var t=e.reserve(1);return e.buffer[t]}function v(e){var t=e.reserve(1),n=e.buffer[t];return 128&n?n-256:n}function b(e){var t=e.reserve(2),n=e.buffer;return n[t++]<<8|n[t]}function C(e){var t=e.reserve(2),n=e.buffer,o=n[t++]<<8|n[t];return 32768&o?o-65536:o}function S(e){var t=e.reserve(4),n=e.buffer;return 16777216*n[t++]+(n[t++]<<16)+(n[t++]<<8)+n[t]}function E(e){var t=e.reserve(4),n=e.buffer;return n[t++]<<24|n[t++]<<16|n[t++]<<8|n[t]}function w(e,t){return function(n){var o=n.reserve(e);return t.call(n.buffer,o,c)}}function T(e){return new i(this,e).toNumber()}function B(e){return new a(this,e).toNumber()}function R(e){return new i(this,e)}function M(e){return new a(this,e)}function I(e){return o.read(this,e,!1,23,4)}function P(e){return o.read(this,e,!1,52,8)}},{"./bufferish":16,"./bufferish-proto":14,ieee754:6,"int64-buffer":7}],32:[function(e,t,n){var o=e("./read-format");function r(e){var t,n=new Array(256);for(t=0;t<=127;t++)n[t]=a(t);for(t=128;t<=143;t++)n[t]=s(t-128,e.map);for(t=144;t<=159;t++)n[t]=s(t-144,e.array);for(t=160;t<=191;t++)n[t]=s(t-160,e.str);for(n[192]=a(null),n[193]=null,n[194]=a(!1),n[195]=a(!0),n[196]=l(e.uint8,e.bin),n[197]=l(e.uint16,e.bin),n[198]=l(e.uint32,e.bin),n[199]=l(e.uint8,e.ext),n[200]=l(e.uint16,e.ext),n[201]=l(e.uint32,e.ext),n[202]=e.float32,n[203]=e.float64,n[204]=e.uint8,n[205]=e.uint16,n[206]=e.uint32,n[207]=e.uint64,n[208]=e.int8,n[209]=e.int16,n[210]=e.int32,n[211]=e.int64,n[212]=s(1,e.ext),n[213]=s(2,e.ext),n[214]=s(4,e.ext),n[215]=s(8,e.ext),n[216]=s(16,e.ext),n[217]=l(e.uint8,e.str),n[218]=l(e.uint16,e.str),n[219]=l(e.uint32,e.str),n[220]=l(e.uint16,e.array),n[221]=l(e.uint32,e.array),n[222]=l(e.uint16,e.map),n[223]=l(e.uint32,e.map),t=224;t<=255;t++)n[t]=a(t-256);return n}function i(e){var t,n=r(e).slice();for(n[217]=n[196],n[218]=n[197],n[219]=n[198],t=160;t<=191;t++)n[t]=s(t-160,e.bin);return n}function a(e){return function(){return e}}function l(e,t){return function(n){var o=e(n);return t(n,o)}}function s(e,t){return function(n){return t(n,e)}}n.getReadToken=function(e){var t=o.getReadFormat(e);return e&&e.useraw?i(t):r(t)}},{"./read-format":31}],33:[function(e,t,n){var o=e("./ext-buffer").ExtBuffer,r=e("./ext-packer"),i=e("./write-type"),a=e("./codec-base");function l(e){var t=i.getWriteType(e);return function(e,n){var o=t[typeof n];if(!o)throw new Error('Unsupported type "'+typeof n+'": '+n);o(e,n)}}function s(){var e=this.options;return this.encode=l(e),e&&e.preset&&r.setExtPackers(this),this}a.install({addExtPacker:function(e,t,n){n=a.filter(n);var r=t.name;if(r&&"Object"!==r){var i=this.extPackers||(this.extPackers={});i[r]=s}else{var l=this.extEncoderList||(this.extEncoderList=[]);l.unshift([t,s])}function s(t){return n&&(t=n(t)),new o(t,e)}},getExtPacker:function(e){var t=this.extPackers||(this.extPackers={}),n=e.constructor,o=n&&n.name&&t[n.name];if(o)return o;for(var r=this.extEncoderList||(this.extEncoderList=[]),i=r.length,a=0;a<i;a++){var l=r[a];if(n===l[0])return l[1]}},init:s}),n.preset=s.call(a.preset)},{"./codec-base":17,"./ext-buffer":25,"./ext-packer":26,"./write-type":35}],34:[function(e,t,n){var o=e("ieee754"),r=e("int64-buffer"),i=r.Uint64BE,a=r.Int64BE,l=e("./write-uint8").uint8,s=e("./bufferish"),u=s.global,c=s.hasBuffer&&"TYPED_ARRAY_SUPPORT"in u&&!u.TYPED_ARRAY_SUPPORT,f=s.hasBuffer&&u.prototype||{};function h(){var e=p();return e[202]=_(202,4,C),e[203]=_(203,8,S),e}function p(){var e=l.slice();return e[196]=m(196),e[197]=y(197),e[198]=g(198),e[199]=m(199),e[200]=y(200),e[201]=g(201),e[202]=_(202,4,f.writeFloatBE||C,!0),e[203]=_(203,8,f.writeDoubleBE||S,!0),e[204]=m(204),e[205]=y(205),e[206]=g(206),e[207]=_(207,8,v),e[208]=m(208),e[209]=y(209),e[210]=g(210),e[211]=_(211,8,b),e[217]=m(217),e[218]=y(218),e[219]=g(219),e[220]=y(220),e[221]=g(221),e[222]=y(222),e[223]=g(223),e}function d(){var e=l.slice();return e[196]=_(196,1,u.prototype.writeUInt8),e[197]=_(197,2,u.prototype.writeUInt16BE),e[198]=_(198,4,u.prototype.writeUInt32BE),e[199]=_(199,1,u.prototype.writeUInt8),e[200]=_(200,2,u.prototype.writeUInt16BE),e[201]=_(201,4,u.prototype.writeUInt32BE),e[202]=_(202,4,u.prototype.writeFloatBE),e[203]=_(203,8,u.prototype.writeDoubleBE),e[204]=_(204,1,u.prototype.writeUInt8),e[205]=_(205,2,u.prototype.writeUInt16BE),e[206]=_(206,4,u.prototype.writeUInt32BE),e[207]=_(207,8,v),e[208]=_(208,1,u.prototype.writeInt8),e[209]=_(209,2,u.prototype.writeInt16BE),e[210]=_(210,4,u.prototype.writeInt32BE),e[211]=_(211,8,b),e[217]=_(217,1,u.prototype.writeUInt8),e[218]=_(218,2,u.prototype.writeUInt16BE),e[219]=_(219,4,u.prototype.writeUInt32BE),e[220]=_(220,2,u.prototype.writeUInt16BE),e[221]=_(221,4,u.prototype.writeUInt32BE),e[222]=_(222,2,u.prototype.writeUInt16BE),e[223]=_(223,4,u.prototype.writeUInt32BE),e}function m(e){return function(t,n){var o=t.reserve(2),r=t.buffer;r[o++]=e,r[o]=n}}function y(e){return function(t,n){var o=t.reserve(3),r=t.buffer;r[o++]=e,r[o++]=n>>>8,r[o]=n}}function g(e){return function(t,n){var o=t.reserve(5),r=t.buffer;r[o++]=e,r[o++]=n>>>24,r[o++]=n>>>16,r[o++]=n>>>8,r[o]=n}}function _(e,t,n,o){return function(r,i){var a=r.reserve(t+1);r.buffer[a++]=e,n.call(r.buffer,i,a,o)}}function v(e,t){new i(this,t,e)}function b(e,t){new a(this,t,e)}function C(e,t){o.write(this,e,t,!1,23,4)}function S(e,t){o.write(this,e,t,!1,52,8)}n.getWriteToken=function(e){return e&&e.uint8array?h():c||s.hasBuffer&&e&&e.safe?d():p()}},{"./bufferish":16,"./write-uint8":36,ieee754:6,"int64-buffer":7}],35:[function(e,t,n){var o=e("isarray"),r=e("int64-buffer"),i=r.Uint64BE,a=r.Int64BE,l=e("./bufferish"),s=e("./bufferish-proto"),u=e("./write-token"),c=e("./write-uint8").uint8,f=e("./ext-buffer").ExtBuffer,h="undefined"!=typeof Uint8Array,p="undefined"!=typeof Map,d=[];d[1]=212,d[2]=213,d[4]=214,d[8]=215,d[16]=216,n.getWriteType=function(e){var t=u.getWriteToken(e),n=e&&e.useraw,r=h&&e&&e.binarraybuffer,m=r?l.isArrayBuffer:l.isBuffer,y=r?function(e,t){E(e,new Uint8Array(t))}:E,g=p&&e&&e.usemap?function(e,n){if(!(n instanceof Map))return T(e,n);var o=n.size;t[o<16?128+o:o<=65535?222:223](e,o);var r=e.codec.encode;n.forEach(function(t,n,o){r(e,n),r(e,t)})}:T;return{boolean:function(e,n){t[n?195:194](e,n)},function:C,number:function(e,n){var o,r=0|n;if(n!==r)return void t[o=203](e,n);o=-32<=r&&r<=127?255&r:0<=r?r<=255?204:r<=65535?205:206:-128<=r?208:-32768<=r?209:210;t[o](e,r)},object:n?function(e,t){if(m(t))return B(e,t);b(e,t)}:b,string:function(e){return function(n,o){var r=o.length,i=5+3*r;n.offset=n.reserve(i);var a=n.buffer,l=e(r),u=n.offset+l;r=s.write.call(a,o,u);var c=e(r);if(l!==c){var f=u+c-l,h=u+r;s.copy.call(a,a,f,u,h)}t[1===c?160+r:c<=3?215+c:219](n,r),n.offset+=r}}(n?function(e){return e<32?1:e<=65535?3:5}:function(e){return e<32?1:e<=255?2:e<=65535?3:5}),symbol:C,undefined:C};function _(e,n){t[207](e,n.toArray())}function v(e,n){t[211](e,n.toArray())}function b(e,t){if(null===t)return C(e,t);if(m(t))return y(e,t);if(o(t))return S(e,t);if(i.isUint64BE(t))return _(e,t);if(a.isInt64BE(t))return v(e,t);var n=e.codec.getExtPacker(t);if(n&&(t=n(t)),t instanceof f)return w(e,t);g(e,t)}function C(e,n){t[192](e,n)}function S(e,n){var o=n.length,r=o<16?144+o:o<=65535?220:221;t[r](e,o);for(var i=e.codec.encode,a=0;a<o;a++)i(e,n[a])}function E(e,n){var o=n.length,r=o<255?196:o<=65535?197:198;t[r](e,o),e.send(n)}function w(e,n){var o=n.buffer,r=o.length,i=d[r]||(r<255?199:r<=65535?200:201);t[i](e,r),c[n.type](e),e.send(o)}function T(e,n){var o=Object.keys(n),r=o.length,i=r<16?128+r:r<=65535?222:223;t[i](e,r);var a=e.codec.encode;o.forEach(function(t){a(e,t),a(e,n[t])})}function B(e,n){var o=n.length,r=o<32?160+o:o<=65535?218:219;t[r](e,o),e.send(n)}}},{"./bufferish":16,"./bufferish-proto":14,"./ext-buffer":25,"./write-token":34,"./write-uint8":36,"int64-buffer":7,isarray:8}],36:[function(e,t,n){for(var o=n.uint8=new Array(256),r=0;r<=255;r++)o[r]=i(r);function i(e){return function(t){var n=t.reserve(1);t.buffer[n]=e}}},{}],AgoraApi:[function(e,t,n){"use strict";cc._RF.push(t,"7639fEoIkdOxLRMd2ttaShO","AgoraApi"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./agora/AgoraWeb"),r=e("./agora/AgoraWechat"),i=e("./agora/AgoraQQ"),a=e("../global/BaseEnum"),l=e("../global/SS"),s=function(){function e(){this._agora=null}return Object.defineProperty(e.prototype,"Agora",{get:function(){if(!this._agora)switch(l.SS.CurAgoraType){case a.EnumAgoraType.WEB:this._agora=new o.AgoraWeb;break;case a.EnumAgoraType.QQ:this._agora=new i.AgoraQQ;break;case a.EnumAgoraType.WECHAT:this._agora=new r.AgoraWechat}return this._agora},enumerable:!0,configurable:!0}),e}();n._AgoraApi=s,n.AgoraApi=new s,cc._RF.pop()},{"../global/BaseEnum":"BaseEnum","../global/SS":"SS","./agora/AgoraQQ":"AgoraQQ","./agora/AgoraWeb":"AgoraWeb","./agora/AgoraWechat":"AgoraWechat"}],AgoraBase:[function(e,t,n){"use strict";cc._RF.push(t,"d5ec8bd9BBMPIU3jq83imrg","AgoraBase"),Object.defineProperty(n,"__esModule",{value:!0});var o,r=function(){function e(){}return e.EventVoIPChatSpeakersChanged="EventVoIPChatSpeakersChanged",e.EventVoIPChatInterrupted="EventVoIPChatInterrupted",e.EventVoIPChatMembersChanged="EventVoIPChatMembersChanged",e}();n.EventAgora=r,function(e){e.AUDIENCE="audience",e.HOST="host"}(o=n.EnumAgoraRole||(n.EnumAgoraRole={}));var i=function(){return function(e,t){this.Message="",this.Level=0,this.Message=e,this.Level=t}}();n.AgoraErrorMessage=i,n.AGORA_ERROR={1001:new i("\u52a0\u8f7d\u5a92\u4f53\u5f15\u64ce\u5931\u8d25",2),1002:new i("\u542f\u52a8\u5a92\u4f53\u5f15\u64ce\u5f00\u59cb\u901a\u8bdd\u5931\u8d25",2),1003:new i("\u542f\u52a8\u6444\u50cf\u5934\u5931\u8d25",2),1004:new i("\u542f\u52a8\u89c6\u9891\u6e32\u67d3\u6a21\u5757\u5931\u8d25",2),1005:new i("\u97f3\u9891\u8bbe\u5907\u51fa\u73b0\u4e00\u822c\u6027\u9519\u8bef",2),1006:new i("\u97f3\u9891\u8bbe\u5907\uff0c\u4f7f\u7528java\u8d44\u6e90\u51fa\u73b0\u9519\u8bef",2),1007:new i("\u97f3\u9891\u8bbe\u5907\uff0c\u8bbe\u7f6e\u7684\u91c7\u6837\u9891\u7387\u51fa\u9519",1),1008:new i("\u97f3\u9891\u8bbe\u5907\uff0c\u521d\u59cb\u5316\u64ad\u653e\u8bbe\u5907\u9519\u8bef",1),1009:new i("\u8bf7\u5f00\u542f\u5f55\u97f3\u6743\u9650\uff0c\u542f\u52a8\u64ad\u653e\u8bbe\u5907\u9519\u8bef",1),1010:new i("\u97f3\u9891\u8bbe\u5907\uff0c\u505c\u6b62\u64ad\u653e\u8bbe\u5907\u51fa\u73b0\u9519\u8bef",0),1011:new i("\u97f3\u9891\u8bbe\u5907\uff0c\u521d\u59cb\u5316\u5f55\u97f3\u8bbe\u5907\u9519\u8bef",1),1012:new i("\u8bf7\u5f00\u542f\u5f55\u97f3\u6743\u9650\uff0c\u542f\u52a8\u5f55\u97f3\u8bbe\u5907\u9519\u8bef",1),1027:new i("\u8bf7\u5f00\u542f\u5f55\u97f3\u6743\u9650\uff0c\u542f\u52a8\u5f55\u97f3\u8bbe\u5907\u9519\u8bef",1),1013:new i("\u97f3\u9891\u8bbe\u5907\uff0c\u505c\u6b62\u5f55\u97f3\u8bbe\u5907\u9519\u8bef",0),1015:new i("\u97f3\u9891\u8bbe\u5907\uff0c\u8fd0\u884c\u65f6\u51fa\u73b0\u9519\u8bef",2),1017:new i("\u97f3\u9891\u8bbe\u5907\uff0c\u8fd0\u884c\u65f6\u5f55\u97f3\u9519\u8bef",2),1018:new i("\u97f3\u9891\u8bbe\u5907\uff0c\u5f55\u97f3\u5931\u8d25",2),1022:new i("\u97f3\u9891\u8bbe\u5907\uff0c\u521d\u59cb\u5316loopback\u8bbe\u5907\u9519\u8bef",2),1023:new i("\u97f3\u9891\u8bbe\u5907\uff0c\u542f\u52a8loopback\u8bbe\u5907\u9519\u8bef",2),1108:new i("\u97f3\u9891\u8bbe\u5907\uff0c\u521d\u59cb\u5316\u64ad\u653e\u8bbe\u5907\u9519\u8bef",1),1501:new i("\u89c6\u9891\u8bbe\u5907\uff0c\u6444\u50cf\u5934\u6ca1\u6709\u6743\u9650",2)};var a=function(){function e(){this._uid="",this._token="",this._rid="",this._uids=[],this._role=o.AUDIENCE,this._muteMicrophone=!1,this._muteLoudspeaker=!1,this._speakingUids=[]}return Object.defineProperty(e.prototype,"Uid",{get:function(){return this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Token",{get:function(){return this._token},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rid",{get:function(){return this._rid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Uids",{get:function(){return this._uids},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Role",{get:function(){return this._role},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsMuteMicrophone",{get:function(){return this._muteMicrophone},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsMuteLoudspeaker",{get:function(){return this._muteLoudspeaker},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SpeakingUids",{get:function(){return this._speakingUids.slice(0)},enumerable:!0,configurable:!0}),e.prototype.Dispose=function(){this._uid="",this._token="",this._rid="",this._uids=[],this._role=o.AUDIENCE,this._muteMicrophone=!1,this._muteLoudspeaker=!1},e}();n.AgoraBase=a,cc._RF.pop()},{}],AgoraQQ:[function(e,t,n){"use strict";cc._RF.push(t,"f269b6MGWJFAYzhemDV15oS","AgoraQQ");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,l)}s((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./AgoraBase"),l=e("../../util/CryptoJS"),s=e("../../global/SS"),u=function(){function e(){}return e.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,e)},e}(),c=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n._appId=t.QQMINIGAME_APPID,n._sessionKey="",n._joined=!1,n}return o(t,e),t.prototype.Init=function(e){return r(this,void 0,Promise,function(){return i(this,function(n){return this._appId=e.appId||t.QQMINIGAME_APPID,this._sessionKey=e.sessionKey||"",[2,Promise.resolve()]})})},t.prototype.JoinChannel=function(e){return r(this,void 0,Promise,function(){var t=this;return i(this,function(n){return e&&(this._uid=e.uid,e.hasOwnProperty("rid")&&(this._rid=s.SS.IsDevMode?"111_"+e.rid:"222_"+e.rid),this._token=e.token||"",this._role=e.role||a.EnumAgoraRole.AUDIENCE,this._muteMicrophone=!!e.muteMicrophone,this._muteLoudspeaker=!!e.muteLoudspeaker,u.log("\u3010Agora\u3011join channel params",JSON.stringify(e))),[2,new Promise(function(e,n){var o={nonceStr:t.createNonceStr(),timeStamp:parseInt(""+(new Date).getTime()/1e3),groupId:t._rid,muteConfig:{muteMicrophone:t._muteMicrophone,muteEarphone:t._muteLoudspeaker},success:function(t){var n=t.openIdList;this._uids=n,this._joined=!0,u.log("[Agora] join channel success","rid: "+this._rid,"uid: "+this._uid,"all: "+n.join(" ")),s.qq.onVoIPChatMembersChanged(this.onVoIPChatMembersChanged.bind(this)),s.qq.onVoIPChatSpeakersChanged(this.onVoIPChatSpeakersChanged.bind(this)),s.qq.onVoIPChatInterrupted(this.onVoIPChatInterrupted.bind(this)),e()}.bind(t),fail:function(e){u.log("[Agora] join channel fail","rid: "+this._rid,"uid: "+this._uid,"errCode: "+e.errCode,"errMsg: "+e.errMsg),-1===e.errCode&&(this._joined=!0),n(e.errMsg)}.bind(t),complete:function(e){u.log("[Agora] join channel complete","rid: "+this._rid,"uid: "+this._uid)}.bind(t)};o.signature=t.signature(t._appId,o.groupId,o.nonceStr,o.timeStamp),s.qq.joinVoIPChat(o)})]})})},t.prototype.LeaveChannel=function(){return r(this,void 0,Promise,function(){var e=this;return i(this,function(t){return[2,new Promise(function(t,n){var o={success:function(){u.log("[Agora] leave channel success","rid: "+this._rid,"uid: "+this._uid),this._joined=!1,this._speakingUids=[],s.SS.EventCenter.emit(a.EventAgora.EventVoIPChatSpeakersChanged),t()}.bind(e),fail:function(){u.log("[Agora] leave channel fail","rid: "+this._rid,"uid: "+this._uid),n()}.bind(e),complete:function(){u.log("[Agora] join channel complete","rid: "+this._rid,"uid: "+this._uid)}.bind(e)};s.qq.exitVoIPChat(o)})]})})},t.prototype.BecomeAudience=function(){return r(this,void 0,Promise,function(){var e=this;return i(this,function(t){return this._role=a.EnumAgoraRole.AUDIENCE,this._muteMicrophone?(u.log("[Agora] become audience success","rid: "+this._rid,"uid: "+this._uid),[2,Promise.resolve()]):[2,new Promise(function(t,n){var o={muteConfig:{muteMicrophone:!0,muteEarphone:e._muteLoudspeaker},success:function(){u.log("[Agora] become audience success","rid: "+this._rid,"uid: "+this._uid),this._muteMicrophone=!0,t()}.bind(e),fail:function(){u.log("[Agora] become audience fail","rid: "+this._rid,"uid: "+this._uid),n()}.bind(e),complete:function(){u.log("[Agora] become audience complete","rid: "+this._rid,"uid: "+this._uid)}.bind(e)};s.qq.updateVoIPChatMuteConfig(o)})]})})},t.prototype.BecomeHost=function(){return r(this,void 0,Promise,function(){var e=this;return i(this,function(t){return this._role=a.EnumAgoraRole.HOST,this._muteMicrophone?[2,new Promise(function(t,n){var o={muteConfig:{muteMicrophone:!1,muteEarphone:e._muteLoudspeaker},success:function(){u.log("[Agora] become host success","rid: "+this._rid,"uid: "+this._uid),this._muteMicrophone=!1,t()}.bind(e),fail:function(){u.log("[Agora] become host fail","rid: "+this._rid,"uid: "+this._uid),n()}.bind(e),complete:function(){u.log("[Agora] become host complete","rid: "+this._rid,"uid: "+this._uid)}.bind(e)};s.qq.updateVoIPChatMuteConfig(o)})]:(u.log("[Agora] become host success","rid: "+this._rid,"uid: "+this._uid),[2,Promise.resolve()])})})},t.prototype.MuteMicrophone=function(e){return r(this,void 0,Promise,function(){var t=this;return i(this,function(n){return this._role===a.EnumAgoraRole.AUDIENCE&&(e=!0),[2,new Promise(function(n,o){var r={muteConfig:{muteMicrophone:e,muteEarphone:t._muteLoudspeaker},success:function(){u.log("[Agora] "+(e?"":"un")+"mute microphone success","rid: "+this._rid,"uid: "+this._uid),this._muteMicrophone=e,n()}.bind(t),fail:function(){u.log("[Agora] "+(e?"":"un")+"mute microphone fail","rid: "+this._rid,"uid: "+this._uid),o()}.bind(t),complete:function(){u.log("[Agora] "+(e?"":"un")+"mute microphone complete","rid: "+this._rid,"uid: "+this._uid)}.bind(t)};s.qq.updateVoIPChatMuteConfig(r)})]})})},t.prototype.MuteLoudSpeaker=function(e){return r(this,void 0,Promise,function(){var t=this;return i(this,function(n){return[2,new Promise(function(n,o){var r={muteConfig:{muteMicrophone:t._muteMicrophone,muteEarphone:e},success:function(){u.log("[Agora] "+(e?"":"un")+"mute loadSpeaker success","rid: "+this._rid,"uid: "+this._uid),this._muteLoudspeaker=e,n()}.bind(t),fail:function(){u.log("[Agora] "+(e?"":"un")+"mute loadSpeaker fail","rid: "+this._rid,"uid: "+this._uid),o()}.bind(t),complete:function(){u.log("[Agora] "+(e?"":"un")+"mute loadSpeaker complete","rid: "+this._rid,"uid: "+this._uid)}.bind(t)};s.qq.updateVoIPChatMuteConfig(r)})]})})},t.prototype.Dispose=function(){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.LeaveChannel()];case 1:return t.sent(),this._joined=!1,e.prototype.Dispose.call(this),[2]}})})},t.prototype.onVoIPChatMembersChanged=function(e){var t=e.openIdList?e.openIdList:[];this._uids=[].concat.apply([],t),u.log("[Agora] onVoIPChatMembersChanged","rid: "+this._rid,"uid: "+this._uid,"all: "+this._uids.join(" ")),s.SS.EventCenter.emit(a.EventAgora.EventVoIPChatMembersChanged)},t.prototype.onVoIPChatSpeakersChanged=function(e){u.log("[Agora] onVoIPChatSpeakersChanged","errCode: "+e.errCode,"errMsg: "+e.errMsg);var t=e.openIdList?e.openIdList:[];this._speakingUids=[].concat.apply([],t),u.log("[-----------------------Agora] _speakingUids","all: "+this._speakingUids.join("\uff0c")),s.SS.EventCenter.emit(a.EventAgora.EventVoIPChatSpeakersChanged)},t.prototype.onVoIPChatInterrupted=function(e){s.SS.EventCenter.emit(a.EventAgora.EventVoIPChatInterrupted)},t.prototype.signature=function(e,t,n,o){var r=[e,t,n,o].sort().join(""),i=l.HmacSHA256(r,this._sessionKey);return l.enc.Hex.stringify(i)},t.prototype.createNonceStr=function(){for(var e="1234567890abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ",t="",n=0;n<16;n++)t+=e[Math.trunc(Math.random()*e.length)];return t},t.QQMINIGAME_APPID="1110336983",t}(a.AgoraBase);n.AgoraQQ=c,cc._RF.pop()},{"../../global/SS":"SS","../../util/CryptoJS":"CryptoJS","./AgoraBase":"AgoraBase"}],AgoraWeb:[function(e,t,n){"use strict";cc._RF.push(t,"140e0x318JLCr8zwZocYPP4","AgoraWeb");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,l)}s((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./AgoraBase"),l=e("../../global/SS"),s=function(){function e(){}return e.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,e)},e}(),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._client=null,t._localStream=null,t._remoteStreams=[],t._inited=!1,t._joined=!1,t}return o(t,e),t.prototype.Init=function(e){return void 0===e&&(e={}),r(this,void 0,void 0,function(){var n,o=this;return i(this,function(r){return this._inited?[2]:(n=e.appId||t.AGORA_APPID,this._client=l.AgoraRTC.createClient({mode:t.AGORA_MODE,codec:t.AGORA_CODEC}),this.subscribeEvents(),this._client.setClientRole(this._role),[2,new Promise(function(e,t){o._client.init(n,function(){this._inited=!0,e()}.bind(o),function(e){s.log("[Agora] initAgora :: client join channel failed","rid: "+this._rid,"uid: "+this._uid,e),this._inited=!1,t(e)}.bind(o))})])})})},t.prototype.JoinChannel=function(e){return void 0===e&&(e={}),r(this,void 0,void 0,function(){var t=this;return i(this,function(n){return this._joined?[2]:(e&&(this._uid=e.uid,this._rid=e.rid||"",this._token=e.token||"",this._role=e.role||a.EnumAgoraRole.AUDIENCE,this._muteMicrophone=!!e.muteMicrophone,this._muteLoudspeaker=!!e.muteLoudspeaker),[2,new Promise(function(e,n){var o=function(t){s.log("[Agora] initAgora :: client join channel success","rid: "+this._rid,"uid: "+t),this._joined=!0,this._uid=t,this._localStream=l.AgoraRTC.createStream({streamID:this._uid,audio:!0,video:!1,screen:!1}),this._localStream.init(function(){s.log("[Agora] init local stream success"),this.playStream(this._localStream),this._role===a.EnumAgoraRole.HOST&&this.becomeHost()}.bind(this),function(e){s.log("[Agora] init local stream failed ",JSON.stringify(e))}.bind(this)),e()}.bind(t),r=function(e){s.log("[Agora] initAgora :: client join channel failed","rid: "+this._rid,"uid: "+this._uid,e),this._joined=!1,n(e)}.bind(t);t._client.join(t._token,t._rid,t._uid,o,r)})])})})},t.prototype.playStream=function(e){var t=e.getId();if(!document.getElementById("agoraweb_stream_"+t)){var n=document.createElement("div");n.id="agoraweb_stream_"+t,n.className="video-placeholder",n.style.width="0px",n.style.height="0px",document.body.appendChild(n)}e.play("agoraweb_stream_"+t,{fit:"contain",muted:this._muteLoudspeaker})},t.prototype.stopStream=function(e){var t=e.getId();e.stop("agoraweb_stream_"+t);var n=document.getElementById("agoraweb_stream_"+t);n&&document.body.removeChild(n)},t.prototype.subscribeEvents=function(){this._client&&(this._client.on("stream-added",this.onEventSteamAdded.bind(this)),this._client.on("stream-subscribed",this.onEventStreamSubscribed.bind(this)),this._client.on("stream-removed",this.onEventSteamRemoved.bind(this)),this._client.on("client-role-changed",this.onEventClientRoleChange.bind(this)))},t.prototype.onEventSteamAdded=function(e){var t=e.stream,n=t.getId();s.log("[Agora] stream-added: ",n),n!==this._localStream.getId()&&this._client.subscribe(t,{video:!1,audio:!0},function(e){s.log("[Agora] subscribe failed reason: ",e)})},t.prototype.onEventStreamSubscribed=function(e){var t=e.stream,n=t.getId();s.log("[Agora] new stream subscribed ",n),this._remoteStreams.some(function(e){return e.getId()==n})||(this._remoteStreams.push(t),this.playStream(t))},t.prototype.onEventSteamRemoved=function(e){s.log("[Agora] stream-removed: ",e.stream.getId());var t=e.stream,n=t.getId();this.stopStream(t),this._remoteStreams=this._remoteStreams.filter(function(e){return e.getId()!=n})},t.prototype.onEventClientRoleChange=function(e){s.log("[Agora] client-role-changed: ",e.role),this._role=e.role},t.prototype.unsubscribeEvents=function(){this._client&&(this._client.off("stream-added",this.onEventSteamAdded.bind(this)),this._client.off("stream-subscribed",this.onEventStreamSubscribed.bind(this)),this._client.off("stream-removed",this.onEventSteamRemoved.bind(this)),this._client.off("client-role-changed",this.onEventClientRoleChange.bind(this)))},t.prototype.BecomeHost=function(){return r(this,void 0,void 0,function(){var e=this;return i(this,function(t){return this._localStream?[2,new Promise(function(t,n){var o=function(){s.log("[Agora] publish success"),this._client.off("stream-published",o),t()}.bind(e);e._client.on("stream-published",o),e._client.publish(e._localStream,function(e){s.log("[Agora] publish failed ",e),this._client.off("stream-published",o),n(e)}.bind(e))})]:[2]})})},t.prototype.BecomeAudience=function(){return r(this,void 0,void 0,function(){return i(this,function(e){return this._localStream?(this._client.unpublish(this._localStream,function(e){s.log("[Agora] publish failed ",e)}),[2]):[2]})})},t.prototype.MuteMicrophone=function(e){this._localStream&&(e?(this._localStream.muteAudio(),this._muteMicrophone=!0):(this._localStream.unmuteAudio(),this._muteMicrophone=!1))},t.prototype.MuteLoudSpeaker=function(e){if(e){for(var t=0;t<this._remoteStreams.length;t++)this._remoteStreams[t].muteAudio();this._muteLoudspeaker=!0}else{for(t=0;t<this._remoteStreams.length;t++)this._remoteStreams[t].unmuteAudio();this._muteLoudspeaker=!0}},t.prototype.LeaveChannel=function(){return r(this,void 0,void 0,function(){var e=this;return i(this,function(t){return s.log("[Agora] leave"),[2,new Promise(function(t,n){e._client&&e._client.leave(function(){s.log("[Agora] leaveChannel successful"),t()},function(e){s.log("[Agora] leaveChannel failed: ",e),n(e)})})]})})},t.prototype.Dispose=function(){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,this.LeaveChannel()];case 1:for(n.sent(),this.unsubscribeEvents(),this._localStream&&this._localStream.close(),this._localStream=null,t=0;t<this._remoteStreams.length;t++)this._remoteStreams[t].close();return this._remoteStreams=[],this._client=null,this._inited=!1,this._joined=!1,e.prototype.Dispose.call(this),[2]}})})},t.AGORA_APPID="1d274b401d8f4b14b1f1ec7fcf2e3d1d",t.AGORA_MODE="live",t.AGORA_CODEC="h264",t}(a.AgoraBase);n.AgoraWeb=u,cc._RF.pop()},{"../../global/SS":"SS","./AgoraBase":"AgoraBase"}],AgoraWechat:[function(e,t,n){"use strict";cc._RF.push(t,"95431tID2pPRblbPnDn6LG0","AgoraWechat");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,l)}s((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.BecomeAudience=function(){return r(this,void 0,Promise,function(){return i(this,function(e){return[2,void 0]})})},t.prototype.BecomeHost=function(){return r(this,void 0,Promise,function(){return i(this,function(e){return[2,void 0]})})},t.prototype.Init=function(e){return r(this,void 0,Promise,function(){return i(this,function(e){return[2,void 0]})})},t.prototype.JoinChannel=function(e){return r(this,void 0,Promise,function(){return i(this,function(e){return[2,void 0]})})},t.prototype.LeaveChannel=function(){return r(this,void 0,Promise,function(){return i(this,function(e){return[2,void 0]})})},t.prototype.MuteLoudSpeaker=function(e){return r(this,void 0,Promise,function(){return i(this,function(e){return[2,void 0]})})},t.prototype.MuteMicrophone=function(e){return r(this,void 0,Promise,function(){return i(this,function(e){return[2,void 0]})})},t}(e("./AgoraBase").AgoraBase);n.AgoraWechat=a,cc._RF.pop()},{"./AgoraBase":"AgoraBase"}],AngleControl:[function(e,t,n){"use strict";cc._RF.push(t,"d7076Au6qhOVrnSsTS8hX3G","AngleControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../util/InfiniteScrollView"),a=e("./BaseControl"),l=e("../../../base/script/global/SS"),s=e("../../common/EnumCenter"),u=cc._decorator,c=u.ccclass,f=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._mask=null,t._item=null,t._infiniteScrollView=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.Init=function(){this.initRoot(),this.initAngleScrollView(),this.initEvent(),this.InitComplete()},t.prototype.Reset=function(){},t.prototype.initRoot=function(){this._item=cc.find("Value",this.node),this._infiniteScrollView=cc.find("ScrollView",this.node).addComponent(i.default),this._mask=cc.find("Mask",this._infiniteScrollView.node)},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initAngleScrollView=function(){this._infiniteScrollView.Init(this._item,this._mask,this.onScrollDelta.bind(this),this.onScrollStart.bind(this),this.onScrollEnd.bind(this))},t.prototype.onScrollStart=function(){l.SS.EventCenter.emit(s.EnumGameMessageType.AngleChangeStart)},t.prototype.onScrollDelta=function(e){l.SS.EventCenter.emit(s.EnumGameMessageType.AngleChange,.056*e)},t.prototype.onScrollEnd=function(){l.SS.EventCenter.emit(s.EnumGameMessageType.AngleChangeEnd)},t=r([c],t)}(a.default));n.default=f,cc._RF.pop()},{"../../../base/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter","../../util/InfiniteScrollView":"InfiniteScrollView","./BaseControl":"BaseControl"}],ArrayUtil:[function(e,t,n){"use strict";cc._RF.push(t,"844fcxvLyNMXqcSZexgJ2k7","ArrayUtil"),Object.defineProperty(n,"__esModule",{value:!0}),n.IsArrayContain=function(e,t){return e.indexOf(t)>=0},n.ArrayRemove=function(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)},n.ArrayCopy=function(e,t){for(var n=0;n<e.length;n++){var o=e[n];t.push(o)}},cc._RF.pop()},{}],AudioManager:[function(e,t,n){"use strict";cc._RF.push(t,"51319nm2vdKyaqNh/Gx6BOr","AudioManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../util/StringUtil"),r=e("../res/ResManager"),i=e("../clog/Clog"),a=e("../storage/LocalStorage"),l=function(){function e(){this._soundVolume=null,this.musicVolume=null}return Object.defineProperty(e.prototype,"SoundVolume",{get:function(){return null==this._soundVolume&&(this._soundVolume=a.LocalStorageUtil.GetNumber("SoundVolume",1)),this._soundVolume},set:function(e){this._soundVolume=e,a.LocalStorageUtil.SetNumber("SoundVolume",this._soundVolume),n.AudioManager.SetSoundVolume(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MusicVolume",{get:function(){return null==this.musicVolume&&(this.musicVolume=a.LocalStorageUtil.GetNumber("MusicVolume",1)),this.musicVolume},set:function(e){this.musicVolume=e,a.LocalStorageUtil.SetNumber("MusicVolume",this.musicVolume),n.AudioManager.SetMusicVolume(e)},enumerable:!0,configurable:!0}),e.prototype.Init=function(){this.EffectSoundList=new Map,cc.audioEngine.setMusicVolume(this.MusicVolume),cc.audioEngine.setEffectsVolume(this.SoundVolume)},e.prototype.PlayMusic=function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=null),o.IsNullOrEmpty(e)||r.ResManager.LoadRes(e,cc.AudioClip,function(o,r){if(o)i.default.Error("Load Music error! Music name= "+e+",err:"+JSON.stringify(o));else{var a=cc.audioEngine.playMusic(r,t);cc.audioEngine.setFinishCallback(a,function(){n&&n()})}})},e.prototype.StopMusic=function(){cc.audioEngine.stopMusic()},e.prototype.PlaySound=function(e){if(!(o.IsNullOrEmpty(e)||this.SoundVolume<=.01)){var t=this.EffectSoundList.get(e);t||(t=new Array,this.EffectSoundList.set(e,t));var n=(new Date).getTime();if(!(t.length>0&&n-t[0]<150)){for(;t.length>0&&n-t[0]>500;)t.shift();t.length>7||(t.push(n),r.ResManager.LoadRes(e,cc.AudioClip,function(t,n){t?i.default.Error("Load Music error! Music name= "+e+",err:"+JSON.stringify(t)):cc.audioEngine.playEffect(n,!1)}))}}},e.prototype.StopSound=function(e){e<0||cc.audioEngine.stopEffect(e)},e.prototype.StopAllSounds=function(){cc.audioEngine.stopAllEffects()},e.prototype.SetSoundVolume=function(e){cc.audioEngine.setEffectsVolume(e)},e.prototype.SetMusicVolume=function(e){cc.audioEngine.setMusicVolume(e)},e}();n.AudioManager=new l,cc._RF.pop()},{"../../util/StringUtil":"StringUtil","../clog/Clog":"Clog","../res/ResManager":"ResManager","../storage/LocalStorage":"LocalStorage"}],AutoManager:[function(e,t,n){"use strict";cc._RF.push(t,"220db2a0ixMdautxptkhd/6","AutoManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../model/MGameHitBall"),r=function(){function e(){this.Switch=!0,this.listGameHitBall=[]}return e.prototype.Init=function(){this.listGameHitBall=[];for(var e=0;e<100;e++)this.listGameHitBall.push(new o.MGameHitBall({power:.23456*e%1,angle:1.9876*e%360}))},e.prototype.GetGameHitData=function(){return this.listGameHitBall.pop()},e}();n.default=new r,cc._RF.pop()},{"../model/MGameHitBall":"MGameHitBall"}],BallControl:[function(e,t,n){"use strict";cc._RF.push(t,"e6de09fRXNG3LH/TQdU/zlT","BallControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../base/script/frame/clog/Clog"),i=e("../../../base/script/util/ArrayUtil"),a=e("../../common/EnumCenter"),l=e("../../Constance"),s=e("../../manager/GameDataManager"),u=e("../entity/Ball"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ball=null,t._ballWhite=null,t._ballArray=[],t.initPosCenter=cc.v2(0,0),t.initPosGap=0,t}return o(t,e),t.prototype.Init=function(){this.initRoot(),this.initEvent(),this.createBall(),this.InitComplete()},t.prototype.Reset=function(){this.resetAllBalls()},t.prototype.SetWhiteBallLocalPos=function(e){this._ballWhite.Reset(),this._ballWhite.node.setPosition(e)},t.prototype.GetWhiteBallPos=function(){return this._ballWhite.node.convertToWorldSpaceAR(cc.Vec3.ZERO)},t.prototype.GetWhiteBallLocalPos=function(){return this._ballWhite.node.getPosition()},t.prototype.GetWhiteBall=function(){return this._ballWhite},t.prototype.EnableWhiteBall=function(e){this._ballWhite.node.active=e},t.prototype.HitWhiteBall=function(e,t){this._ballWhite.Hit(e,t)},t.prototype.IsAllBallMoveEnd=function(){for(var e=this._ballWhite.GetBallState()===a.EnumBallState.MoveEnd||this._ballWhite.GetBallState()===a.EnumBallState.Idle||this._ballWhite.GetBallState()===a.EnumBallState.InHole,t=0;t<this._ballArray.length;t++)e=e&&(this._ballArray[t].GetBallState()===a.EnumBallState.MoveEnd||this._ballArray[t].GetBallState()===a.EnumBallState.Idle||this._ballArray[t].GetBallState()===a.EnumBallState.InHole);return e},t.prototype.GetAllBallState=function(){for(var e=[],t=0;t<this._ballArray.length;t++)e.push(this._ballArray[t].GetBallState());return e},t.prototype.GetAllBall=function(){return this._ballArray},t.prototype.GetAllActiveBall=function(){for(var e=[],t=0;t<this._ballArray.length;t++)this._ballArray[t].GetBallState()!=a.EnumBallState.InHole&&e.push(this._ballArray[t]);return e},t.prototype.GetAllActiveBallPos=function(){for(var e=[],t=0;t<this._ballArray.length;t++)this._ballArray[t].GetBallState()!=a.EnumBallState.InHole&&e.push(this._ballArray[t].node.getPosition());return e},t.prototype.SaveLastRoundValue=function(){this._ballWhite.SaveLastRoundValue(),this._ballArray.forEach(function(e){e.SaveLastRoundValue()})},t.prototype.ResetToLastRoundValue=function(){this._ballWhite.ResetToLastRoundValue(),this._ballArray.forEach(function(e){e.ResetToLastRoundValue()})},t.prototype.initRoot=function(){this._ball=cc.find("Ball",this.node.parent)},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.createBall=function(){for(var e=0;e<l.Constance.BALL_COUNT;e++)if(0==e){var t=cc.instantiate(this._ball);t.active=!0,this.node.addChild(t),this._ballWhite=t.addComponent(u.default),this._ballWhite.Init(a.EnumBallType.White),this._ballWhite.BallNum=0}else{var n=cc.instantiate(this._ball).addComponent(u.default);n.node.active=!0,n.Init(a.EnumBallType.Other),this.node.addChild(n.node),n.BallNum=e,this._ballArray.push(n)}this.initPosCenter=cc.v2(0,.156*s.GameDataManager.TableSize.y),this.initPosGap=30,this.resetAllBalls(),r.default.Trace(r.ClogKey.UI,"this._ballWhite pos = "+this._ballWhite.node.position)},t.prototype.resetAllBalls=function(){this._ballWhite.SetPosition(new cc.Vec2(0,.25*s.GameDataManager.TableSize.y-s.GameDataManager.TableSize.y/2)),this._ballWhite.Reset();for(var e=0,t=0,n=[2,3,4,5,6,7],o=[9,10,11,12,13,14,15],r=(n.concat(o),0);r<l.Constance.BALL_COUNT-1;r++){t<=0&&(t=++e);var a=this.initPosCenter.add(cc.v2(-(e-1)/2+(t-1),(e-1)*Math.sin(Math.PI/3)).mulSelf(this.initPosGap)),u=this._ballArray[r];u.SetPosition(a),u.Reset(),t--,4===r?u.BallNum=8:0===r?u.BallNum=1:r%2==0&&n.length>0?(u.BallNum=n[Math.floor(10*Math.random())%n.length],i.ArrayRemove(n,u.BallNum)):(u.BallNum=o[Math.floor(10*Math.random())%o.length],i.ArrayRemove(o,u.BallNum))}},t.prototype.onDestroy=function(){this.removeEvent()},t}(e("./BaseControl").default);n.default=c,cc._RF.pop()},{"../../../base/script/frame/clog/Clog":"Clog","../../../base/script/util/ArrayUtil":"ArrayUtil","../../Constance":"Constance","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","../entity/Ball":"Ball","./BaseControl":"BaseControl"}],BallTexture:[function(e,t,n){"use strict";cc._RF.push(t,"b8131gJtSRH7IZI/s4hcihA","BallTexture");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,l=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ballTextures=[],t._ballSphere=null,t}return o(t,e),t.prototype.onLoad=function(){this.initRoot()},t.prototype.initRoot=function(){this._ballSphere=cc.find("Sphere",this.node).getComponent(cc.MeshRenderer)},t.prototype.SetTexture=function(e){this._ballSphere||(this._ballSphere=cc.find("Sphere",this.node).getComponent(cc.MeshRenderer)),this._ballSphere.getMaterial(0).setProperty("diffuseTexture",this.ballTextures[e])},r([l({type:Array(cc.Texture2D)})],t.prototype,"ballTextures",void 0),t=r([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],Ball:[function(e,t,n){"use strict";cc._RF.push(t,"00fa0kCJQFEFaXMZ/uyYFke","Ball");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../base/script/global/SS"),a=e("../../common/EnumCenter"),l=e("../../Constance"),s=e("../../util/UtilityEx"),u=e("../../manager/GameDataManager"),c=e("./BallTexture"),f=e("../../../base/script/frame/clog/Clog"),h=e("../../../base/script/frame/audio/AudioManager"),p=cc._decorator,d=p.ccclass,m=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ballSphere=null,t._rigidBody=null,t._ballTexture=null,t.ballNum=-1,t.ballType=a.EnumBallType.Other,t._ballState=a.EnumBallState.Idle,t._lastRoundBallState=a.EnumBallState.Idle,t._lastRoundBallPosition=cc.Vec2.ZERO,t._lastWorldPos=new cc.Vec2(0,0),t}var n;return o(t,e),n=t,Object.defineProperty(t.prototype,"ballState",{get:function(){return this._ballState},set:function(e){this._ballState!=e&&(this._ballState=e,f.default.Orange(f.ClogKey.UI,"Ball Num = "+this.ballNum+", Ball State = "+this._ballState))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BallNum",{get:function(){return this.ballNum},set:function(e){this.ballNum!=e&&(this.ballNum=e,this.refreshBallTexture())},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){},t.prototype.onDestroy=function(){this.remvoeEvent()},t.prototype.lateUpdate=function(e){u.GameDataManager.IsGameStart&&this.ballState!==a.EnumBallState.InHole&&(this.updateBallAngle(),Math.abs(this._rigidBody.linearVelocity.len())<l.Constance.BALL_MIN_SPEED&&(this._rigidBody.linearVelocity=new cc.Vec2(0,0),this._rigidBody.angularVelocity=0))},t.prototype.Init=function(e){this.initRoot(),this.initEvent(),this.ballType=e,this.ballType===a.EnumBallType.White?this._rigidBody.linearDamping=l.Constance.WHITE_BALL_LINEAR_DAMPING:this._rigidBody.linearDamping=l.Constance.COLOR_BALL_LINEAR_DAMPING},t.prototype.Hit=function(e,t){var n=t*Math.PI/180;e*=l.Constance.CUE_BASE_POWER,this._rigidBody.applyForceToCenter(new cc.Vec2(Math.sin(n)*e,-Math.cos(n)*e),!0)},t.prototype.GetBallState=function(){return this.ballState},t.prototype.Reset=function(){this._rigidBody.linearVelocity=cc.Vec2.ZERO,this._rigidBody.angularVelocity=0,this.ballState=a.EnumBallState.Idle,this.node.active=!0,this._ballSphere.node.eulerAngles=cc.Vec3.ZERO},t.prototype.GetBallType=function(){return this.ballType},t.prototype.InHole=function(){this.ballState=a.EnumBallState.InHole,this._rigidBody.linearVelocity=cc.Vec2.ZERO,this._rigidBody.angularVelocity=0,this.node.active=!1,i.SS.EventCenter.emit(a.EnumGameMessageType.BallInHole,this.ballNum)},t.prototype.SetPosition=function(e){this.node.setPosition(e),this._lastWorldPos=this.node.convertToWorldSpaceAR(cc.v2(0,0)),this.updatePos()},t.prototype.SaveLastRoundValue=function(){this._lastRoundBallPosition=this.node.getPosition(),this._lastRoundBallState=this._ballState},t.prototype.ResetToLastRoundValue=function(){this._rigidBody.linearVelocity=cc.Vec2.ZERO,this._rigidBody.angularVelocity=0,this.node.setPosition(this._lastRoundBallPosition),this.ballState=this._lastRoundBallState,this.node.active=this.ballState!=a.EnumBallState.InHole,this._lastWorldPos=this.node.convertToWorldSpaceAR(cc.v2(0,0))},t.prototype.initRoot=function(){this._ballSphere=cc.find("Sphere",this.node).getComponent(cc.MeshRenderer),this._rigidBody=this.node.getComponent(cc.RigidBody),this._ballTexture=this.getComponent(c.default)},t.prototype.initEvent=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onClickBall,this)},t.prototype.remvoeEvent=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onClickBall,this)},t.prototype.updateBallAngle=function(){if(this.ballState!==a.EnumBallState.InHole){var e=this.node.convertToWorldSpaceAR(cc.v2(0,0)),t=e.sub(this._lastWorldPos);if(0===t.x&&0===t.y&&0==this._rigidBody.linearVelocity.x&&0==this._rigidBody.linearVelocity.y)return this.ballState===a.EnumBallState.Move&&(this.ballState=a.EnumBallState.MoveEnd,i.SS.EventCenter.emit(a.EnumGameMessageType.BallMoveEnd)),void(this.ballState===a.EnumBallState.MoveEnd&&(this.ballState=a.EnumBallState.Idle));this.ballState=a.EnumBallState.Move;var n=this._ballSphere.node.scale/2,o=-t.y/n,r=t.x/n;s.RotateAround(this._ballSphere.node,o,r,0),this._lastWorldPos=e,this.updatePos()}},t.prototype.refreshBallTexture=function(){this._ballTexture.SetTexture(this.ballNum)},t.prototype.updatePos=function(){this.ballType!=a.EnumBallType.White||u.GameDataManager.WhiteBallPos.equals(this.node.position)||(u.GameDataManager.WhiteBallPos=this.node.position)},t.prototype.onBeginContact=function(e,t,o){if(u.GameDataManager.IsGameStart&&t&&o){var r=t.node.getComponent(n),l=o.node.getComponent(n);null!=r&&l&&(r.GetBallType()===a.EnumBallType.White&&i.SS.EventCenter.emit(a.EnumGameMessageType.WhiteBallCollition,l.BallNum),h.AudioManager.PlaySound(a.EnumAudio.BallCollider))}},t.prototype.onClickBall=function(){i.SS.EventCenter.emit(a.EnumGameMessageType.ClickBall,this)},t.prototype.onClickWhiteBall=function(){},t=n=r([d],t)}(cc.Component));n.default=m,cc._RF.pop()},{"../../../base/script/frame/audio/AudioManager":"AudioManager","../../../base/script/frame/clog/Clog":"Clog","../../../base/script/global/SS":"SS","../../Constance":"Constance","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","../../util/UtilityEx":"UtilityEx","./BallTexture":"BallTexture"}],BaseControl:[function(e,t,n){"use strict";cc._RF.push(t,"d7fb0KYq05HopYXcBhqMPU0","BaseControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../base/script/global/SS"),i=e("../../common/EnumCenter"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.InitComplete=function(){r.SS.EventCenter.emit(i.EnumGameMessageType.GameInit)},t}(cc.Component);n.default=a,cc._RF.pop()},{"../../../base/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter"}],BaseEnum:[function(e,t,n){"use strict";cc._RF.push(t,"5ec70VxELZE7J3Q36LI22lq","BaseEnum"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.NONE=-1]="NONE",e[e.WEB=0]="WEB",e[e.QQ=1]="QQ",e[e.WECHAT=2]="WECHAT"}(n.EnumPlatform||(n.EnumPlatform={})),function(e){e.NONE="none",e.WEB="web",e.QQ="qq",e.WECHAT="wx"}(n.EnumPlatformStr||(n.EnumPlatformStr={})),function(e){e[e.NONE=-1]="NONE",e[e.WEB=0]="WEB",e[e.QQ=1]="QQ",e[e.WECHAT=2]="WECHAT"}(n.EnumAgoraType||(n.EnumAgoraType={})),function(e){e.NONE="none",e.Chat9="9Chat",e.Billiards="billiards"}(n.EnumAppName||(n.EnumAppName={})),cc._RF.pop()},{}],BasePlatform:[function(e,t,n){"use strict";cc._RF.push(t,"6916eEZlV1EX7YxXHNhbsOs","BasePlatform"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(){}}();n.BasePlatform=o,cc._RF.pop()},{}],CheckContentController:[function(e,t,n){"use strict";cc._RF.push(t,"157361K2IJPwLW54KgIFiHD","CheckContentController");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,l)}s((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../../base/script/api/http/Xhr"),a=function(){function e(){}return e.CheckContent=function(e){return o(this,void 0,Promise,function(){var t=this;return r(this,function(n){return[2,new Promise(function(n){return o(t,void 0,void 0,function(){var t,o,a;return r(this,function(r){switch(r.label){case 0:return t=new i.XhrUrl("xiyou/checkContentValid").Url,o={content:e},[4,i.default.PostJson(t,o)];case 1:return a=r.sent(),0==a.success?(n(!1),[2]):(n(!0),[2])}})})})]})})},e}();n.CheckContentController=a,cc._RF.pop()},{"../../../../base/script/api/http/Xhr":"Xhr"}],Clog:[function(e,t,n){"use strict";cc._RF.push(t,"c5d26HCIvlPIaXU/ojtxX6F","Clog"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../time/Time"),r=function(){function e(){}return e.Res="Res",e.UI="UI",e.LocalStorage="LocalStorage",e.Net="Net",e.Entry="Entry",e.Api="Api",e}();n.ClogKey=r;var i=function(){function e(){}return e.Init=function(){this.OpenTag(r.Res),this.OpenTag(r.UI),this.OpenTag(r.LocalStorage),this.OpenTag(r.Net),this.OpenTag(r.Entry),this.OpenTag(r.Api)},e.OpenTag=function(e){this.Tags.indexOf(e)<0&&this.Tags.push(e)},e.Obj=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.IsOpenLog&&(this.Tags.indexOf(e)<0||(t.unshift("\u3010"+o.Time.Format(new Date)+"\u3011\u3010"+e+"\u3011"),cc.log("%c tag","color:#ff1493;",[].slice.call(t))))},e.Trace=function(e,t){this.print(e,this.GetString(t),"")},e.Red=function(e,t){this.print(e,this.GetString(t),"color:red;")},e.Green=function(e,t){this.print(e,this.GetString(t),"color:green;")},e.Orange=function(e,t){this.print(e,this.GetString(t),"color:#ee7700;")},e.Gray=function(e,t){this.print(e,this.GetString(t),"color:gray;")},e.Blue=function(e,t){this.print(e,this.GetString(t),"color:#3a5fcd;")},e.Purple=function(e,t){this.print(e,this.GetString(t),"color:#b23aee;")},e.DeepPink=function(e,t){this.print(e,this.GetString(t),"color:#ff1493;")},e.GetString=function(e){return Array.isArray(e)||"object"!=typeof e?e:JSON.stringify(e)},e.print=function(e,t,n){this.IsOpenLog&&(this.Tags.indexOf(e)<0||(console.log||cc.log).call(this,"%c%s:"+cc.js.formatStr.apply(cc,[t]),n,"\u3010"+o.Time.Format(new Date)+"\u3011\u3010"+e+"\u3011"))},e.Warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.unshift("\u3010"+o.Time.Format(new Date)+"\u3011\u3010"+e+"\u3011"),cc.warn.apply(null,[].slice.call(t))},e.Error=function(e){cc.error("\u3010"+o.Time.Format(new Date)+"\u3011"+e)},e.Tags=new Array,e.IsOpenLog=!0,e}();n.default=i,cc._RF.pop()},{"../time/Time":"Time"}],CollitionFixForce:[function(e,t,n){"use strict";cc._RF.push(t,"38e17fjGxRJI7rq4taL7fYU","CollitionFixForce");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,l=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fixForce=cc.Vec2.ZERO,t}return o(t,e),t.prototype.SetFixForce=function(e){this.fixForce=e},t.prototype.onBeginContact=function(e,t,n){},t.prototype.onPreSolve=function(e,t,n){n&&n.getComponent(cc.RigidBody).applyForceToCenter(this.fixForce,!0)},t.prototype.onPostSolve=function(e,t,n){n&&n.getComponent(cc.RigidBody).applyForceToCenter(this.fixForce,!0)},t.prototype.onEndContact=function(e,t,n){},t=r([a],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],Constance:[function(e,t,n){"use strict";cc._RF.push(t,"be96edJ0bBLcbFjR0sa6ZzW","Constance"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.BALL_COUNT=16,e.BALL_WHITE=0,e.BALL_BLACK=8,e.BALL_MIN_SPEED=6,e.BALL_RADIUS=15,e.CUE_BASE_POWER=72e3,e.END_BALL_RADIUS=12,e.WHITE_BALL_LINEAR_DAMPING=.8,e.COLOR_BALL_LINEAR_DAMPING=1,e.BORDER_FIX_POWER=200,e}();n.Constance=o,cc._RF.pop()},{}],CountDownControl:[function(e,t,n){"use strict";cc._RF.push(t,"467a3CMIJ5Pl4F4TPZMZtYg","CountDownControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./BaseControl"),a=e("../../common/EnumCenter"),l=e("../../util/FYCountDownMgr"),s=e("../../../base/script/global/SS"),u=cc._decorator,c=u.ccclass,f=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._labCountDown=null,t._nodeLeft=null,t._nodeRight=null,t._sprCountDown=null,t.countDownKey="CountDown",t.playerType=a.EnumPlayerType.Me,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.Init=function(){this.initRoot(),this.initEvent(),this.initData(),this.InitComplete()},t.prototype.Reset=function(){this.StopCountDown()},t.prototype.StartCountDown=function(e,t){var n=this;this.playerType=e,this._nodeLeft.active=this.playerType===a.EnumPlayerType.Me,this._nodeRight.active=this.playerType===a.EnumPlayerType.Other;var o=t||30;this._sprCountDown.enabled=!0,this._labCountDown.node.active=!0,this._labCountDown.string=o.toString(),l.default.Instance.remove(this.countDownKey),l.default.Instance.add(this.countDownKey,o,1,function(e,t){n._labCountDown.string=Math.ceil(o-t).toString(),e&&(n._nodeLeft.active=!1,n._nodeRight.active=!1,n._sprCountDown.enabled=!1,n._labCountDown.node.active=!1,s.SS.EventCenter.emit(a.EnumGameMessageType.PlayerCountDownComplete,n.playerType))})},t.prototype.StopCountDown=function(){this._nodeLeft.active=!1,this._nodeRight.active=!1,this._sprCountDown.enabled=!1,this._labCountDown.node.active=!1,l.default.Instance.remove(this.countDownKey)},t.prototype.initRoot=function(){this._nodeLeft=cc.find("Left",this.node),this._nodeRight=cc.find("Right",this.node),this._labCountDown=cc.find("LabCountDown",this.node).getComponent(cc.Label),this._sprCountDown=this.node.getComponent(cc.Sprite)},t.prototype.initData=function(){this._nodeLeft.active=!1,this._nodeRight.active=!1,this._sprCountDown.enabled=!1,this._labCountDown.node.active=!1},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t=r([c],t)}(i.default));n.default=f,cc._RF.pop()},{"../../../base/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter","../../util/FYCountDownMgr":"FYCountDownMgr","./BaseControl":"BaseControl"}],CryptoJS:[function(e,t,n){"use strict";cc._RF.push(t,"fb673NiiiFD1baql5GTgphg","CryptoJS");var o=o||function(e,t){var n={},o=n.lib={},r=o.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.$super.extend(this)}}}(),i=o.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,o=this.sigBytes;e=e.sigBytes;if(this.clamp(),o%4)for(var r=0;r<e;r++)t[o+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(o+r)%4*8;else if(65535<n.length)for(r=0;r<e;r+=4)t[o+r>>>2]=n[r>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],o=0;o<t;o+=4)n.push(4294967296*e.random()|0);return i.create(n,t)}}),a=n.enc={},l=a.Hex={stringify:function(e){for(var t=e.words,n=(e=e.sigBytes,[]),o=0;o<e;o++){var r=t[o>>>2]>>>24-o%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o+=2)n[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return i.create(n,t/2)}},s=a.Latin1={stringify:function(e){for(var t=e.words,n=(e=e.sigBytes,[]),o=0;o<e;o++)n.push(String.fromCharCode(t[o>>>2]>>>24-o%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o++)n[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return i.create(n,t)}},u=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(s.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return s.parse(unescape(encodeURIComponent(e)))}},c=o.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=i.create(),this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,o=n.words,r=n.sigBytes,a=this.blockSize,l=r/(4*a);t=(l=t?e.ceil(l):e.max((0|l)-this._minBufferSize,0))*a,r=e.min(4*t,r);if(t){for(var s=0;s<t;s+=a)this._doProcessBlock(o,s);s=o.splice(0,t),n.sigBytes-=r}return i.create(s,r)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});o.Hasher=c.extend({init:function(){this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize(),this._hash},clone:function(){var e=c.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:16,_createHelper:function(e){return function(t,n){return e.create(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return f.HMAC.create(e,n).finalize(t)}}});var f=n.algo={};return n}(Math);(function(e){var t=o,n=(r=t.lib).WordArray,r=r.Hasher,i=t.algo,a=[],l=[];(function(){function t(t){for(var n=e.sqrt(t),o=2;o<=n;o++)if(!(t%o))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var o=2,r=0;64>r;)t(o)&&(8>r&&(a[r]=n(e.pow(o,.5))),l[r]=n(e.pow(o,1/3)),r++),o++})();var s=[];i=i.SHA256=r.extend({_doReset:function(){this._hash=n.create(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,o=n[0],r=n[1],i=n[2],a=n[3],u=n[4],c=n[5],f=n[6],h=n[7],p=0;64>p;p++){if(16>p)s[p]=0|e[t+p];else{var d=s[p-15],m=s[p-2];s[p]=((d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3)+s[p-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+s[p-16]}d=h+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&c^~u&f)+l[p]+s[p],m=((o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22))+(o&r^o&i^r&i),h=f,f=c,c=u,u=a+d|0,a=i,i=r,r=o,o=d+m|0}n[0]=n[0]+o|0,n[1]=n[1]+r|0,n[2]=n[2]+i|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0,n[5]=n[5]+c|0,n[6]=n[6]+f|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;t[o>>>5]|=128<<24-o%32,t[15+(o+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process()}});t.SHA256=r._createHelper(i),t.HmacSHA256=r._createHmacHelper(i)})(Math),function(){var e=o,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=e.create(),"string"==typeof n&&(n=t.parse(n));var o=e.blockSize,r=4*o;n.sigBytes>r&&(n=e.finalize(n));for(var i=this._oKey=n.clone(),a=this._iKey=n.clone(),l=i.words,s=a.words,u=0;u<o;u++)l[u]^=1549556828,s[u]^=909522486;i.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;e=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),t.exports=o,cc._RF.pop()},{}],CueControl:[function(e,t,n){"use strict";cc._RF.push(t,"44ca3t2oZxDTrmD+JMWZWjX","CueControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../base/script/global/SS"),i=e("../../common/EnumCenter"),a=e("./BaseControl"),l=e("../../../base/script/frame/audio/AudioManager"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ballArmPic=null,t.power=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.Rotate(180)},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.initRoot=function(){this._ballArmPic=cc.find("Pic",this.node).getComponent(cc.Sprite)},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.Init=function(){this.initRoot(),this.initEvent(),this.InitComplete()},t.prototype.Reset=function(){this.node.angle=-180,this.node.active=!1},t.prototype.SetPower=function(e){var t=100*e+20;this._ballArmPic.node.y=t,this.power=e},t.prototype.SetRotation=function(e){this.node.angle=e},t.prototype.Rotate=function(e){this.node.angle-=e},t.prototype.Hit=function(){var e=this;this._ballArmPic.node.runAction(cc.sequence(cc.moveTo(.05,new cc.Vec2(0,20)),cc.callFunc(function(){r.SS.EventCenter.emit(i.EnumGameMessageType.CueHitComplete,e.power,e.node.angle),l.AudioManager.PlaySound(i.EnumAudio.CueHit),e.Hide()},this)))},t.prototype.Show=function(e){this.node.setPosition(e),this.node.active=!0},t.prototype.Hide=function(){this.node.active=!1},t}(a.default);n.default=s,cc._RF.pop()},{"../../../base/script/frame/audio/AudioManager":"AudioManager","../../../base/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter","./BaseControl":"BaseControl"}],DragComp:[function(e,t,n){"use strict";cc._RF.push(t,"615b31u6JhEFpytsH9bVMS8","DragComp");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../manager/GameDataManager"),a=cc._decorator,l=a.ccclass,s=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragStartPos=cc.Vec2.ZERO,t}return o(t,e),t.prototype.onLoad=function(){this.initEvent()},t.prototype.initEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},t.prototype.onTouchStart=function(e){},t.prototype.onTouchMove=function(e){var t=e.getLocationInView();this.node.setPosition(t.x-i.GameDataManager.GetWinSize().width/2,-t.y+i.GameDataManager.GetWinSize().height/2)},t.prototype.onTouchEnd=function(e){},t=r([l],t)}(cc.Component));n.default=s,cc._RF.pop()},{"../manager/GameDataManager":"GameDataManager"}],EffectBase:[function(e,t,n){"use strict";cc._RF.push(t,"77b37OBn1pN1pNwZ6jRcguG","EffectBase");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../base/script/global/SS"),i=e("../../common/EnumCenter"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.Release=function(){r.SS.EventCenter.emit(i.EnumGameMessageType.EffectRelease,this)},t}(cc.Component);n.EffectBase=a,cc._RF.pop()},{"../../../base/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter"}],EffectControl:[function(e,t,n){"use strict";cc._RF.push(t,"878c8uTQc1Kl7+JUkSBB4uN","EffectControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("./BaseControl"),i=e("../../../base/script/global/SS"),a=e("../../common/EnumCenter"),l=e("../../../base/script/frame/clog/Clog"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._container=null,t._sample=null,t._dictEffectPool={},t}return o(t,e),t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.Init=function(){this.initRoot(),this.initEvent(),this.InitComplete()},t.prototype.Reset=function(){},t.prototype.Show=function(e,t){var n=null,o=(new e).EffectName;if(this._dictEffectPool[o]&&this._dictEffectPool[o].size()>0)n=this._dictEffectPool[o].get().getComponent(e);else{var r=cc.find(o,this._sample);if(null==r)return void l.default.Error("EffectControl's Function Show sample is null");n=cc.instantiate(r).addComponent(e)}n.node.active=!0,n.node.parent=this._container,n.node.setPosition(n.node.parent.convertToNodeSpaceAR(t)),n.Show()},t.prototype.initRoot=function(){this._sample=cc.find("Sample",this.node),this._container=cc.find("Container",this.node)},t.prototype.initEvent=function(){i.SS.EventCenter.on(a.EnumGameMessageType.EffectRelease,this.onEffectRelease,this)},t.prototype.removeEvent=function(){i.SS.EventCenter.off(a.EnumGameMessageType.EffectRelease,this.onEffectRelease,this)},t.prototype.onEffectRelease=function(e){this._dictEffectPool[e.name]||(this._dictEffectPool[e.name]=new cc.NodePool),this._dictEffectPool[e.name].put(e.node)},t}(r.default);n.default=s,cc._RF.pop()},{"../../../base/script/frame/clog/Clog":"Clog","../../../base/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter","./BaseControl":"BaseControl"}],EffectInHole:[function(e,t,n){"use strict";cc._RF.push(t,"96652D7PUJN2JTmHlVcw63/","EffectInHole");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EffectName="EffectInHole",t}return o(t,e),t.prototype.Show=function(){var e=this;this.node.scale=0,this.node.opacity=255,cc.tween(this.node).to(.5,{scale:1.5},{easing:"backOut"}).to(.2,{opacity:0}).call(function(){e.Release()}).start()},t}(e("./EffectBase").EffectBase);n.default=r,cc._RF.pop()},{"./EffectBase":"EffectBase"}],EndBallControl:[function(e,t,n){"use strict";cc._RF.push(t,"cca0d9HQetD0JEPzkumdDBR","EndBallControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../base/script/global/SS"),a=e("../../common/EnumCenter"),l=e("../entity/BallTexture"),s=e("./BaseControl"),u=e("../../Constance"),c=cc._decorator,f=c.ccclass,h=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ball=null,t._container=null,t.num=0,t._ballPool=new cc.NodePool,t.resetBallInHoleNum=0,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.Init=function(){this.initRoot(),this.initEvent(),this.InitComplete()},t.prototype.Reset=function(){for(var e=this._container.children,t=e.length-1;t>=0;t--)e[t].stopAllActions(),e[t].active=!1,this._ballPool.put(e[t]);this.num=0},t.prototype.ResetToLastRoundValue=function(e){var t=this;if(e.forEach(function(e){e.GetBallState()===a.EnumBallState.InHole&&t.resetBallInHoleNum++}),this.resetBallInHoleNum<this.num){for(var n=this._container.children,o=n.length-1;o>=this.resetBallInHoleNum;o--)n[o].stopAllActions(),n[o].active=!1,this._ballPool.put(n[o]);this.num=this.resetBallInHoleNum}},t.prototype.initRoot=function(){this._ball=cc.find("Ball",this.node),this._container=cc.find("Container",this.node)},t.prototype.initEvent=function(){i.SS.EventCenter.on(a.EnumGameMessageType.BallInHole,this.onBallInHole,this)},t.prototype.removeEvent=function(){i.SS.EventCenter.off(a.EnumGameMessageType.BallInHole,this.onBallInHole,this)},t.prototype.onBallInHole=function(e){if(8!==e&&0!==e){var t=null;(t=this._ballPool.size()>0?this._ballPool.get():cc.instantiate(this._ball)).active=!0,t.getComponent(l.default).SetTexture(e),t.parent=this._container,t.position=new cc.Vec3(68,331,0);this.num++;var n=u.Constance.END_BALL_RADIUS,o=22+(this.num-1)*n*2,r=111240/(Math.PI*u.Constance.END_BALL_RADIUS*2)*(309-o)/309,i=cc.find("Sphere",t);cc.tween(t).delay(.5).to(.2,{position:new cc.Vec2(20,331)}).to(1,{position:new cc.Vec2(20,o)}).start(),cc.tween(i).delay(.5).to(.2,{eulerAngles:new cc.Vec3(0,-180,0)}).by(1,{eulerAngles:new cc.Vec3(-r,0,0)}).start()}},t=r([f],t)}(s.default));n.default=h,cc._RF.pop()},{"../../../base/script/global/SS":"SS","../../Constance":"Constance","../../common/EnumCenter":"EnumCenter","../entity/BallTexture":"BallTexture","./BaseControl":"BaseControl"}],Entry:[function(e,t,n){"use strict";cc._RF.push(t,"70bf8ULWgdNPItGzkabS24g","Entry");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../base/script/frame/res/ResManager"),a=e("../../../base/script/frame/clog/Clog"),l=e("../../../base/script/frame/audio/AudioManager"),s=e("../../manager/GameCenter"),u=e("../../../base/script/frame/ui/UIManager"),c=e("../../manager/GameDataManager"),f=e("../../util/FYTipsMgr"),h=cc._decorator.ccclass,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){this.selfAdaption(),window.CC_ENGINE_VERSION=cc.ENGINE_VERSION,c.GameDataManager.Entry=this,c.GameDataManager.Canvas=cc.find("Canvas").getComponent(cc.Canvas)},t.prototype.start=function(){f.FYTipsMgr.init(this.node),i.ResManager.LoadRes("Entry"),cc.game.setFrameRate(60),cc.debug.setDisplayStats(!1),cc.game.addPersistRootNode(this.node),this.InitGameEvent(),this.InitUIManager(),a.default.Init(),l.AudioManager.Init(),s.GameCenter.InitGame(),s.GameCenter.Start()},t.prototype.InitUIManager=function(){u.UIManager.Init(cc.find("UIManager",this.node))},t.prototype.InitGameEvent=function(){var e=this;cc.game.on(cc.game.EVENT_HIDE,function(){e.OnGameHide()}),cc.game.on(cc.game.EVENT_SHOW,function(){e.GameShow()})},t.prototype.OnGameHide=function(){},t.prototype.GameShow=function(){},t.prototype.selfAdaption=function(){var e=cc.find("Canvas").getComponent(cc.Canvas),t=c.GameDataManager.GetWinSize().height/c.GameDataManager.GetWinSize().width;t>16/9?(e.fitWidth=!0,e.fitHeight=!1):t<16/9&&(e.fitWidth=!1,e.fitHeight=!0)},t=r([h],t)}(cc.Component);n.Entry=p,cc._RF.pop()},{"../../../base/script/frame/audio/AudioManager":"AudioManager","../../../base/script/frame/clog/Clog":"Clog","../../../base/script/frame/res/ResManager":"ResManager","../../../base/script/frame/ui/UIManager":"UIManager","../../manager/GameCenter":"GameCenter","../../manager/GameDataManager":"GameDataManager","../../util/FYTipsMgr":"FYTipsMgr"}],EnumCenter:[function(e,t,n){"use strict";cc._RF.push(t,"c6276MqlYxJZL1b+BmGUOmV","EnumCenter"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.Unknow=0]="Unknow",e[e.Mail=1]="Mail",e[e.Femail=2]="Femail"}(n.EnumSex||(n.EnumSex={})),function(e){e.Gift="\u793c\u7269",e.Bag="\u80cc\u5305"}(n.EnumGiftTab||(n.EnumGiftTab={})),function(e){e.Normal="normal",e.Radio="radio",e.RadioDefend="radio-defend",e.Order="order",e.Auto="auto",e.Joy="joy",e.Cp="cp",e.CpLove="cp-love",e.Private="private"}(n.EnumRoomTypes||(n.EnumRoomTypes={})),n.EnumRoomSubType||(n.EnumRoomSubType={}),function(e){e.Auto="auto",e.Lock="lock"}(n.EnumRoomMode||(n.EnumRoomMode={})),function(e){e.Normal="normal",e.Order="order"}(n.EnumRoomBusiness||(n.EnumRoomBusiness={})),function(e){e.Business="businss",e.Vip="vip",e.Fleet="fleet",e.Private="private"}(n.RoomProperty||(n.RoomProperty={})),function(e){e.Message="message",e.Notify="notify",e.System="system",e.Package="package",e.Box="box",e.Local="local",e.CloseNotify="close-notify",e.Guess="guess",e.AvatarGift="avatargift"}(n.EnumMessageType||(n.EnumMessageType={})),function(e){e[e.White=0]="White",e[e.Other=1]="Other"}(n.EnumBallType||(n.EnumBallType={})),function(e){e.GameInit="GameInit",e.BallMoveEnd="BallMoveEnd",e.BallInHole="BallInHole",e.InHole="InHole",e.PlayerCountDownComplete="PlayerCountDownComplete",e.ConfirmBallColorType="ConfirmBallColorType",e.GameAgain="GameAgain",e.WhiteBallCollition="WhiteBallCollition",e.StartTurn="StartTurn",e.NextTurn="NextTurn",e.GameEnd="GameEnd",e.FreeBallPut="FreeBallPut",e.AngleChangeStart="AngleChangeStart",e.AngleChange="AngleChange",e.AngleChangeEnd="AngleChangeEnd",e.CueHitComplete="CueHitComplete",e.TableTouchStart="TableTouchStart",e.TableTouchMove="TableTouchMove",e.TableTouchEnd="TableTouchEnd",e.PowerValueChangeStart="PowerValueChangeStart",e.PowerValueChange="PowerValueChange",e.PowerValueChangeEnd="PowerValueChangeEnd",e.ClickBall="ClickBall",e.GameStateChange="GameStateChange",e.VsAnimFinish="VsAnimFinish",e.ReadyAddGame="ReadyAddGame",e.ReadyExitGame="ReadyExitGame",e.ReadyGame="ReadyGame",e.ReadyStartGame="ReadyStartGame",e.EffectRelease="EffectRelease",e.NetSyncData="NetSyncData"}(n.EnumGameMessageType||(n.EnumGameMessageType={})),function(e){e[e.Idle=0]="Idle",e[e.Move=1]="Move",e[e.MoveEnd=2]="MoveEnd",e[e.InHole=3]="InHole"}(n.EnumBallState||(n.EnumBallState={})),function(e){e[e.Me=0]="Me",e[e.Other=1]="Other"}(n.EnumPlayerType||(n.EnumPlayerType={})),function(e){e[e.None=0]="None",e[e.Full=1]="Full",e[e.Half=2]="Half"}(n.EnumBallColorType||(n.EnumBallColorType={})),function(e){e[e.MyStartBall=0]="MyStartBall",e[e.YourRound=1]="YourRound",e[e.HitHalfBall=2]="HitHalfBall",e[e.HitFullBall=3]="HitFullBall",e[e.Foul=4]="Foul",e[e.Win=5]="Win",e[e.Lose=6]="Lose",e[e.Link=7]="Link"}(n.EnumGameTipsType||(n.EnumGameTipsType={})),function(e){e[e.None=0]="None",e[e.Win=1]="Win",e[e.Fail=2]="Fail"}(n.EnumGameResultType||(n.EnumGameResultType={})),function(e){e[e.NextPlayer=0]="NextPlayer",e[e.Continue=1]="Continue",e[e.FreeBall=2]="FreeBall"}(n.EnumRuleType||(n.EnumRuleType={})),function(e){e[e.ReadyToHit=0]="ReadyToHit",e[e.FreeBallIdle=1]="FreeBallIdle",e[e.FreeBallMove=2]="FreeBallMove",e[e.FreeBallPut=3]="FreeBallPut",e[e.HitBall=4]="HitBall"}(n.EnumGameState||(n.EnumGameState={})),function(e){e.BallCollider="S_Game_BallCollider",e.BallHit="S_Game_BallHit",e.CueHit="S_Game_CueHit",e.Pocket="S_Game_Pocket"}(n.EnumAudio||(n.EnumAudio={})),cc._RF.pop()},{}],EventCommond:[function(e,t,n){"use strict";cc._RF.push(t,"b9c2bbYouhIX5Kuzhk6z3U7","EventCommond"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.EventLogout="EventLogout",e}();n.EventCommond=o,cc._RF.pop()},{}],FYCountDownMgr:[function(e,t,n){"use strict";cc._RF.push(t,"4f798Kw7QhE4YJs27ZwXaIn","FYCountDownMgr");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,l=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._bStart=!1,t._dictCountDownInfo={},t}var n;return o(t,e),n=t,Object.defineProperty(t,"Instance",{get:function(){return null===n._instance&&(n._instance=cc.director.getScene().getChildByName("Canvas").getComponent(n)),null===n._instance&&(n._instance=cc.director.getScene().getChildByName("Canvas").addComponent(n)),n._instance},enumerable:!0,configurable:!0}),t.prototype.add=function(e,t,n,o){this._dictCountDownInfo[e]&&cc.warn("key = "+e+"is already exist");var r=new s(e,t,n,o);this._dictCountDownInfo[e]=r,this._bStart=!0},t.prototype.remove=function(e){this._dictCountDownInfo[e]&&delete this._dictCountDownInfo[e]},t.prototype.update=function(e){if(this._bStart)for(var t in this._dictCountDownInfo){var n=this._dictCountDownInfo[t];n.curTime+=e,-1!=n.intervalTime&&(n.intervalTotalTime+=e),-1!=n.needTime&&n.curTime>=n.needTime?(delete this._dictCountDownInfo[t],0===Object.keys(this._dictCountDownInfo).length&&(this._bStart=!1),n.cb&&n.cb(!0,n.curTime)):-1!=n.intervalTime&&n.intervalTotalTime>=n.intervalTime&&(n.cb&&n.cb(!1,n.curTime),n.intervalTotalTime=0)}},t._instance=null,t=n=r([a],t)}(cc.Component));n.default=l;var s=function(){return function(e,t,n,o){this.key="",this.needTime=0,this.intervalTime=0,this.intervalTotalTime=0,this.curTime=0,this.cb=null,this.key=e,this.needTime=t,this.intervalTime=n,this.cb=o,this.curTime=0,this.intervalTotalTime=0}}();cc._RF.pop()},{}],FYTipsMgr:[function(e,t,n){"use strict";cc._RF.push(t,"428496u99lHZbAssalQfZc7","FYTipsMgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./FYTips"),r=e("../../base/script/frame/res/ResManager"),i=e("../../base/script/frame/clog/Clog"),a=function(){function e(){this.isInit=!1,this._nodeContainer=null,this._pool=new cc.NodePool,this._tipPrefab=null}return e.prototype.init=function(e){var t=this;this._nodeContainer=e,r.ResManager.LoadRes("P_FYTips",cc.Prefab,function(e,n){t._tipPrefab=n,t.isInit=!0})},e.prototype.getTips=function(){var e=null;return this._pool.size()>0?e=this._pool.get():this._tipPrefab&&(e=cc.instantiate(this._tipPrefab)),e},e.prototype.putTips=function(e){e?this._pool.put(e):cc.error("nodeTips is null")},e.prototype.showTips=function(e){this.isInit||i.default.Warn(i.ClogKey.UI,"Tips \u6ca1\u6709\u521d\u59cb\u5316");var t=this.addTips();t?t.setTips(e):i.default.Warn(i.ClogKey.UI,"Tips \u521b\u5efa\u52a0\u8f7d\u5931\u8d25 tips = "+e)},e.prototype.addTips=function(e){void 0===e&&(e=this._nodeContainer);var t=this.getTips();return t?(t.parent=e,t.scale=1,t.opacity=255,t.getComponent(o.default)):null},e.prototype.removeTips=function(e){this.putTips(e.node)},e}();n.default=a,n.FYTipsMgr=new a,cc._RF.pop()},{"../../base/script/frame/clog/Clog":"Clog","../../base/script/frame/res/ResManager":"ResManager","./FYTips":"FYTips"}],FYTips:[function(e,t,n){"use strict";cc._RF.push(t,"8a27c/c2edJzqMK7WW7dIda","FYTips");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./FYTipsMgr"),a=cc._decorator,l=a.ccclass,s=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labTips=null,t}return o(t,e),t.prototype.setTips=function(e){this.labTips&&cc.isValid(this.labTips)&&(this.labTips.string=e,this.playTween())},t.prototype.playTween=function(){this.node.setPosition(0,0);var e=this;this.node.opacity=0;var t=cc.fadeTo(.3,255),n=cc.fadeTo(.3,0),o=cc.moveBy(1.2,0,80),r=cc.callFunc(function(){i.FYTipsMgr.removeTips(e)}),a=cc.sequence(t,cc.delayTime(.9),n,r),l=cc.spawn(o,a);this.node.runAction(l)},r([s(cc.Label)],t.prototype,"labTips",void 0),t=r([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./FYTipsMgr":"FYTipsMgr"}],FreeBallControl:[function(e,t,n){"use strict";cc._RF.push(t,"7fde1oVbrtHD6vx8kE149vv","FreeBallControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./BaseControl"),a=e("../../Constance"),l=e("../../manager/GameDataManager"),s=e("../../../base/script/global/SS"),u=e("../../common/EnumCenter"),c=cc._decorator,f=c.ccclass,h=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._canNotPut=null,t._hand=null,t._bg=null,t.deltaPos=cc.Vec2.ZERO,t.allBallPosArray=[],t}return o(t,e),t.prototype.Init=function(){this.initRoot(),this.initEvent(),this.InitComplete()},t.prototype.Reset=function(){this.node.active=!1},t.prototype.ShowFreeBall=function(e,t){l.GameDataManager.GameState=u.EnumGameState.FreeBallIdle,this._bg.active=!0,this._hand.active=!0,this.node.active=!0,this.node.setPosition(e),this.allBallPosArray=t,this.canPut()},t.prototype.ShowFreeBallStart=function(e,t){this._bg.active=!1,this._hand.active=!1,this.node.active=!0,this.node.setPosition(e),this.allBallPosArray=t,this.canPut()},t.prototype.PutFreeBall=function(){this._bg.active=!1,this._hand.active=!1},t.prototype.HideFreeBall=function(){this.node.active=!1},t.prototype.initRoot=function(){this._bg=cc.find("Bg",this.node),this._hand=cc.find("Hand",this.node),this._canNotPut=cc.find("CanNotPut",this.node)},t.prototype.initEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},t.prototype.removeEvent=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},t.prototype.canPut=function(){var e=!0;this.node.x<l.GameDataManager.TableLeftBorder.x+a.Constance.BALL_RADIUS&&(this.node.x=l.GameDataManager.TableLeftBorder.x+a.Constance.BALL_RADIUS),this.node.x>l.GameDataManager.TableRightBorder.x-a.Constance.BALL_RADIUS&&(this.node.x=l.GameDataManager.TableRightBorder.x-a.Constance.BALL_RADIUS),this.node.y<l.GameDataManager.TableBottomBorder.y+a.Constance.BALL_RADIUS&&(this.node.y=l.GameDataManager.TableBottomBorder.y+a.Constance.BALL_RADIUS),l.GameDataManager.IsFirstHit?this.node.y>-210&&(this.node.y=-210):this.node.y>l.GameDataManager.TableTopBorder.y-a.Constance.BALL_RADIUS&&(this.node.y=l.GameDataManager.TableTopBorder.y-a.Constance.BALL_RADIUS);for(var t=0;t<this.allBallPosArray.length;t++){var n=this.allBallPosArray[t];if(this.node.x>=n.x-2*a.Constance.BALL_RADIUS&&this.node.x<=n.x+2*a.Constance.BALL_RADIUS&&this.node.y>=n.y-2*a.Constance.BALL_RADIUS&&this.node.y<=n.y+2*a.Constance.BALL_RADIUS)return e=!1}return e},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.onTouchStart=function(e){l.GameDataManager.GameState=u.EnumGameState.FreeBallMove,this._bg.active=!0,this._hand.active=!0;var t=e.getLocation();this.deltaPos=this.node.getPosition().sub(t)},t.prototype.onTouchMove=function(e){this.node.setPosition(this.deltaPos.add(e.getLocation())),this._canNotPut.active=!this.canPut()},t.prototype.onTouchEnd=function(){this.canPut()&&(s.SS.EventCenter.emit(u.EnumGameMessageType.FreeBallPut,this.node.getPosition()),this.PutFreeBall())},t.prototype.onTouchCancel=function(){},t=r([f],t)}(i.default));n.default=h,cc._RF.pop()},{"../../../base/script/global/SS":"SS","../../Constance":"Constance","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","./BaseControl":"BaseControl"}],GameCenter:[function(e,t,n){"use strict";cc._RF.push(t,"06b5e8LxDhHaKSaGipjfkVF","GameCenter");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,l)}s((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../base/script/frame/clog/Clog"),a=e("../../base/script/global/BaseEnum"),l=e("../../base/script/global/SS"),s=e("./UIReadyManager"),u=function(){function e(){}return e.ReStartGame=function(){cc.audioEngine.stopAll(),cc.game.restart()},e.InitGame=function(){},e.Start=function(){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return l.SS.IsDevMode=!0,[4,this.readGameConfig()];case 1:return e.sent()?(this.initAgora(),s.UIReadyManager.InitData(),s.UIReadyManager.OpenUI(),[2]):[2]}})})},e.initAgora=function(){l.SS.IsDevMode},e.readGameConfig=function(){return o(this,void 0,Promise,function(){var e=this;return r(this,function(t){return[2,new Promise(function(t){return o(e,void 0,void 0,function(){return r(this,function(e){return cc.loader.loadRes("config/GameConfig",function(e,n){null!=e&&(i.default.Error("load Config Error!"),t(!1)),l.SS.CurPlatform=a.EnumPlatform[""+n.json.Platform],l.SS.CurAppName=n.json.AppName,l.SS.CurAgoraType=a.EnumAgoraType[""+n.json.AgoraType],l.SS.IsDevMode=Boolean(n.json.IsDevMode),l.SS.HttpUrl=n.json.HttpUrl,i.default.Trace(i.ClogKey.Entry,"CurPlatform="+l.SS.CurPlatform),i.default.Trace(i.ClogKey.Entry,"CurAppName="+l.SS.CurAppName),i.default.Trace(i.ClogKey.Entry,"CurAgoraType="+l.SS.CurAgoraType),i.default.Trace(i.ClogKey.Entry,"IsDevMode="+l.SS.IsDevMode),i.default.Trace(i.ClogKey.Entry,"HttpUrl="+l.SS.HttpUrl),t(!0)}),[2]})})})]})})},e}();n.GameCenter=u,cc._RF.pop()},{"../../base/script/frame/clog/Clog":"Clog","../../base/script/global/BaseEnum":"BaseEnum","../../base/script/global/SS":"SS","./UIReadyManager":"UIReadyManager"}],GameDataManager:[function(e,t,n){"use strict";cc._RF.push(t,"ec7146kpH1La7JaqtItIwEV","GameDataManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../base/script/global/SS"),r=e("../common/EnumCenter"),i=e("../util/UtilityEx"),a=function(){function e(){this.Entry=null,this.Canvas=null,this.TableSize=new cc.Vec2(0,0),this.TableLeftBorder=new cc.Vec2(0,0),this.TableRightBorder=new cc.Vec2(0,0),this.TableTopBorder=new cc.Vec2(0,0),this.TableBottomBorder=new cc.Vec2(0,0),this.WhiteBallPos=new cc.Vec3(0,0,0),this.OverTimeCount=[0,0],this.IsGameStart=!1,this._curTurn=r.EnumPlayerType.Me,this.MyBallColorType=r.EnumBallColorType.None,this.gameStatePre=r.EnumGameState.ReadyToHit,this.gameState=r.EnumGameState.ReadyToHit,this.GameUserDataArray=[],this.LinkNumArray=[],this._isNewGuide=-1,this.RemainBallNumArray=[0,0],this.IsFirstHit=!0}return e.prototype.GetDesignWidth=function(){return this.Canvas?this.Canvas.designResolution.width:0},e.prototype.GetDesignHeight=function(){return this.Canvas?this.Canvas.designResolution.height:0},e.prototype.GetWinSize=function(){return cc.winSize},e.prototype.StartTurn=function(){var e=Math.round(10*Math.random())%2;this._curTurn=0===e?r.EnumPlayerType.Me:r.EnumPlayerType.Other,o.SS.EventCenter.emit(r.EnumGameMessageType.StartTurn)},e.prototype.NextTurn=function(e){this._curTurn===r.EnumPlayerType.Me?this._curTurn=r.EnumPlayerType.Other:this._curTurn=r.EnumPlayerType.Me,o.SS.EventCenter.emit(r.EnumGameMessageType.NextTurn,e||30)},e.prototype.GetCurWhoTurn=function(){return this._curTurn},Object.defineProperty(e.prototype,"GameState",{get:function(){return this.gameState},set:function(e){e!=this.gameState&&(this.gameStatePre=this.gameState,this.gameState=e,o.SS.EventCenter.emit(r.EnumGameMessageType.GameStateChange,this.gameState,this.gameStatePre))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsNewGuide",{get:function(){return-1===this._isNewGuide&&(this._isNewGuide=i.GetLocalStorageNumber("isNewGuide",0)),this._isNewGuide},set:function(e){e!=this._isNewGuide&&(this._isNewGuide=e,i.SetLocalStorageNumber("isNewGuide",this._isNewGuide))},enumerable:!0,configurable:!0}),e.prototype.Reset=function(){this.OverTimeCount=[0,0],this.WhiteBallPos=new cc.Vec3(0,0,0),this.IsGameStart=!1,this.MyBallColorType=r.EnumBallColorType.None,this.gameState=r.EnumGameState.ReadyToHit,this.RemainBallNumArray=[0,0],this.IsFirstHit=!0},e}();n.GameDataManager=new a,cc._RF.pop()},{"../../base/script/global/SS":"SS","../common/EnumCenter":"EnumCenter","../util/UtilityEx":"UtilityEx"}],GameTipsControl:[function(e,t,n){"use strict";cc._RF.push(t,"96453NVgHpD2pksXNHMHe/F","GameTipsControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../common/EnumCenter"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._container=null,t._win=null,t._lose=null,t._yourRound=null,t._hitFullBall=null,t._hitHalfBall=null,t._foul=null,t._myStartBall=null,t._link=null,t._labLinkNum=null,t}return o(t,e),t.prototype.Init=function(){this.initRoot(),this.InitComplete()},t.prototype.Reset=function(){this.node.stopAllActions(),this.hideAll()},t.prototype.ShowGameTip=function(e){this._win.active=e===r.EnumGameTipsType.Win,this._lose.active=e===r.EnumGameTipsType.Lose,this._hitFullBall.active=e===r.EnumGameTipsType.HitFullBall,this._hitHalfBall.active=e===r.EnumGameTipsType.HitHalfBall,this._foul.active=e===r.EnumGameTipsType.Foul,this._myStartBall.active=e===r.EnumGameTipsType.MyStartBall,this._yourRound.active=e===r.EnumGameTipsType.YourRound,this._link.active=e===r.EnumGameTipsType.Link,this.playTween(e)},t.prototype.ShowLink=function(e){console.log("ShowLink num = "+e),e>=3&&e<=8&&(this._labLinkNum.string=e.toString(),this.ShowGameTip(r.EnumGameTipsType.Link))},t.prototype.playTween=function(e){e!=r.EnumGameTipsType.Win&&e!=r.EnumGameTipsType.Lose?(this._container.stopAllActions(),this._container.scale=0,this._container.opacity=255,cc.tween(this._container).to(.5,{scale:1},{easing:"backOut"}).delay(1).to(.2,{opacity:0}).start()):e===r.EnumGameTipsType.Win?(this._win.stopAllActions(),this._win.scale=0,this._win.opacity=255,cc.tween(this._win).to(.5,{scale:1},{easing:"backOut"}).delay(1).to(.2,{opacity:0}).start()):e===r.EnumGameTipsType.Lose&&(this._lose.stopAllActions(),this._lose.scale=0,this._lose.opacity=255,cc.tween(this._lose).to(.5,{scale:1},{easing:"backOut"}).delay(1).to(.2,{opacity:0}).start())},t.prototype.initRoot=function(){this._container=cc.find("Container",this.node),this._win=cc.find("Win",this.node),this._lose=cc.find("Lose",this.node),this._yourRound=cc.find("YourRound",this._container),this._hitHalfBall=cc.find("HitHalfBall",this._container),this._hitFullBall=cc.find("HitFullBall",this._container),this._foul=cc.find("Foul",this._container),this._myStartBall=cc.find("MyStartBall",this._container),this._link=cc.find("Link",this._container),this._labLinkNum=cc.find("Link/LabNum",this._container).getComponent(cc.Label)},t.prototype.hideAll=function(){this._yourRound.active=!1,this._link.active=!1,this._hitFullBall.active=!1,this._hitHalfBall.active=!1,this._foul.active=!1,this._myStartBall.active=!1,this._win.active=!1,this._lose.active=!1},t}(e("./BaseControl").default);n.default=i,cc._RF.pop()},{"../../common/EnumCenter":"EnumCenter","./BaseControl":"BaseControl"}],GameUserData:[function(e,t,n){"use strict";cc._RF.push(t,"c04ef7G5GdFLqq3FH526axq","GameUserData"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../util/UtilityEx"),r=function(){return function(e){void 0===e&&(e=null),this.Id=0,this.Name="",this.Sex=0,this.Age=0,this.HeadUrl="",this.SeatId=0,null!==e&&(this.Id=o.GetValue(e,"id",0),this.Name=o.GetValue(e,"name",""),this.Sex=o.GetValue(e,"sex",0),this.Age=o.GetValue(e,"age",0),this.HeadUrl=o.GetValue(e,"head",""),this.SeatId=o.GetValue(e,"seatId",0))}}();n.GameUserData=r,cc._RF.pop()},{"../util/UtilityEx":"UtilityEx"}],GiftData:[function(e,t,n){"use strict";cc._RF.push(t,"59fe01ABQ1IQZxMhkNcLtZk","GiftData"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(e){void 0===e&&(e=null),(e=null)||(this.Id=e.id,this.Name=e.name,this.NameZhTw=e.name_zh_tw,this.NameEn=e.name_en,this.Price=e.price,this.Display=e.display,this.Type=e.type,this.WithEnd=e.with_end,this.Size=e.size,this.SizeBig=e.size_big,this.Ordering=e.ordering,this.Deleted=e.deleted,this.Title=e.title,this.Naming=e.naming,this.Xratio=e.xratio,this.Xtype=e.xtype,this.Excludes=e.excludes,this.Isnaming=e.isnaming)}}();n.GiftData=o,cc._RF.pop()},{}],GiftManager:[function(e,t,n){"use strict";cc._RF.push(t,"d6685eecZhDeKgkUVnS6xZm","GiftManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../base/script/api/http/Xhr"),r=e("../../base/script/frame/clog/Clog"),i=e("../model/GiftData"),a=function(){function e(){}return e.RefreshAllGift=function(e){this.allGift=new Array;for(var t=0;t<e.length;t++){var n=e[t];this.allGift.push(new i.GiftData(n))}},e.GetGiftDataById=function(e){return this.allGift.find(function(t){return t.Id==e})},e.HttpGetGiftData=function(e){var t=this,n=o.default.WithUrl("room/giftConfig/?displaly="+e.display+"&version="+e.version);o.default.Get(n,{onComplete:function(e){r.default.Green(r.ClogKey.Net,"HttpGetGiftConfig:"+JSON.stringify(e.data)),0!=e.success&&t.RefreshAllGift(e.data)},onError:function(e){}})},e}();n.GiftDataManager=a,cc._RF.pop()},{"../../base/script/api/http/Xhr":"Xhr","../../base/script/frame/clog/Clog":"Clog","../model/GiftData":"GiftData"}],GuideControl:[function(e,t,n){"use strict";cc._RF.push(t,"672e0HDzBVO0o3Ya4ldhFDs","GuideControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("./BaseControl"),i=e("../../manager/GameDataManager"),a=e("../../util/FYCountDownMgr"),l=e("../../common/EnumCenter"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._move=null,t._angle=null,t._power=null,t._freeball=null,t.step=0,t}return o(t,e),t.prototype.Init=function(){this.initRoot(),this.initData(),this.InitComplete()},t.prototype.Reset=function(){},t.prototype.Show=function(){if(i.GameDataManager.GetCurWhoTurn()==l.EnumPlayerType.Me){if(this.step<0||3===this.step)return this._move.active=!1,this._angle.active=!1,this._power.active=!1,this._freeball.active=!1,void a.default.Instance.remove("GuideControl");this._move.active=0===this.step,this._angle.active=1===this.step,this._power.active=2===this.step,this.step++,i.GameDataManager.IsNewGuide=1}},t.prototype.ShowFreeBall=function(e){i.GameDataManager.GetCurWhoTurn()==l.EnumPlayerType.Other&&3===this.step&&(this._freeball.active=!0,this._freeball.setPosition(new cc.Vec2(e.x,e.y+50)),this.step=-1)},t.prototype.StartMoveTipsCountDown=function(){var e=this;i.GameDataManager.GetCurWhoTurn()==l.EnumPlayerType.Me&&this.step<0&&(a.default.Instance.remove("GuideControl"),a.default.Instance.add("GuideControl",10,-1,function(){e.showMove()}))},t.prototype.StartPowerTipsCountDown=function(){var e=this;i.GameDataManager.GetCurWhoTurn()==l.EnumPlayerType.Me&&this.step<0&&(a.default.Instance.remove("GuideControl"),a.default.Instance.add("GuideControl",10,-1,function(){e.showPower()}))},t.prototype.Hide=function(){this.step>0&&this.step<3&&(this.step=3),a.default.Instance.remove("GuideControl"),this._move.active=!1,this._angle.active=!1,this._power.active=!1,this._freeball.active=!1},t.prototype.initRoot=function(){this._move=cc.find("Move",this.node),this._angle=cc.find("Angle",this.node),this._power=cc.find("Power",this.node),this._freeball=cc.find("FreeBall",this.node)},t.prototype.initData=function(){1===i.GameDataManager.IsNewGuide?this.step=-1:this.step=0},t.prototype.showMove=function(){this._move.active=!0},t.prototype.showPower=function(){this._power.active=!0},t}(r.default);n.default=s,cc._RF.pop()},{"../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","../../util/FYCountDownMgr":"FYCountDownMgr","./BaseControl":"BaseControl"}],GuideLineControl:[function(e,t,n){"use strict";cc._RF.push(t,"9876bqMghBKzI6jDPZc3HOa","GuideLineControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../Constance"),a=e("../../manager/GameDataManager"),l=e("./BaseControl"),s=e("../../util/UtilityEx"),u=e("../../common/EnumCenter"),c=cc._decorator,f=c.ccclass,h=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._drawLine=null,t._drawLinePic=null,t._drawCircle=null,t._drawCirCleWhite=null,t._drawCircleRed=null,t._reflectedLine=null,t._nearestBall=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.Init=function(){this.initRoot(),this.InitComplete()},t.prototype.Reset=function(){this.Hide()},t.prototype.DrawGuideLine=function(e,t,n){this.node.active=!0,this.node.setPosition(this.node.parent.convertToNodeSpaceAR(t.node.convertToWorldSpaceAR(cc.Vec2.ZERO))),this.node.angle=e;var o=this.getGuideLineLength(e-90,n,t,i.Constance.BALL_RADIUS);this._drawLinePic.getComponent(cc.Sprite).enabled=o>0,this._drawLinePic.width=o,this._drawCircle.x=o+20.5,this._reflectedLine.x=o+20.5,this._reflectedLine.active=!1,this.drawReflectedLine(t)},t.prototype.Show=function(){this.node.active=!0},t.prototype.Hide=function(){this.node.active=!1},t.prototype.initRoot=function(){this._drawLine=cc.find("DrawLine",this.node),this._drawLinePic=cc.find("DrawLine/DrawLine",this.node),this._drawCircle=cc.find("DrawCircle",this._drawLinePic),this._drawCirCleWhite=cc.find("DrawCircle/White",this._drawLinePic),this._drawCircleRed=cc.find("DrawCircle/Red",this._drawLinePic),this._reflectedLine=cc.find("ReflectedLine",this._drawLinePic)},t.prototype.getLineEquation=function(e,t){var n=0,o=0,r=0;if(90===e)n=0,o=1,r=-t.y;else{var i=e*Math.PI/180;n=-Math.tan(i),o=1,r=Math.tan(i)*t.x-t.y}return new cc.Vec3(n,o,r)},t.prototype.getDistanceBetweenPointAndLine=function(e,t,n,o){var r=this.getLineEquation(e,n),i=r.x,a=r.y,l=r.z;return Math.abs(i*t.x+a*t.y+l)/Math.sqrt(i*i+a*a)},t.prototype.changeAngleFrom0To360=function(e){return e<0?e%360+360:e%360},t.prototype.drawReflectedLine=function(e){if(this._nearestBall){var t=e.node.parent.convertToNodeSpaceAR(this._drawCircle.convertToWorldSpaceAR(cc.Vec2.ZERO)),n=e.node.getPosition().sub(t),o=this._nearestBall.node.getPosition().sub(t),r=s.RadianToAngle(cc.v2(n).signAngle(o));this._reflectedLine.angle=r+180,this._reflectedLine.active=!0}},t.prototype.getGuideLineLength=function(e,t,n,o){for(var r=[],i=n.node.getPosition(),l=n.node.parent.convertToNodeSpaceAR(this._drawLinePic.convertToWorldSpaceAR(cc.Vec2.ZERO)),c=l.sub(n.node.getPosition()),f=0;f<t.length;f++){if((m=this.getDistanceBetweenPointAndLine(e,t[f].node.getPosition(),i,o))<2*o){var h=t[f].node.getPosition().sub(l);s.RadianToAngle(h.angle(c))<90&&r.push(f)}}if(r.length>0){var p=r[0],d=cc.Vec2.distance(t[r[0]].node.getPosition(),i);for(f=1;f<r.length;f++){var m;d>(m=cc.Vec2.distance(t[r[f]].node.getPosition(),i))&&(p=r[f],d=m)}this._nearestBall=t[p];var y=!0;8===this._nearestBall.BallNum&&a.GameDataManager.MyBallColorType!=u.EnumBallColorType.None?y=a.GameDataManager.RemainBallNumArray[0]<=1&&a.GameDataManager.GetCurWhoTurn()===u.EnumPlayerType.Me||a.GameDataManager.RemainBallNumArray[1]<=1&&a.GameDataManager.GetCurWhoTurn()===u.EnumPlayerType.Other:(y=a.GameDataManager.MyBallColorType===s.BallNumToBallColorType(this._nearestBall.BallNum)||a.GameDataManager.MyBallColorType===u.EnumBallColorType.None,a.GameDataManager.GetCurWhoTurn()===u.EnumPlayerType.Other&&(y=a.GameDataManager.MyBallColorType===u.EnumBallColorType.None||!y)),this._drawCircleRed.active=!y,this._drawCirCleWhite.active=y;var g=this.getDistanceBetweenPointAndLine(e,this._nearestBall.node.getPosition(),i,o),_=Math.sqrt(Math.abs(Math.pow(2*o,2)-Math.pow(g,2))),v=cc.Vec2.distance(this._nearestBall.node.getPosition(),i)-_-20-(A=20.5);return this._drawLinePic.width=v,v}this._drawCircleRed.active=!1,this._drawCirCleWhite.active=!0,this._nearestBall=null,this._reflectedLine.active=!1;var b=this.getLineEquation(e,i),C=b.x,S=b.y,E=-C/S,w=-b.z/S,T=E*a.GameDataManager.TableLeftBorder.x+w,B=E*a.GameDataManager.TableRightBorder.x+w,R=(a.GameDataManager.TableTopBorder.y-w)/E,M=(a.GameDataManager.TableBottomBorder.y-w)/E,I=new cc.Vec2(0,0),P=[];T<=a.GameDataManager.TableTopBorder.y&&T>=a.GameDataManager.TableBottomBorder.y&&P.push(new cc.Vec2(a.GameDataManager.TableLeftBorder.x,T)),B<=a.GameDataManager.TableTopBorder.y&&B>=a.GameDataManager.TableBottomBorder.y&&P.push(new cc.Vec2(a.GameDataManager.TableRightBorder.x,B)),R<=a.GameDataManager.TableRightBorder.x&&R>=a.GameDataManager.TableLeftBorder.x&&P.push(new cc.Vec2(R,a.GameDataManager.TableTopBorder.y)),M<=a.GameDataManager.TableRightBorder.x&&M>=a.GameDataManager.TableLeftBorder.x&&P.push(new cc.Vec2(M,a.GameDataManager.TableBottomBorder.y)),P.forEach(function(e){var t=e.sub(l);s.RadianToAngle(t.angle(c))<90&&(I=e)});var A,G=this.changeAngleFrom0To360(e),O=(A=20.5,Math.abs(Math.cos(s.AngleToRadian(G))));G>=45&&G<90?G+=90:G>=90&&G<135?G+=90:G>=135&&G<225||(G>=225&&G<315?G+=270:G>=315&&G<360||G>=0&&G<45&&(G-=180)),O=A/Math.abs(Math.cos(s.AngleToRadian(G)))+A;return cc.Vec2.distance(i,I)-20-O},t=r([f],t)}(l.default));n.default=h,cc._RF.pop()},{"../../Constance":"Constance","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","../../util/UtilityEx":"UtilityEx","./BaseControl":"BaseControl"}],HoleControl:[function(e,t,n){"use strict";cc._RF.push(t,"9e159WTTLNNZaCi9udTSUzP","HoleControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("./BaseControl"),i=e("../entity/Hole"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.Init=function(){this.node.children.forEach(function(e){e.getComponent(i.default)||e.addComponent(i.default)}),this.InitComplete()},t.prototype.Reset=function(){},t}(r.default);n.default=a,cc._RF.pop()},{"../entity/Hole":"Hole","./BaseControl":"BaseControl"}],Hole:[function(e,t,n){"use strict";cc._RF.push(t,"02b84HMHc5AIKqjcykx3Ajz","Hole");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Ball"),a=e("../../common/EnumCenter"),l=e("../../../base/script/global/SS"),s=e("../../../base/script/frame/audio/AudioManager"),u=cc._decorator,c=u.ccclass,f=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onBeginContact=function(e,t,n){if(n){n.node.getComponent(i.default);n.node.getComponent(i.default).InHole(),l.SS.EventCenter.emit(a.EnumGameMessageType.InHole,this.node),s.AudioManager.PlaySound(a.EnumAudio.Pocket)}},t=r([c],t)}(cc.Component));n.default=f,cc._RF.pop()},{"../../../base/script/frame/audio/AudioManager":"AudioManager","../../../base/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter","./Ball":"Ball"}],InfiniteScrollView:[function(e,t,n){"use strict";cc._RF.push(t,"8fb7a7lShFFQ4z3dsUiKccD","InfiniteScrollView");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,l=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._mask=null,t._item=null,t._itemList=[],t.onScrollStart=null,t.onScrollEnd=null,t.onScroll=null,t}return o(t,e),t.prototype.Init=function(e,t,n,o,r){void 0===o&&(o=null),void 0===r&&(r=null),this._item=e,this._mask=t,this.onScroll=n,this.onScrollStart=o,this.onScrollEnd=r;for(var i=Math.ceil(this.node.height/this._item.height)+1,a=0;a<i;a++){var l=cc.instantiate(this._item);this._mask.addChild(l),l.setPosition(0,0),l.y=a*-l.height,l.active=!0,this._itemList.push(l)}this.initEvent()},t.prototype.initEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},t.prototype.moveImage=function(e){var t=this;this._itemList.forEach(function(n){n.y+=e.y,e.y>0&&n.y>t._item.height&&(n.y-=t._itemList.length*t._item.height),e.y<0&&n.y<-(t._itemList.length-1)*t._item.height&&(n.y+=t._itemList.length*t._item.height)})},t.prototype.onTouchStart=function(){this.onScrollStart&&this.onScrollStart()},t.prototype.onTouchMove=function(e){this.moveImage(e.getDelta()),this.onScroll&&this.onScroll(e.getDelta().y)},t.prototype.onTouchEnd=function(){this.onScrollEnd&&this.onScrollEnd()},t=r([a],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],LocalStorage:[function(e,t,n){"use strict";cc._RF.push(t,"8851e0VcwpE3Lt4hfBAoXpK","LocalStorage"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../util/StringUtil"),r=e("../clog/Clog"),i=function(){function e(){}return e.SetString=function(e,t){cc.sys.localStorage.setItem(e,t)},e.GetString=function(e,t){var n=cc.sys.localStorage.getItem(e);return null!=n?n:null==n&&null!=t?t:null},e.SetBool=function(e,t){t?cc.sys.localStorage.setItem(e,"true"):cc.sys.localStorage.setItem(e,"false")},e.GetBool=function(e,t){var n=cc.sys.localStorage.getItem(e);return"true"==n||"false"!=n&&(o.IsNullOrEmpty(n)&&null!=t?t:(!o.IsNullOrEmpty(n)||null!=t)&&void 0)},e.SetNumber=function(e,t){null!=t&&cc.sys.localStorage.setItem(e,t)},e.GetNumber=function(e,t){var n=cc.sys.localStorage.getItem(e);if(null==n&&null!=t)return r.default.Orange(r.ClogKey.LocalStorage,"LocalStorage get Number is null or empty ,return defult false!"),t;if(null==n&&null==t)return r.default.Orange(r.ClogKey.LocalStorage,"LocalStorage get Number is null ,defult is null, return -1!"),-1;var o=Number(n);return isNaN(o)?t:o},e}();n.LocalStorageUtil=i,cc._RF.pop()},{"../../util/StringUtil":"StringUtil","../clog/Clog":"Clog"}],LoginData:[function(e,t,n){"use strict";cc._RF.push(t,"0c2e8XBe1JDm4LEf2uZaLFa","LoginData"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(e){void 0===e&&(e=null),this.SessionKey="",null!=e&&(this.SessionKey=e.session_key)}}();n.QQData=o;var r=function(){return function(e){void 0===e&&(e=null),this.QQData=new o,null!=e&&(this.UId=e.uid,this.Name=e.name,this.Icon=e.icon,this.Role=e.role,this.Sex=e.Sex,this.PayNum=e.pay_num,this.PayNum=e.pay_money,this.Vip=e.vip,this.VipNew=e.vip_new,this.Title=e.title,this.Birthday=e.birthday,this.Job=e.job,this.DateLine=e.dateline,this.Version=e.version,this.Longitude=e.longitude,this.Latitude=e.latitude,this.City=e.city,this.CityCode=e.city_code,this.Position=e.position,this.Sign=e.sign,this.ServerTime=e.server_time,this.Star=e.star,this.deleted=e.deleted,this.TmpIcon=e.tmp_icon,this.GodNum=e.god_num,this.Friend=e.friend,this.CashMin=e.cash_min,this.CashRate=e.cash_rate,this.GroupEnabled=e["group.enabled"],this.GameLoginToken=e.game_login_token,this.Token=e.token,this.DToken=e.dtoken)}}();n.LoginData=r,cc._RF.pop()},{}],LoginManager:[function(e,t,n){"use strict";cc._RF.push(t,"8a7159WzehNFL5qpe3Ye8LP","LoginManager");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,l)}s((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../base/script/api/http/Xhr"),a=e("../model/LoginData"),l=e("../../base/script/frame/clog/Clog"),s=e("../../base/script/util/StringUtil"),u=e("../common/EventCommond"),c=e("../../base/script/global/SS");n.Session=new a.LoginData;var f=function(){function e(){}return e.Init=function(){this.loginData=new a.LoginData},e.Clear=function(){this.loginData=new a.LoginData},e.HasName=function(){return s.IsNullOrEmpty(this.loginData.Name)},e.Refresh=function(e){this.loginData=new a.LoginData(e)},Object.defineProperty(e,"isLogined",{get:function(){return null!=this.loginData.UId&&null!=this.loginData.Token},enumerable:!0,configurable:!0}),e.Logout=function(){this.Clear(),c.SS.EventCenter.emit(u.EventCommond.EventLogout)},e.HttpDoDebugLogin=function(){return o(this,void 0,Promise,function(){var e=this;return r(this,function(t){return[2,new Promise(function(t){return o(e,void 0,void 0,function(){var e,n,o;return r(this,function(r){switch(r.label){case 0:return e=new i.XhrUrl("ccminigame/xiyoulogin").Query({key:"debug",value:"true"}).Query({key:"uid",value:this.DebugLoignUserId.toString()}).Url,[4,i.default.GetJson(e)];case 1:return n=r.sent(),n.success||t(!1),o=new a.LoginData(n.data),l.default.Trace(l.ClogKey.Net,"Session="+JSON.stringify(o)),s.IsNullOrEmpty(o.Token)||(i.default.SetHeaderToken(o.Token),t(!0)),t(!1),[2]}})})})]})})},e.DebugLoignUserId=105000700,e}();n.LoginManager=f,cc._RF.pop()},{"../../base/script/api/http/Xhr":"Xhr","../../base/script/frame/clog/Clog":"Clog","../../base/script/global/SS":"SS","../../base/script/util/StringUtil":"StringUtil","../common/EventCommond":"EventCommond","../model/LoginData":"LoginData"}],MGameHitBall:[function(e,t,n){"use strict";cc._RF.push(t,"d7f94vL/VtIto10EwsOSPXS","MGameHitBall"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(e){void 0===e&&(e=null),this.Power=0,this.Angle=0,null!==e&&(this.Power=e.power?e.power:0,this.Angle=e.angle?e.angle:0)}}();n.MGameHitBall=o,cc._RF.pop()},{}],PlatformApi:[function(e,t,n){"use strict";cc._RF.push(t,"f066fL5OsdKy7vueuuT27zN","PlatformApi"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./platform/WechatPlatform"),r=e("./platform/WebPlatform"),i=e("./platform/QQPlatform"),a=e("../global/BaseEnum"),l=e("../global/SS"),s=function(){function e(){this._platform=null}return Object.defineProperty(e.prototype,"Platform",{get:function(){if(!this._platform)switch(l.SS.CurPlatform){case a.EnumPlatform.WEB:this._platform=new r.WebPlatform;break;case a.EnumPlatform.QQ:this._platform=new i.QQPlatform;break;case a.EnumPlatform.WECHAT:this._platform=new o.WechatPlatform}return this._platform},enumerable:!0,configurable:!0}),e}();n._PlatformApi=s,n.PlatformApi=new s,cc._RF.pop()},{"../global/BaseEnum":"BaseEnum","../global/SS":"SS","./platform/QQPlatform":"QQPlatform","./platform/WebPlatform":"WebPlatform","./platform/WechatPlatform":"WechatPlatform"}],PlayerControl:[function(e,t,n){"use strict";cc._RF.push(t,"7daa3k754RFuaicTy1kBEcY","PlayerControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../base/script/global/SS"),a=e("../../common/EnumCenter"),l=e("../entity/Player"),s=e("./BaseControl"),u=e("../../manager/GameDataManager"),c=cc._decorator,f=c.ccclass,h=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._playerLeft=null,t._playerRight=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.Init=function(){this.initRoot(),this.initData(),this.initEvent(),this.InitComplete()},t.prototype.Reset=function(){},t.prototype.initRoot=function(){this._playerLeft=cc.find("PlayerLeft",this.node).addComponent(l.default),this._playerRight=cc.find("PlayerRight",this.node).addComponent(l.default)},t.prototype.initData=function(){this._playerLeft.Init(a.EnumPlayerType.Me,u.GameDataManager.GameUserDataArray[0]),this._playerRight.Init(a.EnumPlayerType.Other,u.GameDataManager.GameUserDataArray[1])},t.prototype.initEvent=function(){i.SS.EventCenter.on(a.EnumGameMessageType.StartTurn,this.onTurnChange,this),i.SS.EventCenter.on(a.EnumGameMessageType.NextTurn,this.onTurnChange,this)},t.prototype.removeEvent=function(){i.SS.EventCenter.off(a.EnumGameMessageType.StartTurn,this.onTurnChange,this),i.SS.EventCenter.off(a.EnumGameMessageType.NextTurn,this.onTurnChange,this)},t.prototype.onTurnChange=function(){u.GameDataManager.GetCurWhoTurn()===a.EnumPlayerType.Me?(this._playerLeft.ShowLight(),this._playerRight.HideLight()):(this._playerRight.ShowLight(),this._playerLeft.HideLight())},t=r([f],t)}(s.default));n.default=h,cc._RF.pop()},{"../../../base/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","../entity/Player":"Player","./BaseControl":"BaseControl"}],Player:[function(e,t,n){"use strict";cc._RF.push(t,"b2ac188EH5D07GcDMnchDu5","Player");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../common/EnumCenter"),a=cc._decorator,l=a.ccclass,s=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._head=null,t._labNickName=null,t._labAge=null,t._sprSex=null,t._nodeLight=null,t._nodeFemale=null,t._nodeMale=null,t.playerType=i.EnumPlayerType.Me,t.gameUserData=null,t}return o(t,e),t.prototype.onLoad=function(){this.initRoot(),this.initData()},t.prototype.initRoot=function(){this._head=cc.find("HeadMask/Head",this.node).getComponent(cc.Sprite),this._labNickName=cc.find("LabNickName",this.node).getComponent(cc.Label),this._labAge=cc.find("Sex/LabAge",this.node).getComponent(cc.Label),this._nodeLight=cc.find("Light",this.node),this._nodeFemale=cc.find("Sex/Female",this.node),this._nodeMale=cc.find("Sex/Male",this.node)},t.prototype.initData=function(){},t.prototype.Init=function(e,t){this.playerType=e,this.gameUserData=t,this._labNickName.string=this.gameUserData.Name,this._labAge.string=this.gameUserData.Age.toString(),this._nodeFemale.active=0===this.gameUserData.Sex,this._nodeMale.active=1===this.gameUserData.Sex},t.prototype.Reset=function(){this.HideLight()},t.prototype.ShowLight=function(){this._nodeLight.active=!0,this._nodeLight.stopAllActions(),cc.tween(this._nodeLight).by(1,{angle:-180}).repeatForever().start()},t.prototype.HideLight=function(){this._nodeLight.stopAllActions(),this._nodeLight.active=!1},t=r([l],t)}(cc.Component));n.default=s,cc._RF.pop()},{"../../common/EnumCenter":"EnumCenter"}],PowerControl:[function(e,t,n){"use strict";cc._RF.push(t,"f2d1c0Il2xGBKwp7QJHK95E","PowerControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../base/script/global/SS"),i=e("../../common/EnumCenter"),a=e("./BaseControl"),l=e("../../manager/GameDataManager"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._powerValue=null,t._powerBallArm=null,t}return o(t,e),t.prototype.Init=function(){this.initRoot(),this.initEvent(),this.InitComplete()},t.prototype.Reset=function(){this._powerValue.fillRange=0,this._powerBallArm.y=0},t.prototype.initRoot=function(){this._powerValue=cc.find("PowerValue",this.node).getComponent(cc.Sprite),this._powerBallArm=cc.find("Mask/PowerBallArm",this.node)},t.prototype.initEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},t.prototype.onLoad=function(){},t.prototype.onTouchStart=function(){r.SS.EventCenter.emit(i.EnumGameMessageType.PowerValueChangeStart)},t.prototype.onTouchMove=function(e){l.GameDataManager.GameState==i.EnumGameState.ReadyToHit&&(this._powerValue.fillRange+=e.getDelta().y/this._powerValue.node.height,this._powerValue.fillRange<-1&&(this._powerValue.fillRange=-1),this._powerValue.fillRange>=0&&(this._powerValue.fillRange=0),r.SS.EventCenter.emit(i.EnumGameMessageType.PowerValueChange,Math.abs(this._powerValue.fillRange)),this._powerBallArm.y=-340*Math.abs(this._powerValue.fillRange))},t.prototype.onTouchEnd=function(){l.GameDataManager.GameState==i.EnumGameState.ReadyToHit&&(r.SS.EventCenter.emit(i.EnumGameMessageType.PowerValueChangeEnd,Math.abs(this._powerValue.fillRange)),this._powerValue.fillRange=0,this._powerBallArm.y=0)},t.prototype.onTouchCancel=function(){l.GameDataManager.GameState==i.EnumGameState.ReadyToHit&&(r.SS.EventCenter.emit(i.EnumGameMessageType.PowerValueChangeEnd,Math.abs(this._powerValue.fillRange)),this._powerValue.fillRange=0,this._powerBallArm.y=0)},t}(a.default);n.default=s,cc._RF.pop()},{"../../../base/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","./BaseControl":"BaseControl"}],QQPlatform:[function(e,t,n){"use strict";cc._RF.push(t,"db6d1oHMY1AzIWcqcOE7jUE","QQPlatform");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("./BasePlatform"),i=e("../../global/SS"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.Login=function(){return new Promise(function(e){console.warn("qq login"),i.qq.login({success:function(t){console.warn("qq login success",t),t.errMsg.endsWith(":ok")?e({code:t.code}):e(t.errMsg)},fail:function(t){console.warn("qq login error",t),e("qq\u767b\u5f55\u5931\u8d25")}})})},t.prototype.GetUserInfo=function(){return new Promise(function(e){i.qq.getUserInfo({withCredentials:!0,success:function(t){t.errMsg.endsWith(":ok")?e(t):e(t.errMsg)},fail:function(t){e("\u83b7\u53d6qq\u7528\u6237\u4fe1\u606f\u5931\u8d25")}})})},t.prototype.GetUserDataPath=function(){return i.qq.env.USER_DATA_PATH},t.prototype.Access=function(e){var t=i.qq.getFileSystemManager();try{return t.accessSync(e),!0}catch(e){return!1}},t.prototype.MakeDir=function(e){var t=i.qq.getFileSystemManager();try{return t.mkdirSync(e),!0}catch(e){return!1}},t.prototype.ReadDir=function(e){try{return i.qq.getFileSystemManager().readdirSync(e)}catch(e){return[]}},t.prototype.RemoveDir=function(e){var t=i.qq.getFileSystemManager();try{return t.rmdirSync(e,!0),!0}catch(e){return!1}},t.prototype.WriteFile=function(e,t){var n=i.qq.getFileSystemManager();try{return n.writeFileSync(e,t,"utf-8"),!0}catch(e){return!1}},t.prototype.ReadFile=function(e){var t="";try{t=i.qq.getFileSystemManager().readFileSync(e,"utf-8")}catch(t){console.warn("readFile "+e+" error",JSON.stringify(t))}return t},t.prototype.RemoveFile=function(e){var t=i.qq.getFileSystemManager();try{return t.unlinkSync(e),!0}catch(e){return!1}},t.prototype.SetStorage=function(e,t){try{return i.qq.setStorageSync(e,t),!0}catch(e){return!1}},t.prototype.GetStorage=function(e){try{return i.qq.getStorageSync(e)}catch(e){return""}},t.prototype.RemoveStorage=function(e){try{return i.qq.removeStorageSync(e),!0}catch(e){return!1}},t}(r.BasePlatform);n.QQPlatform=a,cc._RF.pop()},{"../../global/SS":"SS","./BasePlatform":"BasePlatform"}],ResManager:[function(e,t,n){"use strict";cc._RF.push(t,"1d9c2oYCF9GhJRcQB0J3XZo","ResManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../util/StringUtil"),r=function(){function e(){}return e.prototype.getUrlByName=function(e){return window.ResourcesPath.hasOwnProperty(e)?window.ResourcesPath[e]:e},e.prototype.LoadRes=function(e,t,n){var r=this.getUrlByName(e);o.IsNullOrEmpty(r)||cc.loader.loadRes(r,t,n)},e.prototype.Release=function(e){var t=this.getUrlByName(e);o.IsNullOrEmpty(t)||cc.loader.releaseRes(t)},e}();n.ResManager=new r,cc._RF.pop()},{"../../util/StringUtil":"StringUtil"}],ResUtil:[function(e,t,n){"use strict";cc._RF.push(t,"3f9dbW3CKJNwrqyf0gtQiLi","ResUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../clog/Clog"),r=e("../../util/StringUtil"),i=e("./ResManager"),a=function(){function e(){}return e.prototype.SetHeadIcon=function(e,t){null!=t?r.CheckNetUrl(e)?this.LoadNetImage(e,t):this.ChangeSprite(e,t):o.default.Error("iconSprite is null ")},e.prototype.LoadNetImage=function(e,t){if(r.IsNullOrEmpty(e))o.default.Warn(o.ClogKey.Res,"LoadNetImg Path Error:"+e);else if(r.CheckNetUrl(e)){var n=e.lastIndexOf("/"),i=e.slice(0,n)+"/0";cc.loader.load({url:i,type:"jpg"},function(e,n){if(e)o.default.Warn(o.ClogKey.Res,"LoadNetImg load error,error:"+e);else if(null!=t.node){var r=new cc.SpriteFrame(n);t.spriteFrame=r}else o.default.Error("LoadNetImg load error>>>>>>>>obj.node==null")})}},e.prototype.ChangeSprite=function(e,t){null!=t&&(r.IsNullOrEmpty(e)?o.default.Error("ChangeSprite name is Empty!"):null!=t.spriteFrame&&t.spriteFrame.name==e||i.ResManager.LoadRes(e,cc.SpriteFrame,function(n,r){n?o.default.Error("ChangeSprite Error!, name:"+e+",err"+JSON.stringify(n)):t.isValid&&(t.spriteFrame=r)}))},e}();n.ResUtil=new a,cc._RF.pop()},{"../../util/StringUtil":"StringUtil","../clog/Clog":"Clog","./ResManager":"ResManager"}],RoomHeatBeat:[function(e,t,n){"use strict";cc._RF.push(t,"23bc7pNGtZKlI6HdOVlKJdw","RoomHeatBeat"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../../base/script/frame/clog/Clog"),r=e("../websocket/RoomSocket"),i=e("../websocket/RoomSocketCall"),a=function(){function e(){}return e.Start=function(){var e=this;this.handle=window.setInterval(function(){e.HeatBeat()},1e3*this.heatBeatInterval)},e.End=function(){window.clearInterval(this.handle)},e.OnHeatBeat=function(e){this.heatBeatTimer=0},e.HeatBeat=function(){if(r.RoomSocket.IsOpen){if(this.heatBeatTimer>=this.lostTimeMax)return this.heatBeatTimer=0,o.default.Error("\u5fc3\u8df3\u4e22\u5931"),void r.RoomSocket.ManulClose();i.RoomSocketCall.HeartBeat(),this.heatBeatTimer+=this.heatBeatInterval}},e.heatBeatInterval=5,e.heatBeatTimer=0,e.lostTimeMax=20,e}();n.RoomHeatBeat=a,cc._RF.pop()},{"../../../../base/script/frame/clog/Clog":"Clog","../websocket/RoomSocket":"RoomSocket","../websocket/RoomSocketCall":"RoomSocketCall"}],RoomSocketCall:[function(e,t,n){"use strict";cc._RF.push(t,"e66f8VXmmZAib7MpOO4n2qP","RoomSocketCall"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./RoomSocket"),r=e("../../../../base/script/frame/clog/Clog"),i=function(){function e(){}return e.JoinChannel=function(){o.RoomSocket.Call({op:"joinChannel",data:{}},function(e){})},e.GetHistoryMessages=function(){o.RoomSocket.Call({op:"getHistoryMessages",data:{}},function(e){r.default.Trace(r.ClogKey.Net,"GetHistoryMessages , data:"+e)})},e.OnLineNum=function(){o.RoomSocket.Call({op:"onlineNum",data:{}},function(e){r.default.Trace(r.ClogKey.Net,"OnLineNum , data:"+JSON.stringify(e))})},e.HeartBeat=function(){o.RoomSocket.Call({op:"ping",data:null},null)},e}();n.RoomSocketCall=i,cc._RF.pop()},{"../../../../base/script/frame/clog/Clog":"Clog","./RoomSocket":"RoomSocket"}],RoomSocketInput:[function(e,t,n){"use strict";cc._RF.push(t,"2f878V8d0FDlL7IqYkowGLR","RoomSocketInput"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./RoomSocket"),r=function(){function e(){}return e.InputChat=function(e){var t={op:"sendMessage",data:{content:e,user:{},extra:JSON.stringify({defends:0,is_guess:0})}};o.RoomSocket.Input(t)},e}();n.RoomSocketInput=r,cc._RF.pop()},{"./RoomSocket":"RoomSocket"}],RoomSocketSync:[function(e,t,n){"use strict";cc._RF.push(t,"b5c950vzLBE04P0wRGudeSz","RoomSocketSync"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.Start=function(){},e.End=function(){},e.OnSyncRoomData=function(e){},e}();n.RoomSocketSync=o,cc._RF.pop()},{}],RoomSocket:[function(e,t,n){"use strict";cc._RF.push(t,"a736cYbn7lGZ5Whj8yKzmr8","RoomSocket");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,l)}s((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("msgpack-lite"),a=e("./RoomSocketSync"),l=e("../../../../base/script/frame/clog/Clog"),s=e("../heartBeat/RoomHeatBeat"),u=function(){function e(){}return e.OnInit=function(e){return o(this,void 0,Promise,function(){var t=this;return r(this,function(n){return[2,new Promise(function(n){t.linkIndex++,l.default.Purple(l.ClogKey.Net,"RoomSocket >>> OnInit >>>  url:"+e+", linkIndex:"+t.linkIndex),t.ws=new WebSocket(e),t.ws.binaryType="arraybuffer",t.ws.onopen=function(){l.default.Trace(l.ClogKey.Net,"RoomSocket open success! url:"+e),t.RerlinkTimer>0&&(l.default.Trace(l.ClogKey.Net,"Websocket \u521d\u59cb\u5316\u6210\u529f\uff0c\u91cd\u8fde\u6b21\u6570\u6e05\u96f6"),t.RerlinkTimer=0),n(!0)},t.ws.onmessage=function(e){var n=i.decode(new Uint8Array(e.data));if(Number.isInteger(n))s.RoomHeatBeat.OnHeatBeat(n);else{if(cc.js.isString(n)?l.default.Purple(l.ClogKey.Net,"[\u6e90\u6570\u636e\uff0cjsonString] << "+n):l.default.Purple(l.ClogKey.Net,"[\u6e90\u6570\u636e\uff0cjson] << "+JSON.stringify(n)),n.hasOwnProperty("s")&&n.hasOwnProperty("i"))return l.default.Purple(l.ClogKey.Net,"\u3010\u8bf7\u6c42\u54cd\u5e94\u3011"),void t.onCallResp(n);if(n.hasOwnProperty("content")&&n.hasOwnProperty("type")){var o=n.content;switch(n.type){case"RC:TxtMsg":if(o.hasOwnProperty("extra")){var r=o.extra;if(o.hasOwnProperty("content")){var u=o.content;if(r.type&&"notify"==r.type&&u.indexOf("\u6b22\u8fce")>=0)return l.default.Purple(l.ClogKey.Net,"\u3010\u6b22\u8fce\u3011 << "+JSON.stringify(o)),void a.RoomSocketSync.OnSyncRoomData(o)}return}}}}},t.ws.onerror=function(){n(!1),l.default.Error("RoomSocket: ws link error !")},t.ws.onclose=function(){l.default.Error("RoomSocket: ws link close !")}})]})})},e.OnSend=function(e){this.ws.send(e)},Object.defineProperty(e,"IsOpen",{get:function(){return null!=this.ws&&this.ws.readyState==WebSocket.OPEN},enumerable:!0,configurable:!0}),e.ManulClose=function(){this.IsOpen&&this.ws.close()},e.Call=function(t,n){if(e.IsOpen){var o=JSON.stringify({op:t.op,data:null==t.data?{}:t.data,index:this.sendIndex});"ping"!=t.op&&l.default.Purple(l.ClogKey.Net,"[send message call] >> "+o),e.OnSend(o);var r=this.sendIndex;this.CallMap.set(r,n),this.sendIndex++}},e.onCallResp=function(e){var t=e.i;0!=e.s?this.CallMap.has(t)?(this.CallMap.get(t)(e.data),this.CallMap.delete(t)):l.default.Trace(l.ClogKey.Net,"[onCallResp] can not find func by i"):l.default.Error("[recive message s is false]")},e.Input=function(t){if(e.IsOpen){var n=JSON.stringify({op:t.op,data:null==t.data?{}:t.data,index:this.sendIndex});l.default.Purple(l.ClogKey.Net,"[send message input] >> "+n),e.OnSend(n)}},e.RerlinkTimer=0,e.linkIndex=0,e.sendIndex=1,e.CallMap=new Map,e}();n.RoomSocket=u,cc._RF.pop()},{"../../../../base/script/frame/clog/Clog":"Clog","../heartBeat/RoomHeatBeat":"RoomHeatBeat","./RoomSocketSync":"RoomSocketSync","msgpack-lite":9}],SS:[function(e,t,n){"use strict";cc._RF.push(t,"bf027hc+f9Da4q9x/jPB7OU","SS"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./BaseEnum");n.qq=window.qq,n.wx=window.wx,n.AgoraRTC=window.AgoraRTC,n.ResourcesPath=window.ResourcesPath||{};var r=function(){function e(){}return Object.defineProperty(e,"ImageUrlProxy",{get:function(){return"https://xs-image-proxy.oss-cn-hangzhou.aliyuncs.com/"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ImageUrlUnProxy",{get:function(){return"https://xs-image.oss-cn-hangzhou.aliyuncs.com/"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CurPlatformStr",{get:function(){switch(e.CurPlatform){case o.EnumPlatform.QQ:return o.EnumPlatformStr.QQ;case o.EnumPlatform.WEB:return o.EnumPlatformStr.WEB;case o.EnumPlatform.WECHAT:return o.EnumPlatformStr.WECHAT;default:return o.EnumPlatformStr.NONE}},enumerable:!0,configurable:!0}),e.EventCenter=new cc.EventTarget,e.IsDevMode=!1,e}();n.SS=r,cc._RF.pop()},{"./BaseEnum":"BaseEnum"}],StringUtil:[function(e,t,n){"use strict";cc._RF.push(t,"39a65o+9qtOIJSoGz01RQaS","StringUtil"),Object.defineProperty(n,"__esModule",{value:!0}),n.CheckNetUrl=function(e){return/^http[s]*:\/\//.test(e)},n.IsNullOrEmpty=function(e){return null==e||""===e},n.MapToString=function(e){return JSON.stringify(Array.from(e.entries()).reduce(function(e,t){var n=t[0],o=t[1];return e[n]=o,e},{}))},n.StringLimit=function(e,t){for(var n=0,o=0,r=0;r<e.length;r++)n>=t&&0==o&&(o=r),escape(e[r]).indexOf("%u")<0?n+=1:n+=2;return n<=t?e:e.slice(0,o)+"..."},cc._RF.pop()},{}],SyncPromise:[function(e,t,n){"use strict";cc._RF.push(t,"9932f6+3n5LBZfKlOUPgc/U","SyncPromise"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}}();n.SyncPromise=o,cc._RF.pop()},{}],SystemInfoManager:[function(e,t,n){"use strict";cc._RF.push(t,"ec365aWHDdOcqM6Q249rdKV","SystemInfoManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(e){void 0===e&&(e=null),null!=e&&(this.model=e.model,this.pixelRatio=e.pixelRatio,this.windowWidth=e.windowWidth,this.windowHeight=e.windowHeight,this.system=e.system,this.language=e.language,this.version=e.version,this.screenWidth=e.screenWidth,this.screenHeight=e.screenHeight,this.SDKVersion=e.SDKVersion,this.brand=e.brand,this.fontSizeSetting=e.fontSizeSetting,this.batteryLevel=e.batteryLevel,this.statusBarHeight=e.statusBarHeight,this.safeArea=e.safeArea,this.deviceOrientation=e.deviceOrientation,this.platform=e.platform,this.devicePixelRatio=e.devicePixelRatio)}}();n.SystemInfo=o;var r=function(){function e(){}return Object.defineProperty(e,"IsIOS",{get:function(){return this.CurSystemInfo.system.indexOf("iOS")>=0},enumerable:!0,configurable:!0}),Object.defineProperty(e,"IsAndroid",{get:function(){return this.CurSystemInfo.system.indexOf("iOS")<0},enumerable:!0,configurable:!0}),Object.defineProperty(e,"IsIphoneX",{get:function(){return!!this.CurSystemInfo.model&&(this.CurSystemInfo.model.indexOf("iPhone 11")>-1||(this.CurSystemInfo.model.indexOf("iPhone X")>-1||(this.CurSystemInfo.model.indexOf("iPhone XS")>-1||this.CurSystemInfo.model.indexOf("iPhone XR")>-1)))},enumerable:!0,configurable:!0}),e.Init=function(e){this.CurSystemInfo=new o(e)},e}();n.SystemInfoManager=r,cc._RF.pop()},{}],TableControl:[function(e,t,n){"use strict";cc._RF.push(t,"a2f4emC/6JIqrAwGDq66Cd2","TableControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../base/script/global/SS"),i=e("../../common/EnumCenter"),a=e("./BaseControl"),l=e("../../manager/GameDataManager"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.Init=function(){this.initEvent(),this.InitComplete()},t.prototype.Reset=function(){},t.prototype.initEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},t.prototype.removeEvent=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},t.prototype.onLoad=function(){},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.onTouchStart=function(e){r.SS.EventCenter.emit(i.EnumGameMessageType.TableTouchStart)},t.prototype.onTouchMove=function(e){var t=e.getLocation(),n=l.GameDataManager.GetWinSize();r.SS.EventCenter.emit(i.EnumGameMessageType.TableTouchMove,e.getDelta(),new cc.Vec2(t.x-n.width/2,t.y-n.height/2))},t.prototype.onTouchEnd=function(e){var t=e.getLocation(),n=l.GameDataManager.GetWinSize();r.SS.EventCenter.emit(i.EnumGameMessageType.TableTouchEnd,e.getDelta(),new cc.Vec2(t.x-n.width/2,t.y-n.height/2))},t}(a.default);n.default=s,cc._RF.pop()},{"../../../base/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","./BaseControl":"BaseControl"}],TargetBallControl:[function(e,t,n){"use strict";cc._RF.push(t,"0a1577nHE5KyLeG5AoXxjJs","TargetBallControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../base/script/global/SS"),i=e("../../common/EnumCenter"),a=e("../entity/TargetBall"),l=e("./BaseControl"),s=e("../../manager/GameDataManager"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ourTargetBall=null,t._theirTargetBall=null,t.ballInHoleNumArray=[],t}return o(t,e),t.prototype.Init=function(){this.initRoot(),this.initEvent(),this.initData(),this.InitComplete()},t.prototype.Reset=function(){this.ballInHoleNumArray=[],this._ourTargetBall.Reset(),this._theirTargetBall.Reset()},t.prototype.GetOurRemainBallNum=function(){return this._ourTargetBall.GetRemainBallNum()},t.prototype.GetTheirRemainBallNum=function(){return this._theirTargetBall.GetRemainBallNum()},t.prototype.ResetToLastRoundValue=function(e){var t=this;this.ballInHoleNumArray=[],e.forEach(function(e){e.GetBallState()===i.EnumBallState.InHole&&t.ballInHoleNumArray.push(e.BallNum)}),this.checkBallInHole()},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.initRoot=function(){this._ourTargetBall=cc.find("OurTargetBall",this.node).addComponent(a.default),this._theirTargetBall=cc.find("TheirTargetBall",this.node).addComponent(a.default)},t.prototype.initData=function(){this._ourTargetBall.Init(),this._theirTargetBall.Init()},t.prototype.initEvent=function(){r.SS.EventCenter.on(i.EnumGameMessageType.ConfirmBallColorType,this.onConfirmBallColorType,this),r.SS.EventCenter.on(i.EnumGameMessageType.BallInHole,this.onBallInHole,this)},t.prototype.removeEvent=function(){r.SS.EventCenter.off(i.EnumGameMessageType.ConfirmBallColorType,this.onConfirmBallColorType,this),r.SS.EventCenter.off(i.EnumGameMessageType.BallInHole,this.onBallInHole,this)},t.prototype.checkBallInHole=function(){this._ourTargetBall.CheckBallInHole(this.ballInHoleNumArray),this._theirTargetBall.CheckBallInHole(this.ballInHoleNumArray),s.GameDataManager.RemainBallNumArray[0]=this._ourTargetBall.GetRemainBallNum(),s.GameDataManager.RemainBallNumArray[1]=this._theirTargetBall.GetRemainBallNum()},t.prototype.onConfirmBallColorType=function(e){this._ourTargetBall.SetBallColorType(e),this._theirTargetBall.SetBallColorType(e===i.EnumBallColorType.Half?i.EnumBallColorType.Full:i.EnumBallColorType.Half),this.checkBallInHole()},t.prototype.onBallInHole=function(e){0!==e&&8!==e&&8!=e&&(this.ballInHoleNumArray.push(e),this.checkBallInHole())},t}(l.default);n.default=u,cc._RF.pop()},{"../../../base/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","../entity/TargetBall":"TargetBall","./BaseControl":"BaseControl"}],TargetBallTexture:[function(e,t,n){"use strict";cc._RF.push(t,"d5de231NcZLvKAgOM1yj3Ww","TargetBallTexture");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,l=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.targetBallArray=[],t}return o(t,e),r([l(Array(cc.SpriteFrame))],t.prototype,"targetBallArray",void 0),t=r([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],TargetBall:[function(e,t,n){"use strict";cc._RF.push(t,"51357zRivVPiJeYou9Vkauc","TargetBall");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../common/EnumCenter"),i=e("../../Constance"),a=e("./TargetBallTexture"),l=e("../../util/UtilityEx"),s=e("../../manager/GameDataManager"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ballSpriteArray=[],t._ballNumArray=[],t._targetBallTexture=null,t.ballColorType=r.EnumBallColorType.None,t.isShowBall8=!1,t}return o(t,e),t.prototype.Init=function(){this.initRoot(),this.initData()},t.prototype.Reset=function(){this.initData(),this.ballColorType=r.EnumBallColorType.None,this._ballNumArray=[],this.isShowBall8=!1},t.prototype.SetBallColorType=function(e){this.ballColorType=e;for(var t=0;t<i.Constance.BALL_COUNT/2;t++)this.ballColorType===r.EnumBallColorType.Full?this._ballNumArray.push(t+1):this._ballNumArray.push(t+8);this.refreshBallSprite()},t.prototype.ShowBallEight=function(){this.isShowBall8=!0,this.refreshBallSprite()},t.prototype.PopBall=function(e){l.BallNumToBallColorType(e)===this.ballColorType&&(this.ballColorType===r.EnumBallColorType.Full?this._ballNumArray[e-1]=-1:this._ballNumArray[e%8]=-1),this.refreshBallSprite()},t.prototype.CheckBallInHole=function(e){var t=this;e.forEach(function(e){l.BallNumToBallColorType(e)===t.ballColorType&&(t.ballColorType===r.EnumBallColorType.Full?t._ballNumArray[e-1]=-1:t._ballNumArray[e%8]=-1)}),1===this.GetRemainBallNum()&&s.GameDataManager.MyBallColorType!=r.EnumBallColorType.None?this.ShowBallEight():this.refreshBallSprite()},t.prototype.GetRemainBallNum=function(){var e=0;return this._ballNumArray.forEach(function(t){-1!=t&&e++}),e},t.prototype.initRoot=function(){var e=this;cc.find("Container",this.node).children.forEach(function(t){e._ballSpriteArray.push(t.getComponent(cc.Sprite))}),this._targetBallTexture=this.getComponent(a.default)},t.prototype.initData=function(){for(var e=0;e<this._ballSpriteArray.length;e++)this._ballSpriteArray[e].spriteFrame=null},t.prototype.refreshBallSprite=function(){for(var e=0,t=0;e<this._ballSpriteArray.length;e++,t++)-1===this._ballNumArray[t]||!this.isShowBall8&&8===this._ballNumArray[t]?e--:t<this._ballNumArray.length?this._ballSpriteArray[e].spriteFrame=this._targetBallTexture.targetBallArray[this._ballNumArray[t]-1]:this._ballSpriteArray[e].spriteFrame=null},t}(cc.Component);n.default=u,cc._RF.pop()},{"../../Constance":"Constance","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","../../util/UtilityEx":"UtilityEx","./TargetBallTexture":"TargetBallTexture"}],Time:[function(e,t,n){"use strict";cc._RF.push(t,"f6b3b9v/0pMN4fkk4FuF3QF","Time"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.Format=function(e,t){void 0===t&&(t="yyyy/MM/dd hh:mm:ss");var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var o in/(y+)/i.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return t},e.TimestampToTime=function(e){return this.Format(new Date(e))},e}();n.Time=o,cc._RF.pop()},{}],UIBaseManager:[function(e,t,n){"use strict";cc._RF.push(t,"19a2aLAaSJNU7i8+PuCUQvb","UIBaseManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(){}}();n.UIBaseManager=o,cc._RF.pop()},{}],UIBase:[function(e,t,n){"use strict";cc._RF.push(t,"5f30bFyCudNKqCFTbfjrSSS","UIBase");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("./UIEnum"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.HierarchyType=r.EnumUIHierarchy.Normal,t.OpenTween=r.EnumUIOpenTween.NormalOpen,t.CloseTween=r.EnumUICloseTween.NormalClose,t}return o(t,e),t.prototype.__preload=function(){if(this.Mask=cc.find("Mask",this.node),this.Mask&&!this.Mask.getComponent(cc.Widget)){var e=this.Mask.addComponent(cc.Widget);e.isAlignLeft=!0,e.isAlignRight=!0,e.isAlignTop=!0,e.isAlignBottom=!0,e.left=0,e.right=0,e.top=0,e.bottom=0,e.alignMode=cc.Widget.AlignMode.ON_WINDOW_RESIZE,e.updateAlignment()}},t}(cc.Component);n.UIBase=i,cc._RF.pop()},{"./UIEnum":"UIEnum"}],UIEnum:[function(e,t,n){"use strict";cc._RF.push(t,"907a8KqOlpN4YSAjGUrZUj4","UIEnum"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.Base=0]="Base",e[e.Normal=1e4]="Normal",e[e.Fix=2e4]="Fix",e[e.Marquee=20100]="Marquee",e[e.Tip=20200]="Tip",e[e.Loading=20300]="Loading",e[e.Waiting=20400]="Waiting",e[e.NetDlg=20500]="NetDlg",e[e.Toast=20600]="Toast",e[e.FrameMask=20700]="FrameMask"}(n.EnumUIHierarchy||(n.EnumUIHierarchy={})),function(e){e.NormalOpen="NormalOpen",e.ScaleBig="ScaleBig",e.FadeIn="FadeIn",e.PullUp="PullUp",e.DrawerBottomOpen="DrawerBottomOpen"}(n.EnumUIOpenTween||(n.EnumUIOpenTween={})),function(e){e.NormalClose="NormalClose",e.ScaleSmall="ScaleSmall",e.FadeOut="FadeOut",e.PullDown="PullDown",e.DrawerBottomClose="DrawerBottomClose"}(n.EnumUICloseTween||(n.EnumUICloseTween={})),cc._RF.pop()},{}],UIEventCenter:[function(e,t,n){"use strict";cc._RF.push(t,"ff6c3Uc22ZLh6jru7oHR5Iq","UIEventCenter"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../frame/audio/AudioManager"),r=e("./StringUtil"),i=function(){function e(){}return e.ButtonEvent=function(e,t,n,i){void 0===n&&(n="S_Button"),void 0===i&&(i=.4),e.node.on("click",function(){e.interactable&&(r.IsNullOrEmpty(n)||o.AudioManager.PlaySound(n),i>0&&(e.interactable=!1,window.setTimeout(function(){e&&(e.interactable=!0)},1e3*i)),t())})},e.TouchNodeStart=function(e,t){e.on(cc.Node.EventType.TOUCH_START,function(e){t(e)})},e.TouchNodeEnd=function(e,t){e.on(cc.Node.EventType.TOUCH_END,function(e){t(e)})},e.TouchNodeCancel=function(e,t){e.on(cc.Node.EventType.TOUCH_CANCEL,function(e){t(e)})},e.TouchNodeMove=function(e,t){e.on(cc.Node.EventType.TOUCH_MOVE,function(e){t(e)})},e.ScrollSelect=function(){},e}();n.UIEventCenter=i,cc._RF.pop()},{"../frame/audio/AudioManager":"AudioManager","./StringUtil":"StringUtil"}],UIGameManager:[function(e,t,n){"use strict";cc._RF.push(t,"227a2Dx/kdI75poTFuz//yV","UIGameManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,l)}s((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../base/script/frame/ui/UIManager"),l=e("../view/game/UIGame"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.OpenUI=function(){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,a.UIManager.OpenUI(l.default)];case 1:return e.sent(),[2]}})})},t.prototype.CloseUI=function(){a.UIManager.CloseUI(l.default)},t.prototype.Reset=function(){},t}(e("./UIBaseManager").UIBaseManager);n.default=s,n.UIGameManager=new s,cc._RF.pop()},{"../../base/script/frame/ui/UIManager":"UIManager","../view/game/UIGame":"UIGame","./UIBaseManager":"UIBaseManager"}],UIGame:[function(e,t,n){"use strict";cc._RF.push(t,"8a1c9+1xmhD6YxV1oUi28UD","UIGame");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../base/script/frame/clog/Clog"),i=e("../../../base/script/frame/ui/UIBase"),a=e("../../../base/script/frame/ui/UIEnum"),l=e("../../../base/script/global/SS"),s=e("../../common/EnumCenter"),u=e("../../Constance"),c=e("../../game/ctl/AngleControl"),f=e("../../game/ctl/BallControl"),h=e("../../game/ctl/CountDownControl"),p=e("../../game/ctl/CueControl"),d=e("../../game/ctl/EndBallControl"),m=e("../../game/ctl/FreeBallControl"),y=e("../../game/ctl/GameTipsControl"),g=e("../../game/ctl/GuideLineControl"),_=e("../../game/ctl/HoleControl"),v=e("../../game/ctl/PlayerControl"),b=e("../../game/ctl/PowerControl"),C=e("../../game/ctl/TableControl"),S=e("../../game/ctl/TargetBallControl"),E=e("../../manager/GameDataManager"),w=e("../../manager/UIGameManager"),T=e("../../manager/UIResultManager"),B=e("../../util/CollitionFixForce"),R=e("../../util/UtilityEx"),M=e("../../game/ctl/VsControl"),I=e("../../game/ctl/EffectControl"),P=e("../../game/entity/EffectInHole"),A=e("../../game/ctl/GuideControl"),G=e("../../manager/AutoManager"),O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.PrefabName="P_UIGame",t.OpenTween=a.EnumUIOpenTween.NormalOpen,t.CloseTween=a.EnumUICloseTween.NormalClose,t._bg=null,t._animVS=null,t._angleControl=null,t._cueControl=null,t._tableControl=null,t._powerControl=null,t._ballControl=null,t._guideLineControl=null,t._endBallControl=null,t._playerControl=null,t._holeControl=null,t._gameTipControl=null,t._targetBallControl=null,t._freeBallControl=null,t._countDownControl=null,t._vsControl=null,t._effectControl=null,t._guideControl=null,t._controlArray=[],t._btnReset=null,t.controlCount=0,t.curInitCount=0,t.canHit=!0,t.curRule=s.EnumRuleType.Continue,t.linkNum=0,t.firstHitBallNum=-1,t.isBallEightInHole=!1,t.isMyBallInHole=!1,t.isHisBallInHole=!1,t.isWhiteBallInHole=!1,t.firstInHoleBallNum=-1,t}return o(t,e),t.prototype.onLoad=function(){G.default.Switch&&G.default.Init(),this.setupPhysicsManager(),this.curInitCount=0,this.initRoot(),this.initEvent(),this.initData(),this.selfAdaption(),this.initControl()},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.start=function(){},t.prototype.selfAdaption=function(){cc.find("Canvas").getComponent(cc.Canvas);var e=E.GameDataManager.GetWinSize().height/E.GameDataManager.GetWinSize().width,t=1;e>16/9?t=e/(16/9):e<16/9&&(t=16/9/e),this._bg.node.scale=t},t.prototype.setupPhysicsManager=function(){var e=cc.director.getPhysicsManager();e.enabled=!0,e.gravity=cc.v2(0,0),e.enabledAccumulator=!1},t.prototype.initData=function(){E.GameDataManager.TableSize.x=this._tableControl.node.getContentSize().width,E.GameDataManager.TableSize.y=this._tableControl.node.getContentSize().height,E.GameDataManager.TableLeftBorder=cc.find("Table/Border/Left",this.node).getPosition(),E.GameDataManager.TableRightBorder=cc.find("Table/Border/Right",this.node).getPosition(),E.GameDataManager.TableTopBorder=cc.find("Table/Border/Top",this.node).getPosition(),E.GameDataManager.TableBottomBorder=cc.find("Table/Border/Bottom",this.node).getPosition()},t.prototype.initEvent=function(){l.SS.EventCenter.on(s.EnumGameMessageType.GameInit,this.onGameInit,this),l.SS.EventCenter.on(s.EnumGameMessageType.BallMoveEnd,this.onBallMoveEnd,this),l.SS.EventCenter.on(s.EnumGameMessageType.BallInHole,this.onBallInHole,this),l.SS.EventCenter.on(s.EnumGameMessageType.GameAgain,this.onGameAgain,this),l.SS.EventCenter.on(s.EnumGameMessageType.StartTurn,this.onStartTurn,this),l.SS.EventCenter.on(s.EnumGameMessageType.NextTurn,this.onNextTurn,this),l.SS.EventCenter.on(s.EnumGameMessageType.WhiteBallCollition,this.onWhiteBallCollition,this),l.SS.EventCenter.on(s.EnumGameMessageType.GameEnd,this.onGameEnd,this),l.SS.EventCenter.on(s.EnumGameMessageType.PlayerCountDownComplete,this.onPlayerCountDownComplete,this),l.SS.EventCenter.on(s.EnumGameMessageType.FreeBallPut,this.onFreeBallPut,this),l.SS.EventCenter.on(s.EnumGameMessageType.AngleChangeStart,this.onAngleChangeStart,this),l.SS.EventCenter.on(s.EnumGameMessageType.AngleChange,this.onAngleChange,this),l.SS.EventCenter.on(s.EnumGameMessageType.AngleChangeEnd,this.onAngleChangeEnd,this),l.SS.EventCenter.on(s.EnumGameMessageType.CueHitComplete,this.onCueHitComplete,this),l.SS.EventCenter.on(s.EnumGameMessageType.TableTouchStart,this.onTableTouchStart,this),l.SS.EventCenter.on(s.EnumGameMessageType.TableTouchMove,this.onTableTouchMove,this),l.SS.EventCenter.on(s.EnumGameMessageType.TableTouchEnd,this.onTableTouchEnd,this),l.SS.EventCenter.on(s.EnumGameMessageType.PowerValueChangeStart,this.onPowerValueChangeStart,this),l.SS.EventCenter.on(s.EnumGameMessageType.PowerValueChange,this.onPowerValueChange,this),l.SS.EventCenter.on(s.EnumGameMessageType.PowerValueChangeEnd,this.onPowerValueChangeEnd,this),l.SS.EventCenter.on(s.EnumGameMessageType.ClickBall,this.onClickBall,this),l.SS.EventCenter.on(s.EnumGameMessageType.GameStateChange,this.onGameStateChange,this),l.SS.EventCenter.on(s.EnumGameMessageType.VsAnimFinish,this.onVsAnimFinish,this),l.SS.EventCenter.on(s.EnumGameMessageType.InHole,this.onInHole,this),l.SS.EventCenter.on(s.EnumGameMessageType.NetSyncData,this.onNetSyncData,this),this._btnReset.on(cc.Node.EventType.TOUCH_END,function(){l.SS.EventCenter.emit(s.EnumGameMessageType.GameAgain)},this)},t.prototype.removeEvent=function(){l.SS.EventCenter.off(s.EnumGameMessageType.GameInit,this.onGameInit,this),l.SS.EventCenter.off(s.EnumGameMessageType.BallMoveEnd,this.onBallMoveEnd,this),l.SS.EventCenter.off(s.EnumGameMessageType.BallInHole,this.onBallInHole,this),l.SS.EventCenter.off(s.EnumGameMessageType.GameAgain,this.onGameAgain,this),l.SS.EventCenter.off(s.EnumGameMessageType.StartTurn,this.onStartTurn,this),l.SS.EventCenter.off(s.EnumGameMessageType.NextTurn,this.onNextTurn,this),l.SS.EventCenter.off(s.EnumGameMessageType.WhiteBallCollition,this.onWhiteBallCollition,this),l.SS.EventCenter.off(s.EnumGameMessageType.GameEnd,this.onGameEnd,this),l.SS.EventCenter.off(s.EnumGameMessageType.PlayerCountDownComplete,this.onPlayerCountDownComplete,this),l.SS.EventCenter.off(s.EnumGameMessageType.FreeBallPut,this.onFreeBallPut,this),l.SS.EventCenter.off(s.EnumGameMessageType.AngleChangeStart,this.onAngleChangeStart,this),l.SS.EventCenter.off(s.EnumGameMessageType.AngleChange,this.onAngleChange,this),l.SS.EventCenter.off(s.EnumGameMessageType.AngleChangeEnd,this.onAngleChangeEnd,this),l.SS.EventCenter.off(s.EnumGameMessageType.CueHitComplete,this.onCueHitComplete,this),l.SS.EventCenter.off(s.EnumGameMessageType.TableTouchStart,this.onTableTouchStart,this),l.SS.EventCenter.off(s.EnumGameMessageType.TableTouchMove,this.onTableTouchMove,this),l.SS.EventCenter.off(s.EnumGameMessageType.TableTouchEnd,this.onTableTouchEnd,this),l.SS.EventCenter.off(s.EnumGameMessageType.PowerValueChangeStart,this.onPowerValueChangeStart,this),l.SS.EventCenter.off(s.EnumGameMessageType.PowerValueChange,this.onPowerValueChange,this),l.SS.EventCenter.off(s.EnumGameMessageType.PowerValueChangeEnd,this.onPowerValueChangeEnd,this),l.SS.EventCenter.off(s.EnumGameMessageType.ClickBall,this.onClickBall,this),l.SS.EventCenter.off(s.EnumGameMessageType.GameStateChange,this.onGameStateChange,this),l.SS.EventCenter.off(s.EnumGameMessageType.VsAnimFinish,this.onVsAnimFinish,this),l.SS.EventCenter.off(s.EnumGameMessageType.InHole,this.onInHole,this),l.SS.EventCenter.off(s.EnumGameMessageType.NetSyncData,this.onNetSyncData,this)},t.prototype.getControl=function(e,t){this.controlCount++;var n=cc.find(e,this.node).addComponent(t);return this._controlArray.push(n),n},t.prototype.initRoot=function(){this._bg=cc.find("Bg",this.node).getComponent(cc.Sprite),this._angleControl=this.getControl("Angle",c.default),this._cueControl=this.getControl("Cue",p.default),this._tableControl=this.getControl("Table",C.default),this._powerControl=this.getControl("Power",b.default),this._ballControl=this.getControl("Table/Balls",f.default),this._guideLineControl=this.getControl("GuideLine",g.default),this._endBallControl=this.getControl("EndBall",d.default),this._playerControl=this.getControl("PlayerContainer",v.default),this._holeControl=this.getControl("Table/Holes",_.default),this._gameTipControl=this.getControl("GameTips",y.default),this._targetBallControl=this.getControl("TargetBall",S.default),this._freeBallControl=this.getControl("Table/FreeBall",m.default),this._countDownControl=this.getControl("CountDown",h.default),this._vsControl=this.getControl("VS",M.default),this._effectControl=this.getControl("EffectContainer",I.default),this._guideControl=this.getControl("Guide",A.default),cc.find("Table/Border/Top",this.node).addComponent(B.default).SetFixForce(new cc.Vec2(0,-u.Constance.BORDER_FIX_POWER)),cc.find("Table/Border/Left",this.node).addComponent(B.default).SetFixForce(new cc.Vec2(u.Constance.BORDER_FIX_POWER,0)),cc.find("Table/Border/Right",this.node).addComponent(B.default).SetFixForce(new cc.Vec2(-u.Constance.BORDER_FIX_POWER,0)),cc.find("Table/Border/Bottom",this.node).addComponent(B.default).SetFixForce(new cc.Vec2(0,u.Constance.BORDER_FIX_POWER)),this._btnReset=cc.find("BtnReset",this.node)},t.prototype.initControl=function(){this._controlArray.forEach(function(e){e.Init()})},t.prototype.resetControl=function(){this._controlArray.forEach(function(e){e.Reset()})},t.prototype.reset=function(){this.linkNum=0,this.firstHitBallNum=-1,this.isBallEightInHole=!1,this.isMyBallInHole=!1,this.isHisBallInHole=!1,this.isWhiteBallInHole=!1,this.firstInHoleBallNum=-1,this.canHit=!0,this.curRule=s.EnumRuleType.Continue,E.GameDataManager.Reset(),T.UIResultManager.Reset(),w.UIGameManager.Reset(),this.resetControl(),this._ballControl.EnableWhiteBall(!0),this._freeBallControl.HideFreeBall()},t.prototype.startGame=function(){E.GameDataManager.IsGameStart=!0;var e=this._cueControl.node.parent.convertToNodeSpaceAR(this._ballControl.GetWhiteBallPos());r.default.Trace(r.ClogKey.UI,"onGameInit position = "+e),this._cueControl.Show(e),this._guideLineControl.DrawGuideLine(-180,this._ballControl.GetWhiteBall(),this._ballControl.GetAllActiveBall()),E.GameDataManager.StartTurn()},t.prototype.checkAllBallMoveEnd=function(){if(E.GameDataManager.IsGameStart&&(r.default.Trace(r.ClogKey.UI,"GetAllBallState = "+this._ballControl.GetAllBallState()),this._ballControl.IsAllBallMoveEnd()&&!this.canHit)){this.canHit=!0;var e=this._cueControl.node.parent.convertToNodeSpaceAR(this._ballControl.GetWhiteBallPos());r.default.Trace(r.ClogKey.UI,"checkAllBallMoveEnd position = "+e),this.checkRule(),this.curRule!=s.EnumRuleType.FreeBall&&(this._cueControl.Show(e),this._guideLineControl.DrawGuideLine(this._cueControl.node.angle,this._ballControl.GetWhiteBall(),this._ballControl.GetAllActiveBall())),this._ballControl.SaveLastRoundValue(),E.GameDataManager.GameState===s.EnumGameState.HitBall&&(E.GameDataManager.GameState=s.EnumGameState.ReadyToHit)}},t.prototype.showFreeBall=function(){G.default.Switch?E.GameDataManager.NextTurn(1):(this._guideControl.ShowFreeBall(this._ballControl.GetWhiteBallLocalPos()),E.GameDataManager.GameState=s.EnumGameState.FreeBallIdle,this.curRule=s.EnumRuleType.FreeBall,this._gameTipControl.ShowGameTip(s.EnumGameTipsType.Foul),this._freeBallControl.ShowFreeBall(this._ballControl.GetWhiteBallLocalPos(),this._ballControl.GetAllActiveBallPos()),this._ballControl.EnableWhiteBall(!1),E.GameDataManager.NextTurn(45))},t.prototype.resetToLastRoundValue=function(){this._ballControl.ResetToLastRoundValue(),this._targetBallControl.ResetToLastRoundValue(this._ballControl.GetAllBall()),this._endBallControl.ResetToLastRoundValue(this._ballControl.GetAllBall())},t.prototype.checkBallEightInHole=function(){E.GameDataManager.GetCurWhoTurn()===s.EnumPlayerType.Me&&this._targetBallControl.GetOurRemainBallNum()<=1?(this.isWhiteBallInHole?(T.UIResultManager.GameResultType=s.EnumGameResultType.Fail,T.UIResultManager.ScoreArray=[2,8]):(T.UIResultManager.GameResultType=s.EnumGameResultType.Win,T.UIResultManager.ScoreArray=[8,2]),T.UIResultManager.OpenUIWait(this._gameTipControl)):E.GameDataManager.GetCurWhoTurn()===s.EnumPlayerType.Other&&this._targetBallControl.GetTheirRemainBallNum()<=1?(this.isWhiteBallInHole?(T.UIResultManager.GameResultType=s.EnumGameResultType.Win,T.UIResultManager.ScoreArray=[8,2]):(T.UIResultManager.GameResultType=s.EnumGameResultType.Fail,T.UIResultManager.ScoreArray=[2,8]),T.UIResultManager.OpenUIWait(this._gameTipControl)):(this.resetToLastRoundValue(),this.showFreeBall())},t.prototype.confirmBallColorType=function(){var e=R.BallNumToBallColorType(this.firstInHoleBallNum);E.GameDataManager.MyBallColorType===s.EnumBallColorType.None&&(E.GameDataManager.GetCurWhoTurn()===s.EnumPlayerType.Me?E.GameDataManager.MyBallColorType=e:E.GameDataManager.MyBallColorType=e===s.EnumBallColorType.Half?s.EnumBallColorType.Full:s.EnumBallColorType.Half,E.GameDataManager.MyBallColorType===s.EnumBallColorType.Full?this._gameTipControl.ShowGameTip(s.EnumGameTipsType.HitFullBall):this._gameTipControl.ShowGameTip(s.EnumGameTipsType.HitHalfBall),l.SS.EventCenter.emit(s.EnumGameMessageType.ConfirmBallColorType,E.GameDataManager.MyBallColorType),this.curRule=s.EnumRuleType.Continue)},t.prototype.linkCue=function(){this.linkNum++,this.linkNum>=3&&this._gameTipControl.ShowLink(this.linkNum)},t.prototype.checkRule=function(){var e=this;this.curRule=s.EnumRuleType.NextPlayer,this._guideControl.Hide(),8===this.firstHitBallNum?this.isBallEightInHole?this.checkBallEightInHole():this.isWhiteBallInHole?this.showFreeBall():E.GameDataManager.GetCurWhoTurn()===s.EnumPlayerType.Me&&this._targetBallControl.GetOurRemainBallNum()<=1?E.GameDataManager.NextTurn():E.GameDataManager.GetCurWhoTurn()===s.EnumPlayerType.Other&&this._targetBallControl.GetTheirRemainBallNum()<=1?E.GameDataManager.NextTurn():this.showFreeBall():this.isWhiteBallInHole?this.isBallEightInHole?(this.resetToLastRoundValue(),this.showFreeBall()):-1===this.firstHitBallNum?(E.GameDataManager.GameState=s.EnumGameState.FreeBallIdle,this.curRule=s.EnumRuleType.FreeBall,this.scheduleOnce(function(){e.showFreeBall()},.5)):this.showFreeBall():-1===this.firstHitBallNum?this.showFreeBall():E.GameDataManager.MyBallColorType===s.EnumBallColorType.None?-1!=this.firstInHoleBallNum?this.isBallEightInHole?(this.resetToLastRoundValue(),this.showFreeBall()):E.GameDataManager.IsFirstHit?this._countDownControl.StartCountDown(E.GameDataManager.GetCurWhoTurn()):(this.confirmBallColorType(),this._countDownControl.StartCountDown(E.GameDataManager.GetCurWhoTurn())):E.GameDataManager.NextTurn():E.GameDataManager.GetCurWhoTurn()===s.EnumPlayerType.Me?R.BallNumToBallColorType(this.firstHitBallNum)===E.GameDataManager.MyBallColorType?this.isBallEightInHole?this.checkBallEightInHole():this.isMyBallInHole?(this._countDownControl.StartCountDown(E.GameDataManager.GetCurWhoTurn()),this.linkCue()):E.GameDataManager.NextTurn():R.BallNumToBallColorType(this.firstHitBallNum)!=E.GameDataManager.MyBallColorType&&(this.isBallEightInHole?(this.resetToLastRoundValue(),this.showFreeBall()):this.showFreeBall()):E.GameDataManager.GetCurWhoTurn()===s.EnumPlayerType.Other&&(R.BallNumToBallColorType(this.firstHitBallNum)===E.GameDataManager.MyBallColorType?this.isBallEightInHole?this.checkBallEightInHole():this.showFreeBall():R.BallNumToBallColorType(this.firstHitBallNum)!=E.GameDataManager.MyBallColorType&&(this.isBallEightInHole?this.checkBallEightInHole():this.isHisBallInHole?this._countDownControl.StartCountDown(E.GameDataManager.GetCurWhoTurn()):E.GameDataManager.NextTurn())),-1!=this.firstHitBallNum&&(E.GameDataManager.IsFirstHit=!1),this.firstHitBallNum=-1,this.isBallEightInHole=!1,this.isMyBallInHole=!1,this.isHisBallInHole=!1,this.isWhiteBallInHole=!1,this.firstInHoleBallNum=-1},t.prototype.onTableTouchStart=function(){this._guideControl.Show(),this._guideControl.StartPowerTipsCountDown()},t.prototype.onTableTouchMove=function(e,t){if(E.GameDataManager.IsGameStart&&E.GameDataManager.GameState==s.EnumGameState.ReadyToHit){var n=0;n=Math.abs(e.x)>Math.abs(e.y)?t.y>0?e.x:-e.x:t.x>0?-e.y:e.y,this._cueControl.Rotate(n/10),this._guideLineControl.DrawGuideLine(this._cueControl.node.angle,this._ballControl.GetWhiteBall(),this._ballControl.GetAllActiveBall())}},t.prototype.onTableTouchEnd=function(e){},t.prototype.onAngleChangeStart=function(){E.GameDataManager.IsGameStart&&this._guideControl.Show()},t.prototype.onAngleChange=function(e){E.GameDataManager.IsGameStart&&E.GameDataManager.GameState==s.EnumGameState.ReadyToHit&&(this._cueControl.Rotate(e/10),this._guideLineControl.DrawGuideLine(this._cueControl.node.angle,this._ballControl.GetWhiteBall(),this._ballControl.GetAllActiveBall()))},t.prototype.onAngleChangeEnd=function(){},t.prototype.onPowerValueChangeStart=function(){this._guideControl.Show()},t.prototype.onPowerValueChange=function(e){E.GameDataManager.IsGameStart&&E.GameDataManager.GameState==s.EnumGameState.ReadyToHit&&(this._cueControl.SetPower(e),this._guideLineControl.Hide())},t.prototype.onPowerValueChangeEnd=function(e){E.GameDataManager.IsGameStart&&(0!=e&&(E.GameDataManager.GameState=s.EnumGameState.HitBall),0===e?this._guideLineControl.Show():this._cueControl.Hit())},t.prototype.onGameInit=function(){this.curInitCount++,r.default.Trace(r.ClogKey.UI,"onGameInit count = "+this.curInitCount+" / "+this.controlCount),this.curInitCount===this.controlCount&&this._vsControl.Show()},t.prototype.onVsAnimFinish=function(){this.startGame()},t.prototype.onBallMoveEnd=function(){this.checkAllBallMoveEnd()},t.prototype.onInHole=function(e){this._effectControl.Show(P.default,e.convertToWorldSpaceAR(cc.Vec2.ZERO))},t.prototype.onBallInHole=function(e){E.GameDataManager.IsGameStart&&(-1===this.firstInHoleBallNum&&(this.firstInHoleBallNum=e),this.isBallEightInHole||(8===e?this.isBallEightInHole=!0:0===e?this.isWhiteBallInHole=!0:R.BallNumToBallColorType(e)===E.GameDataManager.MyBallColorType?this.isMyBallInHole=!0:R.BallNumToBallColorType(e)!=E.GameDataManager.MyBallColorType&&R.BallNumToBallColorType(e)!=s.EnumBallColorType.None&&(this.isHisBallInHole=!0),this.checkAllBallMoveEnd()))},t.prototype.onWhiteBallCollition=function(e){E.GameDataManager.IsGameStart&&-1==this.firstHitBallNum&&(this.firstHitBallNum=e)},t.prototype.onGameAgain=function(){this.reset(),this._vsControl.Show()},t.prototype.onStartTurn=function(){if(E.GameDataManager.IsGameStart){switch(this._freeBallControl.ShowFreeBallStart(this._ballControl.GetWhiteBallLocalPos(),this._ballControl.GetAllActiveBallPos()),this._countDownControl.StartCountDown(E.GameDataManager.GetCurWhoTurn()),E.GameDataManager.GetCurWhoTurn()){case s.EnumPlayerType.Me:this._gameTipControl.ShowGameTip(s.EnumGameTipsType.MyStartBall),this._guideControl.Show();break;case s.EnumPlayerType.Other:}G.default.Switch&&l.SS.EventCenter.emit(s.EnumGameMessageType.NetSyncData,G.default.GetGameHitData())}},t.prototype.onNextTurn=function(e){if(this.linkNum=0,E.GameDataManager.IsGameStart&&(this._countDownControl.StartCountDown(E.GameDataManager.GetCurWhoTurn(),e),this.curRule!==s.EnumRuleType.FreeBall)){switch(E.GameDataManager.GetCurWhoTurn()){case s.EnumPlayerType.Me:this._gameTipControl.ShowGameTip(s.EnumGameTipsType.YourRound),this._guideControl.Show(),this._guideControl.StartMoveTipsCountDown();break;case s.EnumPlayerType.Other:}G.default.Switch&&l.SS.EventCenter.emit(s.EnumGameMessageType.NetSyncData,G.default.GetGameHitData())}},t.prototype.onGameEnd=function(){E.GameDataManager.IsGameStart=!1,this._countDownControl.StopCountDown()},t.prototype.onPlayerCountDownComplete=function(e){this._guideControl.Hide(),this._ballControl.EnableWhiteBall(!0),this._freeBallControl.HideFreeBall(),this._guideLineControl.Hide(),this._cueControl.Hide(),this.showFreeBall(),E.GameDataManager.OverTimeCount[e]++,3===E.GameDataManager.OverTimeCount[s.EnumPlayerType.Me]?(T.UIResultManager.GameResultType=s.EnumGameResultType.Fail,T.UIResultManager.ScoreArray=[2,8],T.UIResultManager.OpenUIWait(this._gameTipControl)):3===E.GameDataManager.OverTimeCount[s.EnumPlayerType.Other]&&(T.UIResultManager.GameResultType=s.EnumGameResultType.Win,T.UIResultManager.ScoreArray=[8,2],T.UIResultManager.OpenUIWait(this._gameTipControl))},t.prototype.onFreeBallPut=function(e){E.GameDataManager.GameState=s.EnumGameState.ReadyToHit,this.curRule=s.EnumRuleType.Continue,this.canHit=!0,this._ballControl.SetWhiteBallLocalPos(e);var t=this._cueControl.node.parent.convertToNodeSpaceAR(this._ballControl.GetWhiteBallPos());this._cueControl.Show(t),this._guideLineControl.DrawGuideLine(this._cueControl.node.angle,this._ballControl.GetWhiteBall(),this._ballControl.GetAllActiveBall()),this._ballControl.EnableWhiteBall(!0),this._guideControl.StartMoveTipsCountDown()},t.prototype.onCueHitComplete=function(e,t){E.GameDataManager.IsGameStart&&this.curRule!==s.EnumRuleType.FreeBall&&(this.canHit&&(this._ballControl.HitWhiteBall(e,t),this._countDownControl.StopCountDown()),this.canHit=!1)},t.prototype.onClickBall=function(e){if(E.GameDataManager.IsGameStart&&E.GameDataManager.GameState==s.EnumGameState.ReadyToHit){var t=R.RadianToAngle(cc.v2(this._ballControl.GetWhiteBall().node.position.sub(e.node.position)).signAngle(cc.Vec2.UP));this._cueControl.SetRotation(-t),this._guideLineControl.DrawGuideLine(this._cueControl.node.angle,this._ballControl.GetWhiteBall(),this._ballControl.GetAllActiveBall())}},t.prototype.onGameStateChange=function(e,t){switch(e){case s.EnumGameState.FreeBallMove:this.canHit=!1,this.curRule=s.EnumRuleType.FreeBall,this._ballControl.EnableWhiteBall(!1),this._guideLineControl.Hide(),this._cueControl.Hide();break;case s.EnumGameState.HitBall:this._freeBallControl.HideFreeBall()}},t.prototype.onNetSyncData=function(e){this._cueControl.Rotate(e.Angle),this._cueControl.SetPower(e.Power),this._cueControl.Hit()},t}(i.UIBase);n.default=O,cc._RF.pop()},{"../../../base/script/frame/clog/Clog":"Clog","../../../base/script/frame/ui/UIBase":"UIBase","../../../base/script/frame/ui/UIEnum":"UIEnum","../../../base/script/global/SS":"SS","../../Constance":"Constance","../../common/EnumCenter":"EnumCenter","../../game/ctl/AngleControl":"AngleControl","../../game/ctl/BallControl":"BallControl","../../game/ctl/CountDownControl":"CountDownControl","../../game/ctl/CueControl":"CueControl","../../game/ctl/EffectControl":"EffectControl","../../game/ctl/EndBallControl":"EndBallControl","../../game/ctl/FreeBallControl":"FreeBallControl","../../game/ctl/GameTipsControl":"GameTipsControl","../../game/ctl/GuideControl":"GuideControl","../../game/ctl/GuideLineControl":"GuideLineControl","../../game/ctl/HoleControl":"HoleControl","../../game/ctl/PlayerControl":"PlayerControl","../../game/ctl/PowerControl":"PowerControl","../../game/ctl/TableControl":"TableControl","../../game/ctl/TargetBallControl":"TargetBallControl","../../game/ctl/VsControl":"VsControl","../../game/entity/EffectInHole":"EffectInHole","../../manager/AutoManager":"AutoManager","../../manager/GameDataManager":"GameDataManager","../../manager/UIGameManager":"UIGameManager","../../manager/UIResultManager":"UIResultManager","../../util/CollitionFixForce":"CollitionFixForce","../../util/UtilityEx":"UtilityEx"}],UIManager:[function(e,t,n){"use strict";cc._RF.push(t,"fa81649GVhJyZOSTGdDhn7V","UIManager");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,l)}s((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../util/ArrayUtil"),a=e("../../util/StringUtil"),l=e("../clog/Clog"),s=e("../res/ResManager"),u=e("./UITweenManager"),c=function(){function e(){this.OpenedUI=new Array,this.OnOpenUITag=new Array}return e.prototype.Init=function(e){this._root=e,this.OpenedUI=new Array,this.OnOpenUITag=new Array},e.prototype.OpenUI=function(e){return o(this,void 0,Promise,function(){var t=this;return r(this,function(n){return[2,new Promise(function(n){return o(t,void 0,void 0,function(){var t,o,c,f=this;return r(this,function(r){return t=(new e).PrefabName,a.IsNullOrEmpty(t)?(l.default.Error("Open UI -> UI Name is null! "),[2,null]):null!=(o=this.OpenedUI.find(function(e){return e.PrefabName==t}))?(this.PrintOpenedUIList("Open UI -> UI Name is opened! name:"+t),i.ArrayRemove(this.OpenedUI,o),this.OpenedUI.push(o),this.SortOrder(),[2]):this.OnOpenUITag.find(function(e){return e==t})?(l.default.Warn(l.ClogKey.UI,"Open UI -> but UI is OnOpen, name:"+t),[2]):(this.OnOpenUITag.push(t),this.PrintOnOpenUIList("Open UI -> before Open UI with name:"+t),c=function(){f.OnOpenUITag.find(function(e){return e==t})?(l.default.Trace(l.ClogKey.UI,"remove target Name from OnOpen List!"),i.ArrayRemove(f.OnOpenUITag,t)):l.default.Error("can not find onOpen UI name, targetName:"+t),f.PrintOnOpenUIList("Open UI -> After Open UI with name:"+t)},s.ResManager.LoadRes(t,cc.Prefab,function(o,r){if(o)return c(),void l.default.Error("UIManager >> GetInstance >> node is null!, name:"+t+",err"+JSON.stringify(o));var i=cc.instantiate(r),a=i.addComponent(e);a.PrefabName=t,f._root.addChild(i),i.setPosition(0,0),c(),f.OpenedUI.push(a),f.SortOrder(),f.PrintOpenedUIList("After Open UI >>"+t),u.default.PlayOpenTween(a,function(){},function(){n(a)})}),[2])})})})]})})},e.prototype.CloseUI=function(e){var t=this;return new Promise(function(n){return o(t,void 0,void 0,function(){var t,o,a=this;return r(this,function(r){return t=(new e).PrefabName,l.default.Orange(l.ClogKey.UI,"Close UI  -> UIName="+t),null==(o=this.OpenedUI.find(function(e){return e.PrefabName==t}))?(l.default.Warn(l.ClogKey.UI,"CloseUI -> target UI is null,name:"+t),[2]):(u.default.PlayCloseTween(o,null,function(){o.node.destroy(),i.ArrayRemove(a.OpenedUI,o),a.PrintOpenedUIList("After Close UI :"+t),n()}),[2])})})})},e.prototype.CloseAll=function(){for(var e=0;e<this.OpenedUI.length;e++){var t=this.OpenedUI[e];t.node&&t.node.destroy()}this.OpenedUI=new Array,this.PrintOpenedUIList("After Close All UI")},e.prototype.SortOrder=function(){for(var e=0;e<this.OpenedUI.length;e++){var t=this.OpenedUI[e];t.node.zIndex=t.HierarchyType+2*e}},e.prototype.PrintOpenedUIList=function(e){if(void 0===e&&(e=null),this.OpenedUI.length<=0)l.default.Orange(l.ClogKey.UI,e+">>> Now Opened UI List is Empty");else{for(var t="",n=0;n<this.OpenedUI.length;n++){var o=this.OpenedUI[n];t=t+"\n[ name: "+o.PrefabName+", zIndex: "+o.node.zIndex+" ]"}l.default.Orange(l.ClogKey.UI,e+">>> Now  Opened UI List :"+t)}},e.prototype.PrintOnOpenUIList=function(e){if(void 0===e&&(e=null),this.OnOpenUITag.length<=0)l.default.Orange(l.ClogKey.UI,e+">>> Now OnOpen UI List is Empty");else{for(var t="",n=0;n<this.OnOpenUITag.length;n++){t=t+"\n[ name: "+this.OnOpenUITag[n]+" ]"}l.default.Orange(l.ClogKey.UI,e+">>> Now OnOpen UI List :"+t)}},e}();n.UIManager=new c,cc._RF.pop()},{"../../util/ArrayUtil":"ArrayUtil","../../util/StringUtil":"StringUtil","../clog/Clog":"Clog","../res/ResManager":"ResManager","./UITweenManager":"UITweenManager"}],UIReadyManager:[function(e,t,n){"use strict";cc._RF.push(t,"34933YbcMNNV5rWDHWp7XVJ","UIReadyManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/script/frame/ui/UIManager"),i=e("../model/GameUserData"),a=e("../view/ready/UIReady"),l=e("./GameDataManager"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.InitData=function(){l.GameDataManager.GameUserDataArray.push(new i.GameUserData({id:1,name:"Player1",sex:1,age:23,head:"http://www.foryun.com.cn/1Image/head1.png"})),l.GameDataManager.GameUserDataArray.push(new i.GameUserData({id:2,name:"Player2",sex:0,age:18,head:"http://www.foryun.com.cn/1Image/head2.png"}))},t.prototype.OpenUI=function(){r.UIManager.OpenUI(a.default),this.GetData()},t.prototype.CloseUI=function(){r.UIManager.CloseUI(a.default)},t.prototype.Reset=function(){},t.prototype.GetData=function(){},t}(e("./UIBaseManager").UIBaseManager);n.default=s,n.UIReadyManager=new s,cc._RF.pop()},{"../../base/script/frame/ui/UIManager":"UIManager","../model/GameUserData":"GameUserData","../view/ready/UIReady":"UIReady","./GameDataManager":"GameDataManager","./UIBaseManager":"UIBaseManager"}],UIReadyPlayerSeat:[function(e,t,n){"use strict";cc._RF.push(t,"a7643fV5KpI1KlpsKQ3lTuH","UIReadyPlayerSeat");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../util/UtilityEx"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._sprHead=null,t._labNickName=null,t._nodeReady=null,t._nodeNoReady=null,t._nodeSeat=null,t.data=null,t}return o(t,e),t.prototype.onDestroy=function(){this._sprHead.spriteFrame=null,r.ReleaseOnlineImage(this.data.HeadUrl)},t.prototype.Init=function(){this.initRoot()},t.prototype.InitData=function(e){this.data=e,this.refreshUI()},t.prototype.ShowReady=function(){this._nodeReady.active=!0},t.prototype.IsReady=function(){return this._nodeReady.active},t.prototype.initRoot=function(){this._nodeSeat=cc.find("Seat",this.node),this._sprHead=cc.find("Seat/HeadBg/HeadMask/Head",this.node).getComponent(cc.Sprite),this._labNickName=cc.find("Seat/LabNickName",this.node).getComponent(cc.Label),this._nodeReady=cc.find("Seat/Ready",this.node),this._nodeNoReady=cc.find("Seat/NoReady",this.node)},t.prototype.refreshUI=function(){this._nodeSeat.active=!0,this._sprHead.node.parent.parent.active=!0,this._labNickName.string=this.data.Name,this._nodeNoReady.active=!1,this._nodeReady.active=!1},t}(cc.Component);n.default=i,cc._RF.pop()},{"../../util/UtilityEx":"UtilityEx"}],UIReady:[function(e,t,n){"use strict";cc._RF.push(t,"bbc477NQoNAF41v/ND1OGX1","UIReady");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,l)}s((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var l=e("../../../base/script/frame/ui/UIBase"),s=e("../../../base/script/frame/ui/UIEnum"),u=e("../../../base/script/global/SS"),c=e("../../../base/script/util/UIEventCenter"),f=e("../../common/EnumCenter"),h=e("../../manager/GameDataManager"),p=e("../../manager/UIGameManager"),d=e("../../util/FYTipsMgr"),m=e("./UIReadyPlayerSeat"),y=e("../../manager/UIReadyManager"),g=cc._decorator,_=g.ccclass,v=(g.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.PrefabName="P_UIReady",t.OpenTween=s.EnumUIOpenTween.NormalOpen,t.CloseTween=s.EnumUICloseTween.NormalClose,t._bg=null,t._btnAdd=null,t._btnExit=null,t._btnReady=null,t._btnStart=null,t.playerSeat1=null,t.playerSeat2=null,t.mySeatId=0,t}return o(t,e),t.prototype.onLoad=function(){this.initRoot(),this.initEvent(),this.initData(),this.selfAdaption()},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.initRoot=function(){this._bg=cc.find("Bg",this.node),this._btnAdd=cc.find("BtnAdd",this.node).getComponent(cc.Button),this._btnReady=cc.find("BtnReady",this.node).getComponent(cc.Button),this._btnStart=cc.find("BtnStart",this.node).getComponent(cc.Button),this._btnExit=cc.find("BtnExit",this.node).getComponent(cc.Button),this.playerSeat1=cc.find("PlayerSeat1",this.node).addComponent(m.default),this.playerSeat2=cc.find("PlayerSeat2",this.node).addComponent(m.default)},t.prototype.initData=function(){this._btnAdd.node.active=!0,this._btnReady.node.active=!1,this._btnExit.node.active=!1,this._btnStart.node.active=!1,this.playerSeat1.Init(),this.playerSeat2.Init()},t.prototype.initEvent=function(){c.UIEventCenter.ButtonEvent(this._btnAdd,this.onClickBtnAdd.bind(this)),c.UIEventCenter.ButtonEvent(this._btnReady,this.onClickBtnReady.bind(this)),c.UIEventCenter.ButtonEvent(this._btnStart,this.onClickBtnStart.bind(this)),c.UIEventCenter.ButtonEvent(this._btnExit,this.onClickBtnExit.bind(this)),u.SS.EventCenter.on(f.EnumGameMessageType.ReadyAddGame,this.onReadyAdd,this),u.SS.EventCenter.on(f.EnumGameMessageType.ReadyExitGame,this.onReadyExitGame,this),u.SS.EventCenter.on(f.EnumGameMessageType.ReadyGame,this.onReady,this),u.SS.EventCenter.on(f.EnumGameMessageType.ReadyStartGame,this.onReadyStart,this)},t.prototype.removeEvent=function(){u.SS.EventCenter.off(f.EnumGameMessageType.ReadyAddGame,this.onReadyAdd,this),u.SS.EventCenter.off(f.EnumGameMessageType.ReadyExitGame,this.onReadyExitGame,this),u.SS.EventCenter.off(f.EnumGameMessageType.ReadyGame,this.onReady,this),u.SS.EventCenter.off(f.EnumGameMessageType.ReadyStartGame,this.onReadyStart,this)},t.prototype.selfAdaption=function(){cc.find("Canvas").getComponent(cc.Canvas);var e=h.GameDataManager.GetWinSize().height/h.GameDataManager.GetWinSize().width,t=1;e>16/9?t=e/(16/9):e<16/9&&(t=16/9/e),this._bg.scale=t},t.prototype.onClickBtnAdd=function(){u.SS.EventCenter.emit(f.EnumGameMessageType.ReadyAddGame,1,h.GameDataManager.GameUserDataArray[0],!0),this.scheduleOnce(function(){u.SS.EventCenter.emit(f.EnumGameMessageType.ReadyAddGame,2,h.GameDataManager.GameUserDataArray[1],!1)},1),this.scheduleOnce(function(){u.SS.EventCenter.emit(f.EnumGameMessageType.ReadyGame,2)},2)},t.prototype.onClickBtnReady=function(){},t.prototype.onClickBtnStart=function(){return i(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return this.playerSeat2.IsReady()?(this._btnStart.interactable=!1,[4,p.UIGameManager.OpenUI()]):[3,2];case 1:return e.sent(),y.UIReadyManager.CloseUI(),[3,3];case 2:d.FYTipsMgr.showTips("\u5bf9\u65b9\u8fd8\u6ca1\u6709\u51c6\u5907\u597d\uff01"),e.label=3;case 3:return[2]}})})},t.prototype.onClickBtnExit=function(){},t.prototype.onReadyStart=function(){},t.prototype.onReadyAdd=function(e,t,n){1===e?(this.playerSeat1.InitData(t),this.playerSeat1.ShowReady()):this.playerSeat2.InitData(t),this._btnAdd.node.active=!1,this._btnExit.node.active=!0,n&&(this.mySeatId=e),this._btnStart.node.active=1===this.mySeatId,this._btnReady.node.active=1===this.mySeatId},t.prototype.onReady=function(e){1===e?this.playerSeat1.ShowReady():this.playerSeat2.ShowReady()},t.prototype.onReadyExitGame=function(){},t=r([_],t)}(l.UIBase));n.default=v,cc._RF.pop()},{"../../../base/script/frame/ui/UIBase":"UIBase","../../../base/script/frame/ui/UIEnum":"UIEnum","../../../base/script/global/SS":"SS","../../../base/script/util/UIEventCenter":"UIEventCenter","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","../../manager/UIGameManager":"UIGameManager","../../manager/UIReadyManager":"UIReadyManager","../../util/FYTipsMgr":"FYTipsMgr","./UIReadyPlayerSeat":"UIReadyPlayerSeat"}],UIResultManager:[function(e,t,n){"use strict";cc._RF.push(t,"aa543OtE1ZPILbRawH0W8MH","UIResultManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/script/frame/ui/UIManager"),i=e("../view/result/UIResult"),a=e("./UIBaseManager"),l=e("../common/EnumCenter"),s=e("../util/FYCountDownMgr"),u=e("../../base/script/global/SS"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ScoreArray=[],t.GameResultType=l.EnumGameResultType.None,t}return o(t,e),t.prototype.OpenUIWait=function(e){var t=this;u.SS.EventCenter.emit(l.EnumGameMessageType.GameEnd),e&&(this.GameResultType===l.EnumGameResultType.Win?e.ShowGameTip(l.EnumGameTipsType.Win):this.GameResultType===l.EnumGameResultType.Fail&&e.ShowGameTip(l.EnumGameTipsType.Lose)),s.default.Instance.add("UIResultWait",1.7,-1,function(){t.OpenUI()})},t.prototype.OpenUI=function(){r.UIManager.OpenUI(i.default)},t.prototype.CloseUI=function(){r.UIManager.CloseUI(i.default)},t.prototype.Reset=function(){this.ScoreArray=[],this.GameResultType=l.EnumGameResultType.None},t}(a.UIBaseManager);n.default=c,n.UIResultManager=new c,cc._RF.pop()},{"../../base/script/frame/ui/UIManager":"UIManager","../../base/script/global/SS":"SS","../common/EnumCenter":"EnumCenter","../util/FYCountDownMgr":"FYCountDownMgr","../view/result/UIResult":"UIResult","./UIBaseManager":"UIBaseManager"}],UIResult:[function(e,t,n){"use strict";cc._RF.push(t,"2a326G0coBGTatTCl4SxIWW","UIResult");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../base/script/frame/ui/UIBase"),a=e("../../../base/script/frame/ui/UIEnum"),l=e("../../manager/GameDataManager"),s=e("../../common/EnumCenter"),u=e("../../../base/script/global/SS"),c=e("../../../base/script/frame/ui/UIManager"),f=e("../../manager/UIResultManager"),h=e("../../../base/script/util/UIEventCenter"),p=cc._decorator,d=p.ccclass,m=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.PrefabName="P_UIResult",t.OpenTween=a.EnumUIOpenTween.NormalOpen,t.CloseTween=a.EnumUICloseTween.NormalClose,t._fail=null,t._win=null,t._labMyName=null,t._labMyScore=null,t._sprMyHead=null,t._labOtherName=null,t._labOtherScore=null,t._sprOtherHead=null,t._btnAgain=null,t}var n;return o(t,e),n=t,t.prototype.onLoad=function(){this.initRoot(),this.initEvent(),this.initData()},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.initRoot=function(){this._fail=cc.find("Other/Fail",this.node),this._win=cc.find("Me/Win",this.node),this._btnAgain=cc.find("BtnAgain",this.node),this._labMyName=cc.find("Me/LabNickName",this.node).getComponent(cc.Label),this._labMyScore=cc.find("Me/ValueBg/LabScore",this.node).getComponent(cc.Label),this._sprMyHead=cc.find("Me/HeadMask/Head",this.node).getComponent(cc.Sprite),this._labOtherName=cc.find("Other/LabNickName",this.node).getComponent(cc.Label),this._labOtherScore=cc.find("Other/ValueBg/LabScore",this.node).getComponent(cc.Label),this._sprOtherHead=cc.find("Other/HeadMask/Head",this.node).getComponent(cc.Sprite)},t.prototype.initData=function(){this._fail.active=f.UIResultManager.GameResultType===s.EnumGameResultType.Fail,this._win.active=f.UIResultManager.GameResultType===s.EnumGameResultType.Win,this._labMyName.string=l.GameDataManager.GameUserDataArray[0].Name,this._labMyScore.string=f.UIResultManager.ScoreArray[0].toString(),this._labOtherName.string=l.GameDataManager.GameUserDataArray[1].Name,this._labOtherScore.string=f.UIResultManager.ScoreArray[1].toString(),this.playTween()},t.prototype.initEvent=function(){h.UIEventCenter.ButtonEvent(this._btnAgain.getComponent(cc.Button),this.onClickBtnAgain.bind(this))},t.prototype.removeEvent=function(){},t.prototype.playTween=function(){this._win.scale=10,this._win.opacity=0,this._btnAgain.opacity=0,this._fail.opacity=0,this._win.stopAllActions(),this._btnAgain.stopAllActions(),this._fail.stopAllActions(),f.UIResultManager.GameResultType===s.EnumGameResultType.Win?(this._win.runAction(cc.spawn(cc.scaleTo(.5,1,1),cc.fadeIn(.5))),this._btnAgain.runAction(cc.sequence(cc.delayTime(.2),cc.fadeIn(.5)))):(this._fail.runAction(cc.fadeIn(.5)),this._btnAgain.runAction(cc.sequence(cc.delayTime(.2),cc.fadeIn(.5))))},t.prototype.onClickBtnAgain=function(){u.SS.EventCenter.emit(s.EnumGameMessageType.GameAgain),c.UIManager.CloseUI(n)},t=n=r([d],t)}(i.UIBase));n.default=m,cc._RF.pop()},{"../../../base/script/frame/ui/UIBase":"UIBase","../../../base/script/frame/ui/UIEnum":"UIEnum","../../../base/script/frame/ui/UIManager":"UIManager","../../../base/script/global/SS":"SS","../../../base/script/util/UIEventCenter":"UIEventCenter","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","../../manager/UIResultManager":"UIResultManager"}],UITweenManager:[function(e,t,n){"use strict";cc._RF.push(t,"424d5oyt1ZAxbxFwQGM6u8L","UITweenManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./UIEnum"),r=function(){function e(){}return e.PlayOpenTween=function(t,n,r){switch(t.OpenTween){case o.EnumUIOpenTween.NormalOpen:t.Mask&&(t.Mask.active=!0,t.Mask.runAction(cc.fadeTo(.2,e.maskColorA))),r&&r();break;case o.EnumUIOpenTween.ScaleBig:e.ScaleBig(this.scaleTweenTime,t,e.maskColorA,n,r);break;case o.EnumUIOpenTween.FadeIn:e.FadeIn(this.fadeTweenTime,t,this.maskColorA,n,r);break;case o.EnumUIOpenTween.PullUp:e.PullUp(this.pullTweenTime,t,n,r);break;case o.EnumUIOpenTween.DrawerBottomOpen:e.DrawerBottomOpen(this.drawerBottomTweenTime,t,this.maskColorA,n,r)}},e.PlayCloseTween=function(t,n,r){switch(t.CloseTween){case o.EnumUICloseTween.NormalClose:r&&r();break;case o.EnumUICloseTween.ScaleSmall:e.ScaleSmall(.1,t,n,r);break;case o.EnumUICloseTween.FadeOut:e.FadeOut(this.fadeTweenTime,t,n,r);break;case o.EnumUICloseTween.PullDown:e.PullDown(this.pullTweenTime,t,n,r);break;case o.EnumUICloseTween.DrawerBottomClose:e.DrawerBottomClose(this.drawerBottomTweenTime,t,this.maskColorA,n,r)}},e.ScaleBig=function(e,t,n,o,r){o&&o();var i=t.node.scale,a=cc.callFunc(function(){t.Mask&&(t.Mask.active=!1),t.node.scale=.2}),l=cc.scaleTo(e,i,i).easing(cc.easeBezierAction(i-.1,i+.2,i+.1,i)),s=cc.callFunc(function(){t.Mask&&(t.Mask.active=!0,t.Mask.runAction(cc.fadeTo(.2,n))),r&&r()});t.node.runAction(cc.sequence(a,l,s))},e.ScaleSmall=function(e,t,n,o){n&&n(),t.Mask&&(t.Mask.active=!1);var r=t.node.scale;t.node.runAction(cc.sequence(cc.callFunc(function(){t.node.scale=r}),cc.scaleTo(e,.1,.1),cc.callFunc(function(){o&&o()})))},e.FadeIn=function(e,t,n,o,r){o&&o();var i=cc.callFunc(function(){t.Mask&&(t.Mask.active=!1),t.node.opacity=0}),a=cc.fadeIn(e),l=cc.callFunc(function(){t.Mask&&(t.Mask.active=!0,t.Mask.runAction(cc.fadeTo(.2,n))),r&&r()});t.node.runAction(cc.sequence(i,a,l))},e.FadeOut=function(e,t,n,o){n&&n(),t.Mask&&(t.Mask.active=!1),t.node.runAction(cc.sequence(cc.fadeOut(e),cc.callFunc(function(){o&&o()})))},e.PullUp=function(e,t,n,o){n&&n(),t.node.setPosition(t.node.x,-t.node.parent.anchorY*t.node.parent.height-(1-t.node.anchorY)*t.node.height);var r=cc.callFunc(function(){t.Mask&&(t.Mask.active=!1)}),i=cc.moveTo(e,t.node.x,-(t.node.parent.anchorY-.5)*t.node.parent.height+(t.node.anchorY-.5)*t.node.height).easing(cc.easeOut(3)),a=cc.callFunc(function(){t.Mask&&(t.Mask.active=!0),o&&o()});t.scheduleOnce(function(){return t.node.runAction(cc.sequence(r,i,a))})},e.PullDown=function(e,t,n,o){n&&n(),t.Mask&&(t.Mask.active=!1),t.node.runAction(cc.sequence(cc.moveTo(e,t.node.x,-t.node.parent.anchorY*t.node.parent.height-(1-t.node.anchorY)*t.node.height).easing(cc.easeIn(3)),cc.callFunc(function(){o&&o()})))},e.DrawerBottomOpen=function(e,t,n,o,r){o&&o();var i=t.node.getChildByName("Main");if(i){var a=i.getComponent(cc.Widget);a.updateAlignment();var l=i.getPosition();a.enabled=!1,i.setPosition(new cc.Vec2(i.x,l.y-i.height));var s=cc.callFunc(function(){t.Mask&&(t.Mask.opacity=0)}),u=cc.callFunc(function(){t.Mask&&(t.Mask.active=!0,t.Mask.runAction(cc.fadeTo(.2,n)))}),c=cc.moveTo(e,l),f=cc.callFunc(function(){a.enabled=!0,r&&r()});i.runAction(cc.sequence(s,u,c,f))}},e.DrawerBottomClose=function(e,t,n,o,r){o&&o();var i=t.node.getChildByName("Main");if(i){var a=i.getComponent(cc.Widget);a.updateAlignment();var l=i.getPosition();a.enabled=!1;var s=cc.callFunc(function(){t.Mask&&(t.Mask.active=!0,t.Mask.runAction(cc.fadeTo(.2,0)))}),u=cc.moveTo(e,new cc.Vec2(i.x,l.y-i.height)),c=cc.callFunc(function(){a.enabled=!0,r&&r()});i.runAction(cc.sequence(s,u,c))}},e.scaleTweenTime=.2,e.fadeTweenTime=.5,e.pullTweenTime=.2,e.drawerBottomTweenTime=.2,e.maskColorA=180,e}();n.default=r,cc._RF.pop()},{"./UIEnum":"UIEnum"}],UIUtil:[function(e,t,n){"use strict";cc._RF.push(t,"52b99Pt5yxBG7b4Iy7GrpAQ","UIUtil");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,l)}s((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../clog/Clog"),a=e("../../util/StringUtil"),l=e("../res/ResManager"),s=function(){function e(){}return e.SetHeadIcon=function(e,t,n){null!=t?(e=(Number(n)%50).toString(),e=a.IsNullOrEmpty(e)?"T_HeadIcon_0":"T_HeadIcon_"+Number(e),this.ChangeSprite(e,t)):i.default.Error("iconSprite is null ")},e.LoadRemoteImage=function(e,t){a.IsNullOrEmpty(e)?i.default.Warn(i.ClogKey.UI,"LoadNetImg path error:"+e):a.CheckNetUrl(e)&&(i.default.Orange(i.ClogKey.Net,"LoadRemoteImage url:"+e),cc.loader.load({url:e},function(e,n){if(e)i.default.Warn(i.ClogKey.UI,"LoadNetImg load error,error:"+e);else if(null!=t.node){var o=new cc.SpriteFrame(n);t.spriteFrame=o}else i.default.Error("LoadNetImg load error>>>>>>>>obj.node==null")}))},e.ChangeSprite=function(e,t){null!=t&&(a.IsNullOrEmpty(e)?i.default.Error("ChangeSprite name is Empty!"):null!=t.spriteFrame&&t.spriteFrame.name==e||l.ResManager.LoadRes(e,cc.SpriteFrame,function(n,o){if(n)i.default.Error("ChangeSprite Error!, name:"+e+",err"+JSON.stringify(n));else{var r=o;t.isValid&&(t.spriteFrame=r)}}))},e.CreateAnimationClip=function(e){return o(this,void 0,Promise,function(){return r(this,function(t){return[2,new Promise(function(t){if(a.IsNullOrEmpty(e))return i.default.Error("CreateAnimationClip name is Empty!"),void t(null);cc.loader.loadResDir(e,cc.SpriteFrame,function(n,o,r){if(n)return i.default.Error("CreateAnimationClip Error!, name:"+e+",err"+JSON.stringify(n)),void t(null);var a=[];a.push.apply(a,o),a.sort(function(e,t){return e.name==t.name?0:e.name<t.name?-1:1});t(function(e,t){var n=new cc.AnimationClip;n.sample=t||n.sample;for(var o=[],r=0,i=0,a=e.length;i<a;i++){var l=e[i].name.lastIndexOf("-"),s=parseInt(e[i].name.substr(l+1));o[i]={frame:r,value:e[i]},r+=s/1e3}return o[e.length]={frame:r,value:e[e.length-1]},n._duration=r,n.curveData={comps:{"cc.Sprite":{spriteFrame:o}}},n}(a,30))})})]})})},e.LoadDragonBones=function(e,t,n,o,r){return void 0===r&&(r=1),new Promise(function(i){cc.loader.loadResDir(t,function(t,a){t||a.length<=0?i(!1):(a.forEach(function(t){t instanceof dragonBones.DragonBonesAsset&&(e.dragonAsset=t),t instanceof dragonBones.DragonBonesAtlasAsset&&(e.dragonAtlasAsset=t)}),e.armatureName=n,e.playAnimation(o,r),e.addEventListener(dragonBones.EventObject.COMPLETE,function(){e.removeEventListener(dragonBones.EventObject.COMPLETE),i(!0)}))})})},e}();n.UIUtil=s,cc._RF.pop()},{"../../util/StringUtil":"StringUtil","../clog/Clog":"Clog","../res/ResManager":"ResManager"}],UtilityEx:[function(e,t,n){"use strict";cc._RF.push(t,"9c99bax/nhCfatyeJa+ToJI","UtilityEx"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../common/EnumCenter"),r=e("../../base/script/frame/clog/Clog");n.CreateEventHandler=function(e,t,n){var o=new cc.Component.EventHandler;return o.target=e,o.component=t,o.handler=n,o},n.RotateAround=function(e,t,n,o){if(e){var r=new cc.Quat;e.getRotation(r),cc.Quat.rotateAround(r,r,new cc.Vec3(1,0,0),t),cc.Quat.rotateAround(r,r,new cc.Vec3(0,1,0),n),cc.Quat.rotateAround(r,r,new cc.Vec3(0,0,1),o),e.setRotation(r)}},n.BallNumToBallColorType=function(e){return e>0&&e<8?o.EnumBallColorType.Full:e>8&&e<=15?o.EnumBallColorType.Half:o.EnumBallColorType.None},n.RadianToAngle=function(e){return 180*e/Math.PI},n.AngleToRadian=function(e){return e*Math.PI/180},n.LoadOnlineImage=function(e,t,n){""!=e&&void 0!=e&&" "!=e&&null!=e&&cc.loader.load({url:e,type:t},function(e,t){n&&n(t)})},n.ReleaseOnlineImage=function(e){cc.loader.release(e)},n.GetValue=function(e,t,n){return e&&e[t]?e[t]:(r.default.Warn(r.ClogKey.UI,"GetValue fail, target = "+e+", variableName = "+t+", defaultValue = "+n),n)},n.GetLocalStorageNumber=function(e,t){var n=cc.sys.localStorage.getItem(e);if(null==n&&null!=t)return t;if(null==n&&null==t)return-1;var o=Number(n);return isNaN(o)?t:o},n.SetLocalStorageNumber=function(e,t){null!=t&&cc.sys.localStorage.setItem(e,t)},cc._RF.pop()},{"../../base/script/frame/clog/Clog":"Clog","../common/EnumCenter":"EnumCenter"}],Utility:[function(e,t,n){"use strict";cc._RF.push(t,"4f4193zj5FIKZiq10/WW4NM","Utility"),Object.defineProperty(n,"__esModule",{value:!0}),n.IsObject=function(e){return"function"==typeof e||!(!e||"object"!=typeof e)},cc._RF.pop()},{}],VsControl:[function(e,t,n){"use strict";cc._RF.push(t,"97bbcvOr61Gq5P5MRv30Jxk","VsControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("./BaseControl"),i=e("../../manager/GameDataManager"),a=e("../../../base/script/global/SS"),l=e("../../common/EnumCenter"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._animVs=null,t._sprHeadPlayer1=null,t._sprHeadPlayer2=null,t._labNickNamePlayer1=null,t._labNickNamePlayer2=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.initRoot=function(){this._animVs=this.node.getComponent(cc.Animation),this._sprHeadPlayer1=cc.find("Left/PlayerLeft/HeadMask/Head",this.node).getComponent(cc.Sprite),this._sprHeadPlayer2=cc.find("Right/PlayerRight/HeadMask/Head",this.node).getComponent(cc.Sprite),this._labNickNamePlayer1=cc.find("Left/PlayerLeft/LabNickName",this.node).getComponent(cc.Label),this._labNickNamePlayer2=cc.find("Right/PlayerRight/LabNickName",this.node).getComponent(cc.Label)},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){this._labNickNamePlayer1.string=i.GameDataManager.GameUserDataArray[0].Name,this._labNickNamePlayer2.string=i.GameDataManager.GameUserDataArray[1].Name},t.prototype.Init=function(){this.initRoot(),this.initEvent(),this.initData(),this.InitComplete()},t.prototype.Reset=function(){},t.prototype.Show=function(){var e=this;this.node.active=!0,this._animVs.play("A_Game_VS",0),this.scheduleOnce(function(){e.node.active=!1,a.SS.EventCenter.emit(l.EnumGameMessageType.VsAnimFinish)},1.5)},t}(r.default);n.default=s,cc._RF.pop()},{"../../../base/script/global/SS":"SS","../../common/EnumCenter":"EnumCenter","../../manager/GameDataManager":"GameDataManager","./BaseControl":"BaseControl"}],WebPlatform:[function(e,t,n){"use strict";cc._RF.push(t,"a86363UHuRBvqGsBCxq+zw1","WebPlatform");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.Access=function(e){return!1},t.prototype.GetStorage=function(e){return""},t.prototype.GetUserDataPath=function(){return""},t.prototype.GetUserInfo=function(){},t.prototype.Login=function(){},t.prototype.MakeDir=function(e){return!1},t.prototype.ReadDir=function(e){return[]},t.prototype.ReadFile=function(e){return""},t.prototype.RemoveDir=function(e){return!1},t.prototype.RemoveFile=function(e){return!1},t.prototype.RemoveStorage=function(e){return!1},t.prototype.SetStorage=function(e,t){return!1},t.prototype.WriteFile=function(e,t){return!1},t}(e("./BasePlatform").BasePlatform);n.WebPlatform=r,cc._RF.pop()},{"./BasePlatform":"BasePlatform"}],WechatPlatform:[function(e,t,n){"use strict";cc._RF.push(t,"634dcHb4QNCZ7Iisq45ydN6","WechatPlatform");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("./BasePlatform"),i=e("../../global/SS"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.Login=function(){return new Promise(function(e){var t={};console.warn("wechat login"),i.wx.login({success:function(n){console.warn("wechat login success",n),t.code=n.code,e(t)},fail:function(n){console.warn("wechat login error",n),e(t)}})})},t.prototype.GetUserInfo=function(){return new Promise(function(e){i.wx.getUserInfo({success:function(t){e(t)},fail:function(t){e(null)}})})},t.prototype.GetUserDataPath=function(){return i.wx.env.USER_DATA_PATH},t.prototype.Access=function(e){var t=i.wx.getFileSystemManager();try{return t.accessSync(e),!0}catch(e){return!1}},t.prototype.MakeDir=function(e){var t=i.wx.getFileSystemManager();try{return t.mkdirSync(e),!0}catch(e){return!1}},t.prototype.ReadDir=function(e){try{return i.wx.getFileSystemManager().readdirSync(e)}catch(e){return[]}},t.prototype.RemoveDir=function(e){var t=i.wx.getFileSystemManager();try{return t.rmdirSync(e,!0),!0}catch(e){return!1}},t.prototype.WriteFile=function(e,t){var n=i.wx.getFileSystemManager();try{return n.writeFileSync(e,t,"utf-8"),!0}catch(e){return!1}},t.prototype.ReadFile=function(e){var t="";try{t=i.wx.getFileSystemManager().readFileSync(e,"utf-8")}catch(t){console.warn("readFile "+e+" error",JSON.stringify(t))}return t},t.prototype.RemoveFile=function(e){var t=i.wx.getFileSystemManager();try{return t.unlinkSync(e),!0}catch(e){return!1}},t.prototype.SetStorage=function(e,t){try{return i.wx.setStorageSync(e,t),!0}catch(e){return!1}},t.prototype.GetStorage=function(e){try{return i.wx.getStorageSync(e)}catch(e){return""}},t.prototype.RemoveStorage=function(e){try{return i.wx.removeStorageSync(e),!0}catch(e){return!1}},t}(r.BasePlatform);n.WechatPlatform=a,cc._RF.pop()},{"../../global/SS":"SS","./BasePlatform":"BasePlatform"}],Xhr:[function(e,t,n){"use strict";cc._RF.push(t,"f15e7QINK1MUqk4w4/4G7er","Xhr");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,l)}s((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../frame/clog/Clog"),a=e("../../global/SS"),l=function(){function e(e){this.queryBase=new s;var t=e.indexOf("http")>=0?"":a.SS.HttpUrl;this.url=t+e+(e.indexOf("?")>-1?"&":"?")}return e.prototype.Query=function(e){return this.queryBase.Push(e),this},Object.defineProperty(e.prototype,"Url",{get:function(){return this.url+this.queryBase.ToString()},enumerable:!0,configurable:!0}),e}();n.XhrUrl=l;var s=function(){function e(){this.query=[{key:"package",value:"im."+a.SS.CurAppName+".minigame."+a.SS.CurPlatformStr},{key:"_ipv",value:"0"},{key:"_platform",value:a.SS.CurPlatformStr},{key:"_model",value:""},{key:"_timestamp",value:Math.floor((new Date).valueOf()/1e3).toString()},{key:"_index",value:e.indexStr}]}return Object.defineProperty(e,"indexStr",{get:function(){return this.index++,this.index.toString()},enumerable:!0,configurable:!0}),e.prototype.Push=function(e){this.query.push(e)},e.prototype.ToString=function(){var e=[];return this.query.forEach(function(t){return e.push(t.key+"="+t.value)}),e.join("&")},e.index=0,e}(),u=function(){function e(){this.config=[{key:"content-type",value:"application/x-www-form-urlencoded"},{key:"user-token",value:""}]}return e.prototype.ToString=function(){var e=[];return this.config.forEach(function(t){return e.push(t.key+":"+t.value)}),JSON.stringify(e)},e}(),c=function(){function e(){}return e.SetHeaderToken=function(e){this.header.config.find(function(e){return"user-token"==e.key}).value=e},e.GetJson=function(t){return o(this,void 0,Promise,function(){var n=this;return r(this,function(o){return[2,new Promise(function(o,r){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState)switch(i.default.Green(i.ClogKey.Net,"get json from "+t+" status code :"+a.status),a.status){case 200:var n=void 0;try{n=JSON.parse(a.responseText)}catch(e){r({message:"\u8fd4\u56de\u4fe1\u606f\u9519\u8bef"})}i.default.Green(i.ClogKey.Net,"[XHR GET]\t\n[url]:"+t+"\t\n[msg]:"+JSON.stringify(n)),o(n);break;default:r(e.getEror(a.status))}},a.open("GET",t,!0),n.header.config.forEach(function(e){a.setRequestHeader(e.key,e.value)}),a.send(null),i.default.Green(i.ClogKey.Net,"[XHR GET]\t\n[url]:"+t+"\t\n[header]:"+n.header.ToString())})]})})},e.PostJson=function(t,n){return o(this,void 0,Promise,function(){var o=this;return r(this,function(r){return[2,new Promise(function(r,a){var l=new XMLHttpRequest;if(l.onreadystatechange=function(){if(4==l.readyState)switch(l.status){case 200:var n=void 0;try{n=JSON.parse(l.responseText)}catch(e){a({message:"\u8fd4\u56de\u4fe1\u606f\u9519\u8bef"})}i.default.Green(i.ClogKey.Net,"[XHR POST]\t\n[url]:"+t+"\t\n[msg]:"+JSON.stringify(n)),r(n);break;default:a(e.getEror(l.status))}},l.open("POST",t,!0),o.header.config.forEach(function(e){l.setRequestHeader(e.key,e.value)}),n){var s=[];for(var u in n)n.hasOwnProperty(u)&&n[u]&&s.push(encodeURIComponent(u)+"="+encodeURIComponent(n[u]));var c=s.join("&");l.send(c)}else l.send(null);i.default.Green(i.ClogKey.Net,"[XHR POST]\t\n[url]:"+t+"\t\n[post data]:"+JSON.stringify(n)+",\t\n[header]:"+o.header.ToString())})]})})},e.getEror=function(e){return e>=500?{message:"\u670d\u52a1\u5668\u8fd4\u56de\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5"}:e>=400?{message:"\u9519\u8bef\u7684\u8bf7\u6c42\uff0c\u8bf7\u91cd\u8bd5"}:e>=300?{message:"\u767b\u5f55\u72b6\u6001\u53ef\u80fd\u5df2\u8fc7\u671f\uff0c\u8bf7\u91cd\u8bd5"}:{message:"\u670d\u52a1\u5668\u8fd4\u56de\u6570\u636e\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5"}},e.header=new u,e}();n.default=c,cc._RF.pop()},{"../../frame/clog/Clog":"Clog","../../global/SS":"SS"}]},{},["AgoraApi","PlatformApi","AgoraBase","AgoraQQ","AgoraWeb","AgoraWechat","Xhr","BasePlatform","QQPlatform","WebPlatform","WechatPlatform","AudioManager","Clog","ResManager","ResUtil","LocalStorage","Time","UIBase","UIEnum","UIManager","UITweenManager","UIUtil","BaseEnum","SS","SystemInfoManager","ArrayUtil","CryptoJS","StringUtil","SyncPromise","UIEventCenter","Utility","Constance","EnumCenter","EventCommond","CheckContentController","RoomHeatBeat","RoomSocket","RoomSocketCall","RoomSocketInput","RoomSocketSync","AngleControl","BallControl","BaseControl","CountDownControl","CueControl","EffectControl","EndBallControl","FreeBallControl","GameTipsControl","GuideControl","GuideLineControl","HoleControl","PlayerControl","PowerControl","TableControl","TargetBallControl","VsControl","Ball","BallTexture","EffectBase","EffectInHole","Hole","Player","TargetBall","TargetBallTexture","AutoManager","GameCenter","GameDataManager","GiftManager","LoginManager","UIBaseManager","UIGameManager","UIReadyManager","UIResultManager","GameUserData","GiftData","LoginData","MGameHitBall","CollitionFixForce","DragComp","FYCountDownMgr","FYTips","FYTipsMgr","InfiniteScrollView","UtilityEx","Entry","UIGame","UIReady","UIReadyPlayerSeat","UIResult"]);