window.__require=function e(t,n,o){function a(c,i){if(!n[c]){if(!t[c]){var r=c.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!i&&l)return l(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+c+"'")}}var u=n[c]={exports:{}};t[c][0].call(u.exports,function(e){return a(t[c][1][e]||e)},u,u.exports,e,t,n,o)}return n[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<o.length;c++)a(o[c]);return a}({BeforeGame:[function(e,t,n){"use strict";cc._RF.push(t,"f81759ei6hFpZpxzVUG/3w0","BeforeGame"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([a],t)}(cc.Component));n.default=s,cc._RF.pop()},{}],CCCWXMiniGameSDKMgr:[function(e,t,n){"use strict";cc._RF.push(t,"23b6dZAOctF1I050yFupdm/","CCCWXMiniGameSDKMgr"),Object.defineProperty(n,"__esModule",{value:!0});var o,a,s=e("./FYSDKMgr"),c=e("./FYUtility");(function(e){e[e.Fail=0]="Fail",e[e.Success=1]="Success",e[e.NotGroup=2]="NotGroup"})(o=n.ShareResultType||(n.ShareResultType={})),function(e){e[e.Week=0]="Week",e[e.None=1]="None"}(a=n.ClearRankType||(n.ClearRankType={}));var i=function(){function e(){this.ShareTitle="\u8ba9\u4f60\u73a9\u5230\u624b\u673a\u6ca1\u7535\uff0c\u4e0a\u5395\u6240\u8e72\u5230\u817f\u53d1\u9ebb\uff01",this.SharePicPath="res/raw-assets/resources/share/share1.png",this.ShareTitle2="\u5408\u5e76\u98ce\u66b4\uff0c\u8111\u529b\u5168\u5f00\uff0c\u73a9\u8f6c2048\uff01",this.SharePicPath2="res/raw-assets/resources/share/share2.png",this.SaveKeyShareGroupIds=e.AppID+"SaveKeyShareGroupIds"}return e.prototype.wxInit=function(t,n){if(this.wxIsWx()){wx.showShareMenu({withShareTicket:!0});var o=s.default.Instance.Md5Pipe(e.Instance.SharePicPath);wx.onShareAppMessage(function(t){return{title:e.Instance.ShareTitle,imageUrl:o,query:""}}),wx.onShow(function(e){null!=t&&t(e)}),wx.onHide(function(){null!=n&&n()})}},e.prototype.wxGetFriendCloudStorage=function(e){this.wxIsWx()&&wx.getFriendCloudStorage(e)},e.prototype.wxGetUserCloudStorage=function(e){this.wxIsWx()&&wx.getUserCloudStorage(e)},e.prototype.wxGetUserInfo=function(e){this.wxIsWx()&&wx.getUserInfo(e)},e.prototype.wxGetGroupCloudStorage=function(e){this.wxIsWx()&&wx.getGroupCloudStorage(e)},e.prototype.wxGetSharedCanvas=function(){if(this.wxIsWx())return wx.getSharedCanvas()},e.prototype.wxRemoveUserCloudStorage=function(e){this.wxIsWx()&&wx.removeUserCloudStorage(e)},e.prototype.wxPostMessage=function(e,t){this.wxIsWx()&&wx.getOpenDataContext().postMessage({req:e,data:t})},e.prototype.wxSetUserCloudStorage=function(e){this.wxIsWx()&&wx.setUserCloudStorage(e)},e.prototype.wxCreateGameClubButton=function(){this.wxIsWx()},e.prototype.wxOnMessage=function(e){this.wxIsWx()&&wx.onMessage(e)},e.prototype.wxIsWx=function(){return cc.sys.platform==cc.sys.WECHAT_GAME},e.prototype.wxIsAds=function(){return this.wxIsWx,!1},e.prototype.wxCreateAd=function(e){if(this.wxIsWx&&this.wxIsAds)return wx.createRewardedVideoAd({adUnitId:e})},e.prototype.wxShowAd=function(e,t){if(this.wxIsWx()){var n=this.wxCreateAd(t);if(n){n.load().then(function(){return n.show()}).catch(function(e){return console.log(e.errMsg)});var o=function(t){console.log("------fysdk----\u64ad\u653e\u56de\u8c03-------",t),t&&t.isEnded||void 0==t?e&&e(!0):e&&e(!1),n.offClose(o)};n.onClose(o)}}},e.prototype.wxShareAppMessage=function(e,t,n,a){if(this.wxIsWx()){var c=s.default.Instance.Md5Pipe(t);wx.shareAppMessage({title:e,imageUrl:c,query:n,success:function(e){null!=e.shareTickets?a(o.Success,e.shareTickets):null!=a&&a(o.NotGroup,null)},fail:function(){null!=a&&a(o.Fail,null)}})}},e.prototype.wxCreateBanner=function(e,t,n,o,a){if(void 0===t&&(t=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===a&&(a=0),this.wxIsWx&&this.wxIsAds)return wx.createBannerAd({adUnitId:e,style:{left:t,top:n,width:o,height:a}})},e.prototype.wxCreateImage=function(e,t,n){if(e.spriteFrame=t.spriteFrame,""!=n&&void 0!=n&&" "!=n&&null!=n){var o=wx.createImage();o.onload=function(){try{var t=new cc.Texture2D;t.initWithElement(o),t.handleLoadedTexture(),e.spriteFrame=new cc.SpriteFrame(t),console.log("-----createImage-----------",e,t)}catch(e){console.log("----error---",e)}},o.src=n}},e.prototype.getRankInfo=function(e,t,n,o){var s=n.data,i={};for(var r in t){i[t[r]]=[]}for(var r in s){var l=s[r];for(var u in l.KVDataList){var d=l.KVDataList[u].value,p=JSON.parse(d||"{}"),f=p.time||"0",h=p.value||"0",y=c.default.getMonTimeByNowTime();(e==a.Week&&y==f||e==a.None)&&i[l.KVDataList[u].key].push({avatarUrl:l.avatarUrl,nickname:l.nickname,openid:l.openid,value:h})}}for(var r in i)i[r].sort(function(e,t){var n=e.value,o=t.value;return Number(o)-Number(n)});null!=o&&o(i)},e.prototype.wxGetFriendRankInfoList=function(t,n,o){console.log("---------------------- wxGetFriendRankInfoList"),e.Instance.wxGetFriendCloudStorage({keyList:n,success:function(a){console.log("getRankInfo success----------------------------------"),console.log("----------data:",a),e.Instance.getRankInfo(t,n,a,o)},fail:function(){console.log("getRankInfo fail----------------------------------"),console.log("getRankInfo data----:"),null!=o&&o(null)}})},e.prototype.wxGetGroupRankInfoList=function(t,n,o,a){e.Instance.wxGetGroupCloudStorage({shareTicket:n,keyList:o,success:function(n){console.log("getRankInfo success----------------------------------"),console.log("----------data:",n),e.Instance.getRankInfo(t,o,n,a)},fail:function(){console.log("getRankInfo fail----------------------------------"),console.log("getRankInfo data----:"),null!=a&&a(null)}})},e.Instance=new e,e.AppID="wx4fbdc401c4356b11",e.ADUnitID="adunit-ffcfaa8014048f24",e}();n.default=i,cc._RF.pop()},{"./FYSDKMgr":"FYSDKMgr","./FYUtility":"FYUtility"}],CubeClearMgr:[function(e,t,n){"use strict";cc._RF.push(t,"985d76as2VLo6zsrvsj8rPA","CubeClearMgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYResMgr"),a=e("./CubeClear"),s=function(){function e(){this._nodeContainer=null,this._pool=new cc.NodePool}return e.prototype.init=function(e){this._nodeContainer=e},e.prototype.getCubeClear=function(){return this._pool.size()>0?this._pool.get():cc.instantiate(o.default.Instance.loadOther("CubeClear"))},e.prototype.putCubeClear=function(e){e?this._pool.put(e):cc.error("cubeClear is null")},e.prototype.showCubeClear=function(e,t,n,o){void 0===o&&(o=this._nodeContainer),this.addCubeClear(o).setCubeColor(e,t,n)},e.prototype.addCubeClear=function(e){void 0===e&&(e=this._nodeContainer);var t=this.getCubeClear();return t.parent=e,t.scale=1,t.opacity=255,t.getComponent(a.default)},e.prototype.removeCubeClear=function(e){this.putCubeClear(e.node)},e.Instance=new e,e}();n.default=s,cc._RF.pop()},{"../Tools/FYResMgr":"FYResMgr","./CubeClear":"CubeClear"}],CubeClear:[function(e,t,n){"use strict";cc._RF.push(t,"86fa2XLgd5Dbo0NNe5MZXqM","CubeClear"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Common/E"),a=e("./CubeClearMgr"),s=cc._decorator,c=s.ccclass,i=s.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeCubeClear=null,t}return __extends(t,e),t.prototype.setCubeColor=function(e,t,n){this.nodeCubeClear.color=this.cubeTypeToCubeClearColor(e),this.node.setPosition(t),this.playTween(n)},t.prototype.playTween=function(e){var t=this;this.node.opacity=255,this.node.scale=1;var n=cc.fadeTo(.5,0),s=cc.scaleTo(.5,1.3);e==o.E.CubeClearType.Big&&(s=cc.scaleTo(.5,1.5));var c=cc.callFunc(function(){a.default.Instance.removeCubeClear(t)}),i=cc.sequence(n,c),r=cc.spawn(s,i);this.node.runAction(r)},t.prototype.cubeTypeToCubeClearColor=function(e){return e==o.E.CubeValueType.V_2?new cc.Color(205,134,221):e==o.E.CubeValueType.V_4?new cc.Color(165,222,213):e==o.E.CubeValueType.V_8?new cc.Color(190,215,0):e==o.E.CubeValueType.V_16?new cc.Color(255,167,0):e==o.E.CubeValueType.V_32?new cc.Color(255,69,0):e==o.E.CubeValueType.V_64?new cc.Color(8,198,229):e==o.E.CubeValueType.V_128?new cc.Color(255,206,0):e==o.E.CubeValueType.V_256?new cc.Color(228,96,167):e==o.E.CubeValueType.V_512?new cc.Color(93,219,91):e==o.E.CubeValueType.V_1024?new cc.Color(255,78,88):e==o.E.CubeValueType.V_2048?new cc.Color(128,162,76):e==o.E.CubeValueType.V_4096?new cc.Color(236,148,194):(o.E.CubeValueType.V_8192,new cc.Color(255,0,255))},__decorate([i(cc.Node)],t.prototype,"nodeCubeClear",void 0),t=__decorate([c],t)}(cc.Component);n.default=r,cc._RF.pop()},{"../Common/E":"E","./CubeClearMgr":"CubeClearMgr"}],CubeInfo:[function(e,t,n){"use strict";cc._RF.push(t,"b9dfbtO26RNaaCjOriD7FKl","CubeInfo"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Common/E"),a=function(){return function(){this.cubeSkinType=o.E.CubeSkinType.S_Value,this.cubeValueType=o.E.CubeValueType.V_2,this.cubeType=o.E.CubeType.Cube}}();n.default=a,cc._RF.pop()},{"../Common/E":"E"}],CubeMgr:[function(e,t,n){"use strict";cc._RF.push(t,"b2c11JJa29BKp0E8EChq6YV","CubeMgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYResMgr"),a=e("./Cube"),s=e("../Common/C"),c=e("../Common/E"),i=e("../Tools/FYUtility"),r=e("../Tools/FYLog"),l=e("../Tools/FYMessenger"),u=e("../Tools/FYUIMgr"),d=cc._decorator,p=d.ccclass,f=(d.property,function(){function e(){this.curCube=null,this.cubeStartPosY=0,this.cubeEndPosY=0,this.listCube=[[]],this.comboNum=0,this.lastCube=null,this.bNeedShowGift=!1,this.bHaveGift=!1,this._nodeCubeContainer=null,this._cubePool=new cc.NodePool,this._listRandomCubeValue=[c.E.CubeValueType.V_2,c.E.CubeValueType.V_4,c.E.CubeValueType.V_8,c.E.CubeValueType.V_16,c.E.CubeValueType.V_32,c.E.CubeValueType.V_64],this._listTouchArea=[],this._needCheckCubeNum=0,this._curCompleteCheckNum=0,this._bCheckAllCube=!1,this._listDestroy=[]}return t=e,e.prototype.init=function(e,t){this._nodeCubeContainer=e,this._listTouchArea=t,this.reset()},e.prototype.reset=function(){this._cubePool.clear();for(var e=0;e<this.listCube.length;e++)for(var t=0;t<this.listCube[e].length;t++)null!=this.listCube[e][t]&&this.removeCubeFromList(this.listCube[e][t].getCol(),this.listCube[e][t].getRow(),!0);this.listCube=[],this.calcStartValue()},e.prototype.getCube=function(){return this._cubePool.size()>0?this._cubePool.get():cc.instantiate(o.default.Instance.loadOther("Cube"))},e.prototype.putCube=function(e){if(e){e.stopAllActions();e.getComponent(a.default);this._cubePool.put(e)}else cc.error("nodeCube is null")},e.prototype.addCube=function(e,t){void 0===t&&(t=this._nodeCubeContainer);var n=this.getCube();n.setContentSize(cc.size(s.default.CUBE_SIZE,s.default.CUBE_SIZE)),n.parent=t,n.scale=1,n.opacity=255,n.setPosition(cc.Vec2.ZERO);var o=n.getComponent(a.default);return o.reset(),o.setInfo(e),o},e.prototype.removeCube=function(e){null!=e&&(e.stopAllActions(),this.putCube(e))},e.prototype.randomCube=function(e){void 0===e&&(e=null);var t=[c.E.CubeValueType.V_2,c.E.CubeValueType.V_4,c.E.CubeValueType.V_8,c.E.CubeValueType.V_16,c.E.CubeValueType.V_32,c.E.CubeValueType.V_64];if(null!=e&&e.length>0)for(var n=t.length-1;n>=0;n--)for(var o=e.length-1;o>=0;o--)if(t[n]==e[o])if(n==t.length-1)t.pop();else{var a=t[t.length-1];t.pop(),t[n]=a}var s=c.E.CubeValueType.V_2;return s=t.length>0?t[i.default.getRangeRandom(0,t.length-1)]:this._listRandomCubeValue[i.default.getRangeRandom(0,this._listRandomCubeValue.length-1)],[c.E.CubeSkinType.S_Value,s]},e.prototype.setCubeSpr=function(e,t,n){e.spriteFrame=o.default.Instance.loadSpriteFrame(t+"_"+n)},e.prototype.convertValueTypeToValue=function(e){return e==c.E.CubeValueType.V_2?2:e==c.E.CubeValueType.V_4?4:e==c.E.CubeValueType.V_8?8:e==c.E.CubeValueType.V_16?16:e==c.E.CubeValueType.V_32?32:e==c.E.CubeValueType.V_64?64:e==c.E.CubeValueType.V_128?128:e==c.E.CubeValueType.V_256?256:e==c.E.CubeValueType.V_512?512:e==c.E.CubeValueType.V_1024?1024:e==c.E.CubeValueType.V_2048?2048:e==c.E.CubeValueType.V_4096?4096:e==c.E.CubeValueType.V_8192?8192:void 0},e.prototype.convertValueToValueType=function(e){return 2==e?c.E.CubeValueType.V_2:4==e?c.E.CubeValueType.V_4:8==e?c.E.CubeValueType.V_8:16==e?c.E.CubeValueType.V_16:32==e?c.E.CubeValueType.V_32:64==e?c.E.CubeValueType.V_64:128==e?c.E.CubeValueType.V_128:256==e?c.E.CubeValueType.V_256:512==e?c.E.CubeValueType.V_512:1024==e?c.E.CubeValueType.V_1024:2048==e?c.E.CubeValueType.V_2048:4096==e?c.E.CubeValueType.V_4096:8192==e?c.E.CubeValueType.V_8192:void 0},e.prototype.calcStartValue=function(){this.cubeStartPosY=this._nodeCubeContainer.height/2-s.default.CUBE_SIZE/2,this.cubeEndPosY=-this._nodeCubeContainer.height/2+s.default.CUBE_SIZE/2;for(var e=0;e<s.default.COL;e++){this.listCube.push([]);for(var t=0;t<s.default.ROW;t++)this.listCube[e].push(null)}},e.prototype.getBottomPosY=function(e){if(e>=s.default.COL)r.default.error("col index error");else for(var t=this.listCube[e],n=0;n<t.length;n++)if(null==t[n])return this.calcPosY(n)},e.prototype.calcPosY=function(e){return this.cubeEndPosY+s.default.CUBE_SIZE*e},e.prototype.calcPosX=function(e){return this._listTouchArea[e].x},e.prototype.calcIndex=function(e,t){return t*s.default.ROW+e},e.prototype.getTopCubeOfAllCol=function(){for(var e=[],t=0;t<5;t++){var n=this.listCube[t];if(n.length>0&&null!=n[0])for(var o=n.length-1;o>=0;o--)if(null!=n[o]){e.push(n[o]);break}}return e},e.prototype.addCubeToList=function(e,t){if(e>=s.default.COL)r.default.error("col index error");else for(var n=this.listCube[e],o=0;o<n.length;o++)if(null==n[o])return t.setCol(e),t.setRow(o),void(n[o]=t)},e.prototype.addCubeToDestroyList=function(e){e.bNeedDestroy=!0,this._listDestroy.push(e)},e.prototype.removeCubeFromDestroyList=function(){for(var e=0;e<this._listDestroy.length;e++){var n=this._listDestroy[e];t.Instance.removeCube(this.listCube[n.getCol()][n.getRow()].node),this.listCube[n.getCol()][n.getRow()]=null}this._listDestroy=[]},e.prototype.removeCubeFromList=function(e,n,o){void 0===o&&(o=!1),e>=s.default.COL?r.default.error("col index error"):n>=s.default.ROW?r.default.error("row index error"):null!=this.listCube[e][n]&&(0==o&&null!=this.listCube[e][n]&&null!=this.listCube[e][n].getInfo()&&this.listCube[e][n].getInfo().cubeType==c.E.CubeType.Gift&&(t.Instance.bNeedShowGift=!0),t.Instance.removeCube(this.listCube[e][n].node),this.listCube[e][n]=null)},e.prototype.playCubeDownTween=function(e,t){l.default.Instance.send(c.E.MsgType.TouchSwitch,!1),this._bCheckAllCube=!1,t.playCubeDownTween(e)},e.prototype.resetCheck=function(){this._curCompleteCheckNum=0,this._needCheckCubeNum=0},e.prototype.checkAllCube=function(){console.log("---------checkAllCube"),this._bCheckAllCube=!0;for(var e=[],t=0;t<s.default.COL;t++)for(var n=0;n<s.default.ROW;n++)null!=this.listCube[t][n]&&this.listCube[t][n].canDown()&&(console.log("------------ cubeValueType = ",this.listCube[t][n].getInfo().cubeValueType),console.log("------------ Col = ",this.listCube[t][n].getCol()),console.log("------------ Row = ",this.listCube[t][n].getRow()),this._needCheckCubeNum++,e.push(this.listCube[t][n]));if(e.length>0)for(t=0;t<e.length;t++)e[t].node.active?(console.log("======================= checkDown ==========================="),console.log("------------ cubeValueType = ",e[t].getInfo().cubeValueType),console.log("------------ Col = ",e[t].getCol()),console.log("------------ Row = ",e[t].getRow()),e[t].checkDown(),console.log("======================= checkDown end===========================")):this._needCheckCubeNum--;else this.nextTurn()},e.prototype.checkGameOver=function(){null!=this.curCube.node&&null!=this.curCube.node.parent&&this.curCube.getRow()==s.default.ROW-1&&l.default.Instance.send(c.E.MsgType.GameOver)},e.prototype.nextTurn=function(){this.bHaveGift&&this.bNeedShowGift&&(this.bHaveGift=!1,this.bNeedShowGift=!1,u.default.Instance.show(c.E.UIName.UIGiftPanel)),this.comboNum>=4&&0==this.bHaveGift&&(this.bHaveGift=!0,this.lastCube.addGift()),this.comboNum=0,this.checkGameOver(),l.default.Instance.send(c.E.MsgType.TouchSwitch,!0)},e.prototype.getMaxRow=function(){for(var e=s.default.ROW-1;e>=0;e--)for(var n=s.default.COL-1;n>=0;n--)if(null!=t.Instance.listCube[n][e])return e;return 0},e.prototype.playCubeGameOverTween=function(){for(var e=0,n=function(n){for(var o=function(o){if(null!=t.Instance.listCube[o][n]){e+=.05;var a=cc.fadeTo(.1,255),s=cc.callFunc(function(){var e=t.Instance.listCube[o][n].getInfo();e.cubeSkinType=c.E.CubeSkinType.S_GameOver,t.Instance.listCube[o][n].setInfo(e)}),i=cc.sequence(a,cc.delayTime(e),s);t.Instance.listCube[o][n].node.runAction(i)}},a=0;a<s.default.COL;a++)o(a)},o=s.default.ROW-1;o>=0;o--)n(o)},e.prototype.changeAllCubeToValueSkin=function(){for(var e=0;e<s.default.COL;e++)for(var n=0;n<s.default.ROW;n++)if(null!=t.Instance.listCube[e][n]){t.Instance.listCube[e][n].node.stopAllActions();var o=t.Instance.listCube[e][n].getInfo();o.cubeSkinType=c.E.CubeSkinType.S_Value,t.Instance.listCube[e][n].setInfo(o)}},e.prototype.onCheckComplete=function(){console.log("========== onCheckComplete"),this.checkAllCube()},e.Instance=new t,e=t=__decorate([p],e);var t}());n.default=f,cc._RF.pop()},{"../Common/C":"C","../Common/E":"E","../Tools/FYLog":"FYLog","../Tools/FYMessenger":"FYMessenger","../Tools/FYResMgr":"FYResMgr","../Tools/FYUIMgr":"FYUIMgr","../Tools/FYUtility":"FYUtility","./Cube":"Cube"}],Cube:[function(e,t,n){"use strict";cc._RF.push(t,"ae4f2HFN1NMP62FmR/PCz5/","Cube"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYBaseNode"),a=e("../Tools/FYResMgr"),s=e("../Tools/FYMessenger"),c=e("../Common/E"),i=e("./CubeMgr"),r=e("../Common/C"),l=e("../Common/UserDataMgr"),u=e("./ScoreTweenMgr"),d=e("./CubeClearMgr"),p=e("../Tools/FYAudioCtl"),f=cc._decorator,h=f.ccclass,y=f.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprCube=null,t.nodeGift=null,t.bNeedDestroy=!1,t._cubeInfo=null,t._col=0,t._row=0,t._downNum=0,t._sameValueNum=0,t._mergeTweenCompleteNum=0,t._bCheckNoCubeCanDown=!1,t._bCheckNoCubeCanMerge=!1,t._bMerge=!1,t._bDown=!1,t}return __extends(t,e),t.prototype.setInfo=function(e){this._cubeInfo=e,this.refreshUI()},t.prototype.refreshUI=function(){this._cubeInfo.cubeType==c.E.CubeType.Cube||this._cubeInfo.cubeType==c.E.CubeType.Gift?(this.sprCube.spriteFrame=a.default.Instance.loadSpriteFrame(this._cubeInfo.cubeSkinType+"_"+this._cubeInfo.cubeValueType),null!=this.nodeGift&&(this.nodeGift.active=this._cubeInfo.cubeType==c.E.CubeType.Gift)):this._cubeInfo.cubeType==c.E.CubeType.Bomb&&(this.sprCube.spriteFrame=a.default.Instance.loadSpriteFrame("Cube_Bomb"),null!=this.nodeGift&&(this.nodeGift.active=!1))},t.prototype.addGift=function(){r.default.CloseAllSDKFunctionSwitch||(this._cubeInfo.cubeType=c.E.CubeType.Gift,this.refreshUI())},t.prototype.reset=function(){this._col=0,this._row=0,this._downNum=0,this._sameValueNum=0,this._mergeTweenCompleteNum=0,this._bCheckNoCubeCanDown=!1,this._bCheckNoCubeCanMerge=!1,this._bMerge=!1,this._bDown=!1},t.prototype.getInfo=function(){return this._cubeInfo},t.prototype.setCol=function(e){this._col=e},t.prototype.setRow=function(e){this._row=e},t.prototype.getCol=function(){return this._col},t.prototype.getRow=function(){return this._row},t.prototype.setDownNum=function(e){this._downNum=e},t.prototype.getDownNum=function(){return this._downNum},t.prototype.playCubeDownTween=function(e){console.log("========== playCubeDownTween"),this._bDown=!0;var t=this;s.default.Instance.send(c.E.MsgType.TouchSwitch,!1);var n=(i.default.Instance.cubeStartPosY-i.default.Instance.getBottomPosY(e))/r.default.CUBE_SPEED,o=cc.moveTo(n,new cc.Vec2(this.node.x,i.default.Instance.getBottomPosY(e))),a=cc.callFunc(function(){p.default.Instance.playSound(c.E.Sound.CubeDrop),i.default.Instance.addCubeToList(e,t),t._bDown=!1,t._cubeInfo.cubeType==c.E.CubeType.Bomb?s.default.Instance.send(c.E.MsgType.UseProp,c.E.PropType.Bomb,[t.getCol(),t.getRow()]):t.checkMerge()}),l=cc.sequence(o,a);this.node.runAction(l)},t.prototype.playDownTween=function(){console.log("========== playDownTween"),this._bCheckNoCubeCanMerge=!1,this._bDown=!0;var e=this,t=this.getDownNum(),n=i.default.Instance.calcPosX(this.getCol()),o=i.default.Instance.calcPosY(this.getRow()-t),a=Math.sqrt(Math.pow(this.node.position.x-n,2)+Math.pow(this.node.position.y-o,2))/r.default.CUBE_SPEED,s=cc.moveTo(a,new cc.Vec2(n,o)),c=cc.callFunc(function(){i.default.Instance.listCube[e.getCol()][e.getRow()]=null,e.setRow(e.getRow()-t),i.default.Instance.listCube[e.getCol()][e.getRow()]=e,e.setDownNum(0),e._bDown=!1,e.onDownTweenComplete()}),l=cc.sequence(s,c);this.node.runAction(l)},t.prototype.playMergeTween=function(e){console.log("========== playMergeTween");var t=this,n=i.default.Instance.calcPosX(this.getCol()),o=i.default.Instance.calcPosY(this.getRow()),a=cc.moveTo(.2,new cc.Vec2(n,o)),s=cc.callFunc(function(){i.default.Instance.removeCubeFromList(e.getCol(),e.getRow()),t.onMergeTweenComplete()}),c=cc.sequence(a,s);e.node.runAction(c)},t.prototype.checkMerge=function(){console.log("========== checkMerge");var e=this.getCol(),t=this.getRow(),n=[],o=i.default.Instance.listCube,a=this._cubeInfo.cubeValueType;if(this._sameValueNum=0,e+1<r.default.COL&&null!=o[e+1][t]&&o[e+1][t].getInfo().cubeValueType==a&&!o[e+1][t]._bMerge&&!o[e+1][t]._bDown&&(this._sameValueNum++,o[e+1][t]._bMerge=!0,n.push(o[e+1][t])),e-1>=0&&null!=o[e-1][t]&&o[e-1][t].getInfo().cubeValueType==a&&!o[e-1][t]._bMerge&&!o[e-1][t]._bDown&&(this._sameValueNum++,o[e-1][t]._bMerge=!0,n.push(o[e-1][t])),t+1<r.default.ROW&&null!=o[e][t+1]&&o[e][t+1].getInfo().cubeValueType==a&&!o[e][t+1]._bMerge&&!o[e][t+1]._bDown&&(this._sameValueNum++,o[e][t+1]._bMerge=!0,n.push(o[e][t+1])),t-1>=0&&null!=o[e][t-1]&&o[e][t-1].getInfo().cubeValueType==a&&!o[e][t-1]._bMerge&&!o[e][t-1]._bDown&&(this._sameValueNum++,o[e][t-1]._bMerge=!0,n.push(o[e][t-1])),n.length>0){this._bCheckNoCubeCanMerge=!1;for(var s=0;s<n.length;s++)this.playMergeTween(n[s])}else this._bCheckNoCubeCanMerge=!0,this.checkDown()},t.prototype.canDown=function(){console.log("========== canDown");var e=0;if(this._bDown||this._bMerge)return!1;for(var t=this.getRow()-1;t>=0&&null==i.default.Instance.listCube[this.getCol()][t];t--)e++;return this.setDownNum(e),e>0},t.prototype.checkDown=function(){console.log("========== checkDown"),this.canDown()?(this._bCheckNoCubeCanDown=!1,this.playDownTween()):(this._bCheckNoCubeCanDown=!0,this._bCheckNoCubeCanDown&&this._bCheckNoCubeCanMerge?(i.default.Instance.lastCube=this,this._bCheckNoCubeCanDown=!1,this._bCheckNoCubeCanMerge=!1,i.default.Instance.onCheckComplete()):this.checkMerge())},t.prototype.onMergeTweenComplete=function(){if(console.log("========== onMergeTweenComplete"),this._mergeTweenCompleteNum++,this._mergeTweenCompleteNum==this._sameValueNum){var e=Math.pow(2,this._sameValueNum)*i.default.Instance.convertValueTypeToValue(this.getInfo().cubeValueType);i.default.Instance.comboNum++;var t=e*i.default.Instance.comboNum;if(l.default.Instance.Score+=t,u.default.Instance.showScoreTween(t,this.node.position),e>r.default.CUBE_MAX_VALUE?(p.default.Instance.playSound(c.E.Sound.Eliminate),d.default.Instance.showCubeClear(c.E.CubeValueType.V_8192,this.node.position,c.E.CubeClearType.Small)):(p.default.Instance.playSound(Math.log(e)/Math.log(2)+1),d.default.Instance.showCubeClear(i.default.Instance.convertValueToValueType(e),this.node.position,c.E.CubeClearType.Small)),e<=r.default.CUBE_MAX_VALUE){var n=this.getInfo();n.cubeValueType=i.default.Instance.convertValueToValueType(e),this.setInfo(n)}if(this._sameValueNum=0,this._mergeTweenCompleteNum=0,e>r.default.CUBE_MAX_VALUE)return void s.default.Instance.send(c.E.MsgType.UseProp,c.E.PropType.ThreeRowEliminate,[this.getCol(),this.getRow()]);this.checkMerge()}},t.prototype.onDownTweenComplete=function(){console.log("========== onDownTweenComplete"),p.default.Instance.playSound(c.E.Sound.CubeDrop),this.checkDown()},__decorate([y(cc.Sprite)],t.prototype,"sprCube",void 0),__decorate([y(cc.Node)],t.prototype,"nodeGift",void 0),t=__decorate([h],t)}(o.default);n.default=C,cc._RF.pop()},{"../Common/C":"C","../Common/E":"E","../Common/UserDataMgr":"UserDataMgr","../Tools/FYAudioCtl":"FYAudioCtl","../Tools/FYBaseNode":"FYBaseNode","../Tools/FYMessenger":"FYMessenger","../Tools/FYResMgr":"FYResMgr","./CubeClearMgr":"CubeClearMgr","./CubeMgr":"CubeMgr","./ScoreTweenMgr":"ScoreTweenMgr"}],C:[function(e,t,n){"use strict";cc._RF.push(t,"48f28ZNsblMi7EvwgvzMqsU","C"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.TestSwitch=!1,e.PRO_NAME="2048Go",e.SAVEKEY_PROP_BOMB_NUM=e.PRO_NAME+"PROP_BOMB_NUM",e.SAVEKEY_PROP_CHANGE_NUM=e.PRO_NAME+"PROP_CHANGE_NUM",e.SAVEKEY_PROP_ELIMINATE_NUM=e.PRO_NAME+"PROP_ELIMINATE_NUM",e.SAVEKEY_PROP_REVIVE_NUM=e.PRO_NAME+"PROP_REVIVE_NUM",e.SAVEKEY_MAX_SCORE=e.PRO_NAME+"MAX_SCORE",e.SAVEKEY_MAX_SCORE_TIME=e.PRO_NAME+"MAX_SCORE_TIME",e.SAVEKEY_RECORD=e.PRO_NAME+"RECORD",e.SAVEKEY_HELPSTATE=e.PRO_NAME+"HELPSTATE",e.SAVEKEY_FIRSTFOLLOWSTATE=e.PRO_NAME+"FIRSTFOLLOWSTATE",e.SAVEKEY_REWARDPROPSTATE=e.PRO_NAME+"SAVEKEY_REWARDPROPSTATE",e.SAVEKEY_SDKPAYORDERID=e.PRO_NAME+"SAVEKEY_SDKPAYORDERID",e.SAVEKEY_SDKPAYGOODSID=e.PRO_NAME+"SAVEKEY_SDKPAYGOODSID",e.ROW=8,e.COL=5,e.CUBE_SIZE=100,e.CUBE_SPEED=3e3,e.CUBE_MAX_VALUE=8192,e.PROP_BOMB_MAX_VALUE=5,e.PROP_CHANGE_MAX_VALUE=5,e.PROP_ELIMINATE_MAX_VALUE=5,e.PROP_REVIVE_MAX_VALUE=5,e.PROP_BOMB_ONE_TURN_USE_MAX_VALUE=e.TestSwitch?99:3,e.PROP_CHANGE_ONE_TURN_USE_MAX_VALUE=e.TestSwitch?99:3,e.PROP_ELIMINATE_ONE_TURN_USE_MAX_VALUE=e.TestSwitch?99:3,e.PROP_REVIVE_ONE_TURN_USE_MAX_VALUE=1,e.WATCH_AD_REVIVE_ONE_TURN_USE_MAX_VALUE=1,e.EXCHARGE_REVIVE_ONE_TURN_USE_MAX_VALUE=4,e.Score=e.PRO_NAME+"_wxScore",e.ConfigURL="https://www.foryun.wang/Config/2048GoConfig.txt",e.ServerURL="https://xcx.api.1hocang.com/v1",e.BQuickSDKVersion=!1,e.BSoEasySDKVersion=!1,e.BCanPayVersion=!1,e.CloseAllSDKFunctionSwitch=!0,e}();n.default=o,cc._RF.pop()},{}],Demo:[function(e,t,n){"use strict";cc._RF.push(t,"93906g6IfVHWamN+UP8cK6j","Demo"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=o.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnShare=null,t}return __extends(t,e),t.prototype.onLoad=function(){},__decorate([s(cc.Node)],t.prototype,"btnShare",void 0),t=__decorate([a],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],E:[function(e,t,n){"use strict";cc._RF.push(t,"53356nTpYBEmLhQzN7fO1WC","E"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){(function(e){e.TouchSwitch="TouchSwitch",e.GameOver="GameOver",e.CheckComplete="CheckComplete",e.RefreshScore="RefreshScore",e.UseProp="UseProp",e.ChangeCubeNum="ChangeCubeNum",e.Restart="Restart",e.Revive="Revive",e.ChangePropNum="ChangePropNum",e.ShowRank="ShowRank",e.HideRank="HideRank",e.NewRecord="NewRecord",e.RestoreGameData="RestoreGameData",e.PaySuccess="PaySuccess",e.EnableLoadingPanel="EnableLoadingPanel"})(e.MsgType||(e.MsgType={})),function(e){e.UIGamePanel="UIGamePanel",e.UISelectCubePanel="UISelectCubePanel",e.UIMainMenuPanel="UIMainMenuPanel",e.UIRankPanel="UIRankPanel",e.UIGameOverPanel="UIGameOverPanel",e.UIResultPanel="UIResultPanel",e.UIPausePanel="UIPausePanel",e.UIPropRevivePanel="UIPropRevivePanel",e.UIGiftPanel="UIGiftPanel",e.UIRecordPanel="UIRecordPanel",e.UISevenDayLoginPanel="UISevenDayLoginPanel",e.UIHelpPanel="UIHelpPanel",e.UIBuyPropPanel="UIBuyPropPanel",e.UIPrizePanel="UIPrizePanel",e.UIShareTipsPanel="UIShareTipsPanel",e.UIFollowPanel="UIFollowPanel",e.UIFollowTipsPanel="UIFollowTipsPanel"}(e.UIName||(e.UIName={})),function(e){e.GroupRank="GroupRank"}(e.ShareState||(e.ShareState={})),e.EffectName||(e.EffectName={}),e.SequenceFrameName||(e.SequenceFrameName={}),e.ResName||(e.ResName={}),e.OtherName||(e.OtherName={}),function(e){e[e.Bg=0]="Bg"}(e.Music||(e.Music={})),function(e){e[e.BtnClick=0]="BtnClick",e[e.CubeDrop=1]="CubeDrop",e[e.Eliminate=2]="Eliminate",e[e.Merge4=3]="Merge4",e[e.Merge8=4]="Merge8",e[e.Merge16=5]="Merge16",e[e.Merge32=6]="Merge32",e[e.Merge64=7]="Merge64",e[e.Merge128=8]="Merge128",e[e.Merge256=9]="Merge256",e[e.Merge512=10]="Merge512",e[e.Merge1024=11]="Merge1024",e[e.Merge2048=12]="Merge2048",e[e.Merge4096=13]="Merge4096",e[e.Merge8192=14]="Merge8192"}(e.Sound||(e.Sound={})),function(e){e.S_Value="Value",e.S_GameOver="GameOver"}(e.CubeSkinType||(e.CubeSkinType={})),function(e){e.V_2="2",e.V_4="4",e.V_8="8",e.V_16="16",e.V_32="32",e.V_64="64",e.V_128="128",e.V_256="256",e.V_512="512",e.V_1024="1024",e.V_2048="2048",e.V_4096="4096",e.V_8192="8192",e[e.Length=13]="Length"}(e.CubeValueType||(e.CubeValueType={})),function(e){e[e.Cube=0]="Cube",e[e.Bomb=1]="Bomb",e[e.Gift=2]="Gift"}(e.CubeType||(e.CubeType={})),function(e){e[e.Bomb=0]="Bomb",e[e.ChangeNum=1]="ChangeNum",e[e.TopTwoRowEliminate=2]="TopTwoRowEliminate",e[e.ThreeRowEliminate=3]="ThreeRowEliminate"}(e.PropType||(e.PropType={})),function(e){e[e.Friend=0]="Friend",e[e.Group=1]="Group"}(e.RankType||(e.RankType={})),function(e){e.ShowFriendRank="ShowFriendRank",e.HideFriendRank="HideFriendRank",e.ShowGroupRank="ShowGroupRank",e.HideGroupRank="HideGroupRank",e.SetScore="SetScore"}(e.ToChildProgramMsgName||(e.ToChildProgramMsgName={})),function(e){e[e.Big=0]="Big",e[e.Small=1]="Small"}(e.CubeClearType||(e.CubeClearType={})),function(e){e.goodsRevive="1",e.goodsPrice="2",e.goodsBuyPropBomb="3",e.goodsBuyPropChange="4",e.goodsBuyPropEliminate="5",e.goodsBuyGift="6"}(e.PayGoodsId||(e.PayGoodsId={}))}(n.E||(n.E={})),cc._RF.pop()},{}],FYAudioCtl:[function(e,t,n){"use strict";cc._RF.push(t,"1c11fMZ5+NGqJjKmWa5by6S","FYAudioCtl"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./FYUtility"),a=cc._decorator,s=a.ccclass,c=a.property,i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.arraySound=[],t.arrayMusic=[],t._bOpenSound=!0,t._bOpenMusic=!0,t._nPlayingMusic=-1,t}return __extends(t,e),n=t,Object.defineProperty(t,"Instance",{get:function(){return n._instance},enumerable:!0,configurable:!0}),t.prototype.playSound=function(e){this.arraySound[e]&&this._bOpenSound&&(o.default.log("-----------playSound------",e),this.arraySound[e].setCurrentTime(0),this.arraySound[e].play())},t.prototype.playMusic=function(e){this._nPlayingMusic!=e&&(this.arrayMusic[this._nPlayingMusic]&&this.arrayMusic[this._nPlayingMusic].stop(),this.arrayMusic[e]&&this.arrayMusic[e].play(),this._nPlayingMusic=e)},t.prototype.rewindMusic=function(){this.arrayMusic[this._nPlayingMusic]&&this.arrayMusic[this._nPlayingMusic].resume()},t.prototype.pauseSound=function(e){this.arraySound[e]&&this.arraySound[e].pause()},t.prototype.pauseMusic=function(e){this.arrayMusic[e]&&this.arrayMusic[e].pause()},t.prototype.stopSound=function(e){this.arraySound[e]&&this.arraySound[e].stop()},t.prototype.stopMusic=function(e){this.arrayMusic[e]&&this.arrayMusic[e].stop()},t.prototype.changeSoundVolume=function(e){for(var t=0;t<this.arraySound.length;t++)this.arraySound[t]&&(this.arraySound[t].volume=e)},t.prototype.changeMusicVolume=function(e){for(var t=0;t<this.arrayMusic.length;t++)this.arrayMusic[t]&&(this.arrayMusic[t].volume=e,this.arrayMusic[t].play())},t.prototype.onLoad=function(){n._instance=this},t._instance=null,__decorate([c({type:Array(cc.AudioSource),displayName:"\u97f3\u6548\u6570\u7ec4"})],t.prototype,"arraySound",void 0),__decorate([c({type:Array(cc.AudioSource),displayName:"\u97f3\u4e50\u6570\u7ec4"})],t.prototype,"arrayMusic",void 0),t=n=__decorate([s],t);var n}(cc.Component);n.default=i,cc._RF.pop()},{"./FYUtility":"FYUtility"}],FYBaseNode:[function(e,t,n){"use strict";cc._RF.push(t,"3e5b1ALxXhAGJHLj6QrQX2M","FYBaseNode"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.addListener=function(){},t.prototype.removeListener=function(){},t.prototype.start=function(){},t.prototype.onEnable=function(){this.addListener()},t.prototype.onDisable=function(){this.removeListener()},t=__decorate([a],t)}(cc.Component));n.default=s,cc._RF.pop()},{}],FYBaseUIPanel:[function(e,t,n){"use strict";cc._RF.push(t,"490dcBJXE5E16zU6g11Td3j","FYBaseUIPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./FYBaseNode"),a=e("./FYMessenger"),s=cc._decorator,c=s.ccclass,i=s.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeWidget=null,t}return __extends(t,e),t.prototype.setActive=function(e){this.nodeWidget&&(this.nodeWidget.active=e)},t.prototype.addListener=function(){e.prototype.addListener.call(this),a.default.Instance.add(this.node.name,this.onShow,this)},t.prototype.removeListener=function(){e.prototype.removeListener.call(this),a.default.Instance.remove(this.node.name,this.onShow,this)},t.prototype.onShow=function(e,t){},__decorate([i(cc.Node)],t.prototype,"nodeWidget",void 0),t=__decorate([c],t)}(o.default);n.default=r,cc._RF.pop()},{"./FYBaseNode":"FYBaseNode","./FYMessenger":"FYMessenger"}],FYEffectControl:[function(e,t,n){"use strict";cc._RF.push(t,"7243cZGHglChod3JhCE9Gok","FYEffectControl"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=o.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.partical=null,t}return __extends(t,e),t.prototype.playPartical=function(){this.partical.node.active=!0,this.partical.resetSystem()},t.prototype.stopPartical=function(){this.partical.node.active=!1,this.partical.stopSystem()},t.prototype.start=function(){},__decorate([s({type:cc.ParticleSystem})],t.prototype,"partical",void 0),t=__decorate([a],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],FYEffectItem:[function(e,t,n){"use strict";cc._RF.push(t,"0c656atI3BPwJrhEzYDcD7/","FYEffectItem"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=o.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listAnimation=[],t.listParticleSystem=[],t}return __extends(t,e),t.prototype.play=function(){for(var e=0;e<this.listAnimation.length;e++)this.listAnimation[e].node.active=!0,this.listAnimation[e].play();for(e=0;e<this.listParticleSystem.length;e++)this.listParticleSystem[e].node.active=!0,this.listParticleSystem[e].resetSystem()},t.prototype.stop=function(){for(var e=0;e<this.listAnimation.length;e++)this.listAnimation[e].node.active=!1,this.listAnimation[e].stop();for(e=0;e<this.listParticleSystem.length;e++)this.listParticleSystem[e].node.active=!1,this.listParticleSystem[e].stopSystem()},t.prototype.start=function(){},__decorate([s({type:Array(cc.Animation),displayName:"\u52a8\u4f5c\u5217\u8868"})],t.prototype,"listAnimation",void 0),__decorate([s({type:Array(cc.ParticleSystem),displayName:"\u7279\u6548\u5217\u8868"})],t.prototype,"listParticleSystem",void 0),t=__decorate([a],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],FYEffectMgr:[function(e,t,n){"use strict";cc._RF.push(t,"238d4gGAedCX4tFqGKvfmPi","FYEffectMgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYResMgr"),a=e("../Tools/FYEffectItem"),s=e("../Tools/FYScheduleCtl"),c=cc._decorator,i=c.ccclass,r=(c.property,function(){function e(){this._effectContainer=null,this._dictEffectPool={}}return t=e,e.prototype.init=function(e){this._effectContainer=e},e.prototype.preLoad=function(){},e.prototype.playEffect=function(e,n,o,a){void 0===a&&(a=this._effectContainer);var c=this.add(e,n);return c.parent=a,s.default.Instance.setScheduleOnce(function(){t.Instance.remove(c)},o),c},e.prototype.add=function(e,t,n){void 0===n&&(n=this._effectContainer);var s=this.poolGet(e);return null==s&&(s=cc.instantiate(o.default.Instance.loadEffect(e))),s.active=!0,s.parent=n,s.setPosition(t),s.getComponent(a.default).play(),s},e.prototype.remove=function(e){this.poolPut(e)},e.prototype.poolPut=function(e){this._dictEffectPool&&this._dictEffectPool.hasOwnProperty(e.name)?this._dictEffectPool[e.name].put(e):(this._dictEffectPool[e.name]=new cc.NodePool,this._dictEffectPool[e.name].put(e))},e.prototype.poolGet=function(e){return this._dictEffectPool&&this._dictEffectPool.hasOwnProperty(e)&&this._dictEffectPool[e].size()>0?this._dictEffectPool[e].get():null},e.Instance=new t,e=t=__decorate([i],e);var t}());n.default=r,cc._RF.pop()},{"../Tools/FYEffectItem":"FYEffectItem","../Tools/FYResMgr":"FYResMgr","../Tools/FYScheduleCtl":"FYScheduleCtl"}],FYGlobalVarMgr:[function(e,t,n){"use strict";cc._RF.push(t,"71d0eOTwslMTpy8XiWviIZx","FYGlobalVarMgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=(o.property,function(){function e(){this._nodeCanvas=null,this._canvas=null,this._nodeBottom=null,this._nodeCenter=null,this._nodeTop=null,this._nodeSub=null,this._nDesignSize=cc.Size.ZERO}return t=e,e.prototype.reset=function(){this._nodeCanvas=null,this._canvas=null,this._nodeBottom=null,this._nodeCenter=null,this._nodeTop=null},Object.defineProperty(e.prototype,"NodeCanvas",{get:function(){return this._nodeCanvas||(this._nodeCanvas=this._nodeCanvas=cc.director.getScene().getChildByName("Canvas")),this._nodeCanvas},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Canvas",{get:function(){return this._canvas||(this._canvas=this.NodeCanvas.getComponent(cc.Canvas)),this._canvas},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"NodeBottom",{get:function(){return this._nodeBottom||(this._nodeBottom=this.NodeCanvas.getChildByName("Bottom")),this._nodeBottom},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"NodeCenter",{get:function(){return this._nodeCenter||(this._nodeCenter=this.NodeCanvas.getChildByName("Center")),this._nodeCenter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"NodeTop",{get:function(){return this._nodeTop||(this._nodeTop=this.NodeCanvas.getChildByName("Top")),this._nodeTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"NodeSub",{get:function(){return this._nodeSub||(this._nodeSub=this.NodeCanvas.getChildByName("Sub")),this._nodeSub},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DesignSize",{get:function(){return 0==this._nDesignSize.width&&0==this._nDesignSize.height&&(this._nDesignSize=this.NodeCanvas.getComponent(cc.Canvas).designResolution),this._nDesignSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WinSize",{get:function(){return cc.winSize},enumerable:!0,configurable:!0}),e.Instance=new t,e=t=__decorate([a],e);var t}());n.default=s,cc._RF.pop()},{}],FYLog:[function(e,t,n){"use strict";cc._RF.push(t,"bd4f34oteRI8LPZMdrm1+na","FYLog"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=(o.property,function(){function e(){}return t=e,e.assert=function(e,n){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];t.enable&&console.assert.apply(console,[e,n].concat(o))},e.clear=function(){t.enable&&console.clear()},e.count=function(e){t.enable&&console.count(e)},e.debug=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];t.enable&&console.debug.apply(console,[e].concat(n))},e.dir=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];t.enable&&console.dir.apply(console,[e].concat(n))},e.dirxml=function(e){t.enable&&console.dirxml(e)},e.error=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];t.enable&&console.error.apply(console,[e].concat(n))},e.exception=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];t.enable&&console.exception.apply(console,[e].concat(n))},e.group=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];t.enable&&console.group.apply(console,[e].concat(n))},e.groupCollapsed=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];t.enable&&console.groupCollapsed.apply(console,[e].concat(n))},e.groupEnd=function(){t.enable&&console.groupEnd()},e.info=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];t.enable&&console.info.apply(console,[e].concat(n))},e.log=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];t.enable&&console.log.apply(console,[e].concat(n))},e.markTimeline=function(e){t.enable&&console.markTimeline(e)},e.msIsIndependentlyComposed=function(e){if(t.enable)return console.msIsIndependentlyComposed(e)},e.profile=function(e){t.enable&&console.profile(e)},e.profileEnd=function(){t.enable&&console.profileEnd()},e.select=function(e){t.enable&&console.select(e)},e.table=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.enable&&console.table.apply(console,e)},e.time=function(e){t.enable&&console.time(e)},e.timeEnd=function(e){t.enable&&console.timeEnd(e)},e.timeStamp=function(e){t.enable&&console.timeStamp(e)},e.timeline=function(e){t.enable&&console.timeline(e)},e.timelineEnd=function(e){t.enable&&console.timelineEnd(e)},e.warn=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];t.enable&&console.warn.apply(console,[e].concat(n))},e.enable=!0,e=t=__decorate([a],e);var t}());n.default=s,cc._RF.pop()},{}],FYMessenger:[function(e,t,n){"use strict";cc._RF.push(t,"61a7eOT0OZAXK4lApqz4hd1","FYMessenger"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this.listeners={},this._cbMsg=0}return e.prototype.add=function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),t.cbMsg=this._cbMsg,this._cbMsg++,this.listeners[e][t.cbMsg]=new a(t,n)},e.prototype.remove=function(e,t,n){var o=this.listeners[e];if(o){o.length;delete o[t.cbMsg],0==o.length&&delete this.listeners[e]}},e.prototype.send=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=this.listeners[e];if(o){o.length;for(var a in o){var s=o[a];s.notify.apply(s,[e].concat(t))}}},e.Instance=new e,e}();n.default=o;var a=function(){function e(e,t){this.callback=null,this.context=null;this.callback=e,this.context=t}return e.prototype.notify=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n;(n=this.callback).call.apply(n,[this.context].concat(e))},e.prototype.compar=function(e){return e==this.context},e}();cc._RF.pop()},{}],FYResMgr:[function(e,t,n){"use strict";cc._RF.push(t,"69c02vGOERDzbO8IDtkhlci","FYResMgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./FYMessenger"),a=cc._decorator,s=a.ccclass,c=(a.property,function(){function e(){this.dictAtlas={},this.dictEffect={},this.dictSequenceFrame={},this.dictOther={}}return t=e,e.prototype.preLoadAltlas=function(){var e=this;cc.loader.loadResDir("atlas",cc.SpriteAtlas,function(e,n,a){o.default.Instance.send(t.MsgPreLoadAtlasProgress,e,n)},function(n,a){for(var s=0;s<a.length;s++)for(var c in a[s]._spriteFrames)e.dictAtlas[a[s]._spriteFrames[c]._name]=a[s]._spriteFrames[c];o.default.Instance.send(t.MsgPreLoadAtlasComplete)})},e.prototype.preLoadEffect=function(){var e=this;cc.loader.loadResDir("prefabs/Effect",cc.Prefab,function(e,n,a){o.default.Instance.send(t.MsgPreLoadEffectProgress,e,n)},function(n,a){for(var s=0;s<a.length;s++)e.dictEffect[a[s]._name]=a[s].data;o.default.Instance.send(t.MsgPreLoadEffectComplete)})},e.prototype.preLoadSequenceFrame=function(){var e=this;cc.loader.loadResDir("prefabs/SequenceFrame",cc.Prefab,function(e,n,a){o.default.Instance.send(t.MsgPreLoadSequenceFrameProgress,e,n)},function(n,a){for(var s=0;s<a.length;s++)e.dictSequenceFrame[a[s]._name]=a[s].data;o.default.Instance.send(t.MsgPreLoadSequenceFrameComplete)})},e.prototype.preLoadOther=function(){var e=this;cc.loader.loadResDir("prefabs/Other",cc.Prefab,function(e,n,a){o.default.Instance.send(t.MsgPreLoadOtherProgress,e,n)},function(n,a){for(var s=0;s<a.length;s++)e.dictOther[a[s]._name]=a[s].data;o.default.Instance.send(t.MsgPreLoadOtherComplete)})},e.prototype.loadSpriteFrame=function(e){return e in this.dictAtlas?this.dictAtlas[e]:null},e.prototype.loadEffect=function(e){return e in this.dictEffect?this.dictEffect[e]:null},e.prototype.loadSequenceFrame=function(e){return e in this.dictSequenceFrame?this.dictSequenceFrame[e]:null},e.prototype.loadOther=function(e){if(e in this.dictOther)return this.dictOther[e]},e.Instance=new t,e.MsgPreLoadAtlasProgress="PreLoadAtlasProgress",e.MsgPreLoadEffectProgress="MsgPreLoadEffectProgress",e.MsgPreLoadSequenceFrameProgress="MsgPreLoadSequenceFrameProgress",e.MsgPreLoadOtherProgress="MsgPreLoadOtherProgress",e.MsgPreLoadAtlasComplete="PreLoadAtlasComplete",e.MsgPreLoadEffectComplete="PreLoadEffectComplete",e.MsgPreLoadSequenceFrameComplete="MsgPreLoadSequenceFrameComplete",e.MsgPreLoadOtherComplete="MsgPreLoadOtherComplete",e.MsgPreLoadComplete="PreLoadComplete",e=t=__decorate([s],e);var t}());n.default=c,cc._RF.pop()},{"./FYMessenger":"FYMessenger"}],FYSDKMgr:[function(e,t,n){"use strict";cc._RF.push(t,"a4d77hfjeRLi69n5V71ufRy","FYSDKMgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,a=(o.ccclass,o.property,function(){function e(){}return e.prototype.saveLocalData=function(e,t){cc.sys.localStorage.setItem(e,t)},e.prototype.loadLocalData=function(e,t){return void 0===t&&(t="0"),cc.sys.localStorage.getItem(e)||t},e.prototype.saveLocalJsonData=function(e,t){cc.sys.localStorage.setItem(e,JSON.stringify(t))},e.prototype.loadLocalJsonData=function(e){return JSON.parse(cc.sys.localStorage.getItem(e)||JSON.stringify({}))},e.prototype.removeLocalData=function(e){cc.sys.localStorage.removeItem(e)},e.prototype.removeAllLocalData=function(){cc.sys.localStorage.clear()},e.prototype.Md5Pipe=function(e){var t=e;return cc.loader.md5Pipe&&(t=cc.loader.md5Pipe.transformURL(t)),t},e.Instance=new e,e}());n.default=a,cc._RF.pop()},{}],FYSFMgr:[function(e,t,n){"use strict";cc._RF.push(t,"b737bxIOR5FX6fR6xJpG8G8","FYSFMgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYResMgr"),a=e("../Tools/FYSequenceFrameControl"),s=cc._decorator,c=s.ccclass,i=(s.property,function(){function e(){this._dictSFPool={}}return t=e,e.prototype.poolPut=function(e){this._dictSFPool&&this._dictSFPool.hasOwnProperty(e.name)?this._dictSFPool[e.name].put(e):(this._dictSFPool[e.name]=new cc.NodePool,this._dictSFPool[e.name].put(e))},e.prototype.poolGet=function(e){return this._dictSFPool&&this._dictSFPool.hasOwnProperty(e)&&this._dictSFPool[e].size()>0?this._dictSFPool[e].get():cc.instantiate(o.default.Instance.loadSequenceFrame(e))},e.prototype.playSF=function(e,t,n){var o=this.poolGet(e);o.parent=n,o.setPosition(t);var s=o.getComponent(a.default),c=this;s.setCompleteCallback(function(){c.poolPut(o)}),s.play()},e.Instance=new t,e=t=__decorate([c],e);var t}());n.default=i,cc._RF.pop()},{"../Tools/FYResMgr":"FYResMgr","../Tools/FYSequenceFrameControl":"FYSequenceFrameControl"}],FYScheduleCtl:[function(e,t,n){"use strict";cc._RF.push(t,"ad93830nspIwZhX4wuibyuF","FYScheduleCtl"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),n=t,Object.defineProperty(t,"Instance",{get:function(){return n._instance},enumerable:!0,configurable:!0}),t.prototype.setSchedule=function(e,t,n,o){this.schedule(e,t,n,o)},t.prototype.cancelSchedule=function(e){this.unschedule(e)},t.prototype.setScheduleOnce=function(e,t){this.scheduleOnce(e,t)},t.prototype.onLoad=function(){n._instance=this},t._instance=null,t=n=__decorate([a],t);var n}(cc.Component));n.default=s,cc._RF.pop()},{}],FYSequenceFrameControl:[function(e,t,n){"use strict";cc._RF.push(t,"8b9a2RgcEFFtrfWmPqLXEPv","FYSequenceFrameControl"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./FYUtility"),a=cc._decorator,s=a.ccclass,c=a.property,i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.arraySprite=[],t.interval=.1,t.delay=.1,t.playCount=-1,t.isPlayOnLoad=!1,t.isAutoDestroy=!1,t.isRandomStartIndex=!1,t._curIndex=0,t._curPlayCount=0,t._callback=null,t}return __extends(t,e),t.prototype.updateSprite=function(){if(this._curIndex++,this._curIndex>=this.arraySprite.length&&(this._curIndex=0,this.playCount>0&&(this._curPlayCount++,this._curPlayCount>=this.playCount)))return this.stop(),this._callback&&this._callback(),void(this.isAutoDestroy&&(this.node.destroy(),this.destroy()));this._curIndex=this._curIndex%this.arraySprite.length;var e=(this._curIndex-1+this.arraySprite.length)%this.arraySprite.length;this.arraySprite[e].active=!1,this.arraySprite[this._curIndex%this.arraySprite.length].active=!0},t.prototype.play=function(){this._curPlayCount=0,this.stop(),this.isRandomStartIndex&&(this.arraySprite[0].active=!1,this._curIndex=o.default.getRangeRandom(0,this.arraySprite.length-1)),this.schedule(this.updateSprite,this.interval,cc.macro.REPEAT_FOREVER,this.delay)},t.prototype.stop=function(){this.unschedule(this.updateSprite)},t.prototype.setCompleteCallback=function(e){this._callback=e},t.prototype.getCurIndex=function(){return this._curIndex},t.prototype.setCurIndex=function(e){this._curIndex=e,this._curIndex=this._curIndex%this.arraySprite.length},t.prototype.start=function(){this.isPlayOnLoad&&this.play()},__decorate([c({type:Array(cc.Node),displayName:"\u56fe\u7247\u6570\u7ec4"})],t.prototype,"arraySprite",void 0),__decorate([c({type:cc.Float,displayName:"\u95f4\u9694\u65f6\u95f4"})],t.prototype,"interval",void 0),__decorate([c({type:cc.Float,displayName:"\u5ef6\u8fdf\u65f6\u95f4"})],t.prototype,"delay",void 0),__decorate([c({type:cc.Integer,displayName:"\u64ad\u653e\u6b21\u6570"})],t.prototype,"playCount",void 0),__decorate([c({displayName:"\u662f\u5426\u542f\u52a8\u5c31\u64ad\u653e"})],t.prototype,"isPlayOnLoad",void 0),__decorate([c({displayName:"\u662f\u5426\u81ea\u52a8\u5220\u9664"})],t.prototype,"isAutoDestroy",void 0),__decorate([c({displayName:"\u662f\u5426\u968f\u673a\u5f00\u59cb\u7d22\u5f15"})],t.prototype,"isRandomStartIndex",void 0),t=__decorate([s],t)}(cc.Component);n.default=i,cc._RF.pop()},{"./FYUtility":"FYUtility"}],FYTweenMgr:[function(e,t,n){"use strict";cc._RF.push(t,"c5f894cQTtNrIw9965abunw","FYTweenMgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=(o.property,function(){function e(){}return e.moveTo=function(e,t,n,o,a,s){if(void 0===a&&(a=0),e instanceof cc.Node){var c=cc.moveTo(t,n,o),i=cc.callFunc(function(e){s&&s()},this,0),r=cc.sequence(cc.delayTime(a),c,i);return e.runAction(r),r}return null},e.moveBy=function(e,t,n,o,a,s){if(void 0===a&&(a=0),e instanceof cc.Node){var c=cc.moveBy(t,n,o),i=cc.callFunc(function(e){s&&s()},this,0),r=cc.sequence(cc.delayTime(a),c,i);return e.runAction(r),r}return null},e.rotateBy=function(e,t,n,o,a){if(void 0===o&&(o=0),e instanceof cc.Node){var s=cc.rotateBy(t,n),c=cc.callFunc(function(e){a&&a()},this,0),i=cc.sequence(cc.delayTime(o),s,c);return e.runAction(i),i}return null},e.scaleTo=function(e,t,n,o,a,s){if(void 0===a&&(a=0),e instanceof cc.Node){var c=cc.scaleTo(t,n,o),i=cc.callFunc(function(e){s&&s()},this,0),r=cc.sequence(cc.delayTime(a),c,i);return e.runAction(r),r}return null},e.scaleBigAndSmall=function(e,t,n,o,a){if(void 0===n&&(n=0),void 0===o&&(o=!1),e instanceof cc.Node){var s=cc.scaleTo(t/2,1.1,1.1),c=cc.scaleTo(t/2,.9,.9),i=cc.callFunc(function(e){a&&a()},this,0),r=cc.sequence(cc.delayTime(n),s,c,i);return o&&r.repeatForever(),e.runAction(r),r}return null},e.scaleBigAndNormal=function(e,t,n,o,a,s,c){if(void 0===a&&(a=0),void 0===s&&(s=!1),e instanceof cc.Node){var i=cc.scaleTo(t/2,n,o),r=cc.scaleTo(t/2,1,1),l=cc.callFunc(function(e){c&&c()},this,0),u=cc.sequence(cc.delayTime(a),i,r,l);return s&&u.repeatForever(),e.runAction(u),u}return null},e.waitBy=function(e,t,n){if(e instanceof cc.Node){var o=cc.fadeTo(t,e.opacity),a=cc.callFunc(function(e){n&&n()},this,0),s=cc.sequence(o,a);return e.runAction(s),s}return null},e.stopAllActions=function(e){e instanceof cc.Node&&e.stopAllActions()},e.stopAction=function(e,t){e instanceof cc.Node&&e.stopAction(t)},e=__decorate([a],e)}());n.default=s,cc._RF.pop()},{}],FYUIMgr:[function(e,t,n){"use strict";cc._RF.push(t,"2604aqnyTdJkYCkKucAU3P5","FYUIMgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./FYMessenger"),a=e("./FYGlobalVarMgr"),s=e("./FYUtility"),c=e("./FYBaseUIPanel"),i=e("./FYLog"),r=cc._decorator,l=r.ccclass,u=(r.property,function(){function e(){this._dictUIPrefab={},this._dictUIPanel={}}return t=e,e.prototype.preLoad=function(){var e=this;cc.loader.loadResDir("prefabs/UI",cc.Prefab,function(e,n,a){o.default.Instance.send(t.MsgPreLoadUIProgress,e,n)},function(n,a){for(var s=0;s<a.length;s++)e._dictUIPrefab[a[s]._name]=a[s].data;o.default.Instance.send(t.MsgPreLoadUIComplete)})},e.prototype.show=function(e,t){void 0===t&&(t=a.default.Instance.NodeTop);for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t||(t=a.default.Instance.NodeTop),this._dictUIPrefab[e]?(this._dictUIPanel[e]?this._dictUIPanel[e].setActive(!0):this._dictUIPanel[e]=s.default.addChild(t,this._dictUIPrefab[e]).getComponent(c.default),this._dictUIPanel[e].node.setSiblingIndex(this._dictUIPanel[e].node.parent.childrenCount),o.default.Instance.send(e,n)):i.default.error(e+" is not prelaod")},e.prototype.hide=function(e){this._dictUIPanel[e]&&this._dictUIPanel[e].setActive(!1)},e.prototype.close=function(e){this._dictUIPanel[e]&&(this._dictUIPanel[e].node.destroy(),delete this._dictUIPanel[e])},e.Instance=new t,e.MsgPreLoadUIProgress="PreLoadUIProgress",e.MsgPreLoadUIComplete="PreLoadUIComplete",e=t=__decorate([l],e);var t}());n.default=u,cc._RF.pop()},{"./FYBaseUIPanel":"FYBaseUIPanel","./FYGlobalVarMgr":"FYGlobalVarMgr","./FYLog":"FYLog","./FYMessenger":"FYMessenger","./FYUtility":"FYUtility"}],FYUtility:[function(e,t,n){"use strict";cc._RF.push(t,"89d0b1gEwNHGL/lAt6LxF7n","FYUtility"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=(o.property,function(){function e(){}return t=e,e.changeSpriteFrame=function(e,t,n){cc.loader.loadRes(t,cc.SpriteAtlas,function(t,o){if(o instanceof cc.SpriteAtlas){var a=o.getSpriteFrame(n);e.spriteFrame=a}})},e.getRandomValueDif=function(e,t,n){for(var o=new Array,a=n?n>t-e+1?t-e+1:n:1,s=e,c=0;s<=t;s++,c++)o[c]=s;var i=[];o.sort(function(){return.5-Math.random()});for(var r=0;r<a;r++){var l=Math.floor(Math.random()*o.length);i.push(o[l]);var u=o[l];o[l]=o[o.length-1],o[o.length-1]=u,o.pop()}return i},e.getRangeRandom=function(e,n){return t.getRandomValueDif(e,n,1)[0]},e.addChild=function(e,t,n,o){if(void 0===n&&(n=cc.Vec2.ZERO),void 0===o&&(o=!0),void 0==e||void 0==t)return cc.error("----------\x3e>>>>>>>>parent is undefined",void 0==e),void cc.error("----------\x3e>>>>>>>>child is undefined",void 0==t);cc.Vec2.ZERO;var a=cc.instantiate(t);return a.parent=e,a.position=n,a.active=o,a},e.getCanvasWidth=function(){return cc.Canvas.instance.node.width},e.getCanvasHeight=function(){return cc.Canvas.instance.node.height},e.loadScene=function(e){cc.director.loadScene(e)},e.enablePhysicsSystem=function(e){cc.director.getPhysicsManager().enabled=e},e.enableCollisionSystem=function(e){cc.director.getCollisionManager().enabled=e},e.convertDateFromString=function(e){if(e){var t=e.split(" ")[0].split("/");return new Date(t[0],t[1]-1,t[2])}},e.getMonTimeByNowTime=function(){var e=new Date,t=e.getDay();return 0==t&&(t=7),e.setHours(0,0,0,0),new Date(e.getTime()-24*(t-1)*60*60*1e3).getTime()},e.isSameDay=function(e,t){void 0===t&&(t=Date.now());var n=Number(e),o=Number(t);if(n&&o){var a=new Date(n),s=new Date(o);return a.setHours(0,0,0,0)==s.setHours(0,0,0,0)}return!1},e.getDictionaryCount=function(e){var t=0;for(var n in e)t++;return t},e.formatTime=function(e){var n,o,a;return a=(e=parseInt(e))%60,o=e%3600/60,(n=e/3600)?t.PadZero(n)+":"+t.PadZero(o)+":"+t.PadZero(a):t.PadZero(o)+":"+t.PadZero(a)},e.formatTime2=function(e){var n,o;e=parseInt(e);return n=(o=Math.floor((e-1e3*Math.floor(e/1e3))/10))/1e3%60,e/1e3%3600/60,e/1e3/3600,t.PadZero(n)+":"+t.PadZero(o)},e.PadZero=function(e){return new RegExp(/^\d$/g).test(e)?"0"+e:e},e.getMonthWeek=function(){var e=new Date,t=(e.getFullYear(),e.getDay(),e.getDate(),e.getDay()),n=e.getDate();return Math.ceil((n+6-t)/7)},e.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},e.changeParentKeepPos=function(e,t){var n=e.parent.convertToWorldSpaceAR(e.position),o=t.parent.convertToNodeSpaceAR(n);e.parent=t,e.setPosition(o)},e.httpGet=function(e,t,n){for(var o in e+="?",t)e+=o+"="+t[o]+"&";console.log(e);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState)if(a.status>=200&&a.status<400){var e=a.responseText;if(e){var t=JSON.parse(e);n(t)}else console.log("\u8fd4\u56de\u6570\u636e\u4e0d\u5b58\u5728"),n(!1)}else console.log("\u8bf7\u6c42\u5931\u8d25"),n(!1)},a.open("GET",e,!0),a.send()},e.httpPost=function(e,t,n){var o=t;console.log(o);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState)if(a.status>=200&&a.status<400){var e=a.responseText;if(e){var t=JSON.parse(e);n(t)}else console.log("\u8fd4\u56de\u6570\u636e\u4e0d\u5b58\u5728"),n(!1)}else console.log("\u8bf7\u6c42\u5931\u8d25"),n(!1)},a.open("POST",e,!0),a.setRequestHeader("Content-Type","application/json"),a.send(o)},e=t=__decorate([a],e);var t}());n.default=s,cc._RF.pop()},{}],Game:[function(e,t,n){"use strict";cc._RF.push(t,"9ef5dLyKShO770a+TXpj03z","Game"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYBaseNode"),a=e("../Tools/FYMessenger"),s=e("../Tools/FYResMgr"),c=e("../Tools/FYUIMgr"),i=e("../Common/E"),r=e("../Tools/CCCWXMiniGameSDKMgr"),l=e("../Tools/FYGlobalVarMgr"),u=e("./RecordMgr"),d=e("../Common/UserDataMgr"),p=e("./CubeMgr"),f=e("../Tools/FYUtility"),h=e("../Common/C"),y=e("./TipsMgr"),C=e("../WXMiniGameTools/WXMaskAdToGame"),I=e("../Tools/FYSDKMgr"),T=cc._decorator,_=T.ccclass,m=T.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wxSub=null,t.wxMask=null,t.wxHotGame=null,t.labVersion=null,t._bUpdateWXSub=!1,t.tex=new cc.Texture2D,t._curBannerAd=null,t._wxUserInfo=null,t}return __extends(t,e),t.prototype.addListener=function(){e.prototype.addListener.call(this),a.default.Instance.add(s.default.MsgPreLoadComplete,this.onPreLoadComplete,this),a.default.Instance.add(i.E.MsgType.ShowRank,this.onShowRank,this),a.default.Instance.add(i.E.MsgType.HideRank,this.onHideRank,this)},t.prototype.removeListener=function(){e.prototype.removeListener.call(this),a.default.Instance.remove(s.default.MsgPreLoadComplete,this.onPreLoadComplete,this),a.default.Instance.remove(i.E.MsgType.ShowRank,this.onShowRank,this),a.default.Instance.remove(i.E.MsgType.HideRank,this.onHideRank,this)},t.prototype._updateSubDomainCanvas=function(){this.tex&&(this.tex.initWithElement(sharedCanvas),this.tex.handleLoadedTexture(),this.wxSub.spriteFrame=new cc.SpriteFrame(this.tex))},t.prototype.onPreLoadComplete=function(){if(console.log("\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6bd5"),h.default.BSoEasySDKVersion){var e=window.JSTest;console.log("BSoEasySDKVersion:",e.isSoEasyInit)}if(r.default.Instance.wxIsWx()){var t=this,n=function(){wx.login({success:function(e){console.log("===========loginSuccess!===========",e);var o=h.default.ServerURL,a={action:2001,data:{open_id:e.code,type:0}},s=JSON.stringify(a);f.default.httpPost(o,s,function(e){console.log("===========code2accessToken!===========",e);var a=e.code;if(0==a){var s=e.data.display_id;d.default.Instance.UId=s;var c=e.data.is_signin_today;if(d.default.Instance.SevenDayLoginToday=1==c,e.data.signin_list.length>0){var i=e.data.signin_list[0].signin_count;d.default.Instance.SevenDayLoginTimes=i}else d.default.Instance.SevenDayLoginTimes=0;var r=JSON.stringify({action:3001,data:{type:0}});f.default.httpPost(o,r,function(e){if(console.log("===========get ad share state!===========",e),0==e.code){var n=1==parseInt(e.data.ad),o=1==parseInt(e.data.shareBtn);d.default.Instance.bWeChatAdOpenState=n,d.default.Instance.bWeChatShareOpenState=o,t.onGetSyncData()}})}else 200101==a?n():200102==a&&y.default.Instance.showTips("\u83b7\u53d6\u670d\u52a1\u5668\u5931\u8d25!")}),null==t._wxUserInfo&&function(e){var n=e.code,o=e.code;wx.getUserInfo({fail:function(){console.log("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u52a0\u8f7d\u5931\u8d25\uff01\uff01\uff01\uff01")},success:function(e){console.log("\u83b7\u53d6\u7528\u6237\u4fe1\u606f1");var a=e.userInfo,s=a.nickName,c=a.avatarUrl,i=a.gender,r=a.province,l=a.city,u=a.country,d=a.language;a.openid=n,t._wxUserInfo=a,console.log(a),wx.request({url:"https://xcx.1hocang.com/User/addUserInfo",json:!0,method:"POST",data:{open_id:n,nickName:s,avatarUrl:c,gender:i,city:l,province:r,country:u,language:d},success:function(e){console.log(e),t._wxUserInfo.user_id=e.data.data.user_id,wx.request({url:"https://xcx.1hocang.com/login/getOpenId",json:!0,method:"POST",data:{app_id:"wx4fbdc401c4356b11",app_secret:"3565d663fa92c2961757e9a3b9abac7b",code:o},success:function(e){wx.request({url:"https://xcx.1hocang.com/index/checkSdk",json:!0,method:"POST",data:{app_id:"wx4fbdc401c4356b11",app_secret:"3565d663fa92c2961757e9a3b9abac7b"},success:function(e){console.log(e);var n=e.data.data.company_id;wx.request({url:"https://xcx.1hocang.com/index/getIndexMenu",json:!0,method:"POST",data:{company_id:n},success:function(e){console.log(e),t.wxHotGame.active=!0,t.wxMask.init(e.data.data,t._wxUserInfo)}})}})}})}})}})}(e)}})};wx.getSetting({success:function(e){e.authSetting["scope.userInfo"]?n():wx.authorize({scope:"scope.userInfo",success:function(){n()}})}}),this.scheduleOnce(function(){""==d.default.Instance.UId&&y.default.Instance.showTips("\u83b7\u53d6\u670d\u52a1\u5668\u5931\u8d25!")},10)}else if(h.default.BQuickSDKVersion){console.log("QuickSDK",QuickSDK);var o=this;QuickSDK.getUserInfo(function(e){console.log("=======================================QuickSDK:getUserInfo:",e);var t=e.data.channelId;QuickSDK.init(d.default.Instance.quickSDKProductCode,d.default.Instance.quickSDKProductKey,!0,t);var n=e.data.uid;d.default.Instance.QuickSDKUid=n;var a=e.data.username;d.default.Instance.QuickSDKUserName=a;var s={action:2001,data:{open_id:d.default.Instance.QuickSDKUid,type:1}},c=JSON.stringify(s);f.default.httpPost(h.default.ServerURL,c,function(e){console.log("===========code2accessToken!===========",e);var t=e.code;if(0==t){var n=e.data.display_id;d.default.Instance.UId=n;var a=e.data.is_signin_today;if(d.default.Instance.SevenDayLoginToday=1==a,e.data.signin_list.length>0){var s=e.data.signin_list[0].signin_count;d.default.Instance.SevenDayLoginTimes=s}else d.default.Instance.SevenDayLoginTimes=0;o.onGetSyncData()}else 200101==t?y.default.Instance.showTips("\u83b7\u53d6\u670d\u52a1\u5668\u5931\u8d25!"):200102==t&&y.default.Instance.showTips("\u83b7\u53d6\u670d\u52a1\u5668\u5931\u8d25!")}),e.data.isLogin||QuickSDK.login(function(e){console.log("=======================================QuickSDK:callbackData:",e),e.status?e.data.uid:e.message})})}else if(h.default.BSoEasySDKVersion){console.log("ZmSdk",ZmSdk);var a=this;ZmSdk.getInstance().init(function(e){if(console.log("ZmSdk init",e),"0"===e.retcode){var t=ZmSdk.getInstance().getUserInfo();console.log("ZmSdk userInfo",t);var n=t.userdata,o=n.uid,s=(n.name,{action:2001,data:{open_id:o,type:3}}),c=JSON.stringify(s);if(f.default.httpPost(h.default.ServerURL,c,function(e){console.log("===========code2accessToken!===========",e);var t=e.code;if(0==t){var n=e.data.display_id;d.default.Instance.UId=n;var o=e.data.is_signin_today;if(d.default.Instance.SevenDayLoginToday=1==o,e.data.signin_list.length>0){var s=e.data.signin_list[0].signin_count;d.default.Instance.SevenDayLoginTimes=s}else d.default.Instance.SevenDayLoginTimes=0;a.onGetSyncData()}else 200101==t?y.default.Instance.showTips("\u83b7\u53d6\u670d\u52a1\u5668\u5931\u8d25!"):200102==t&&y.default.Instance.showTips("\u83b7\u53d6\u670d\u52a1\u5668\u5931\u8d25!")}),"true"==n.isSubscribe)if(0==parseInt(I.default.Instance.loadLocalData(h.default.SAVEKEY_FIRSTFOLLOWSTATE,"0"))){d.default.Instance.PropChangeNum++;y.default.Instance.showTips("\u5173\u6ce8\u6210\u529f,\u83b7\u5f97\u9065\u63a7\u6570\u5b57 X1"),I.default.Instance.saveLocalData(h.default.SAVEKEY_FIRSTFOLLOWSTATE,1)}var i=JSON.stringify({datatype:3,serverid:1,servername:"1",roleid:"1",rolename:"1",rolelevel:1,fightvalue:1});if(ZmSdk.getInstance().reportRoleStatus(i),ZmSdk.getInstance().isSupportMethod("setShareInfo")){var r={title:"\u5408\u5e76\u98ce\u66b4\uff0c\u8111\u529b\u5168\u5f00\uff0c\u73a9\u8f6c2048\uff01",content:"\u65b02048\u662f\u4e00\u6b3e\u6570\u5b57\u5408\u5e76\u7c7b\u7684\u76ca\u667a\u5c0f\u6e38\u620f\uff0c\u91c7\u7528\u4fc4\u7f57\u65af\u65b9\u5757\u7684\u7ecf\u5178\u73a9\u6cd5\uff0c\u901a\u8fc7\u6570\u5b57\u5408\u5e76\u7684\u89c4\u5219\uff0c\u8ba9\u73a9\u5bb6\u4f53\u9a8c\u5230\u7b80\u5355\u5e76\u6709\u8da3\u7684\u5408\u5e76\u4e50\u8da3\uff01"};r.imgurl=I.default.Instance.Md5Pipe("res/raw-assets/resources/share/share2.png"),ZmSdk.getInstance().setShareInfo(r,function(){console.log("set ShareInfoSuccess!")})}}else e.retcode})}else this.onEnterGame()},t.prototype.onEnterGame=function(){var e=this;a.default.Instance.send(i.E.MsgType.EnableLoadingPanel),c.default.Instance.show(i.E.UIName.UIMainMenuPanel);if(cc.sys.platform==cc.sys.WECHAT_GAME){var t=wx.getSystemInfoSync().screenHeight,n=wx.getSystemInfoSync().screenWidth;console.log(t,n);this._curBannerAd=r.default.Instance.wxCreateBanner("adunit-38191088de26b55d",0,t-250,n,250),this._curBannerAd.show(),this._curBannerAd.onResize(function(n){e._curBannerAd.style.top=t-e._curBannerAd.style.realHeight})}if(r.default.Instance.wxIsWx()){var o=wx.getLaunchOptionsSync();if(console.log("-------------------",o),console.log("----Launch------Launch---scene-",o.scene),console.log("----------Launch---query-",o.query),console.log("----------Launch---shareTicket-",o.shareTicket),null!=o)if(1044==o.scene&&o.query.form&&o.query.form==i.E.ShareState.GroupRank)c.default.Instance.show(i.E.UIName.UIRankPanel,l.default.Instance.NodeSub,[i.E.RankType.Group,o.shareTicket]);else{var s=u.default.Instance.loadRecord();null!=s&&null!=s.cubeData&&c.default.Instance.show(i.E.UIName.UIRecordPanel)}}if(h.default.BSoEasySDKVersion){var p=I.default.Instance.loadLocalData(h.default.SAVEKEY_SDKPAYORDERID,"0"),y=I.default.Instance.loadLocalData(h.default.SAVEKEY_SDKPAYGOODSID,"0");if(console.log("curOrderId:",p,"curGoodsId",y),"0"!=p&&"0"!=y){var C={action:2008,data:{order_id:p,display_id:d.default.Instance.UId}},T=JSON.stringify(C);f.default.httpPost(h.default.ServerURL,T,function(e){var t=e.code;(console.log("=====================paySDK Success===============================",e,y),0==t)&&(0==e.data.status&&c.default.Instance.show(i.E.UIName.UIPrizePanel))})}}},t.prototype.onWXShow=function(e){console.log("-------------------",e),console.log("----main------onshow---scene-",e.scene),console.log("----------onshow---query-",e.query),console.log("----------onshow---shareTicket-",e.shareTicket),1044==e.scene&&e.query.form&&e.query.form==i.E.ShareState.GroupRank&&c.default.Instance.show(i.E.UIName.UIRankPanel,l.default.Instance.NodeSub,[i.E.RankType.Group,e.shareTicket])},t.prototype.onWXHide=function(){d.default.Instance.bPlaying&&u.default.Instance.saveRecord(d.default.Instance.PropBombOneTurnNum,d.default.Instance.PropChangeOneTurnNum,d.default.Instance.PropEliminateOneTurnNum,d.default.Instance.PropReviveOneTurnNum,d.default.Instance.WatchADReviveOneTurnNum,d.default.Instance.Score,p.default.Instance.listCube,d.default.Instance.curNextCube)},t.prototype.onGetSyncData=function(){var e=0,t=this,n=h.default.ServerURL,o={action:2003,data:{display_id:d.default.Instance.UId}},a=JSON.stringify(o);f.default.httpPost(n,a,function(n){if(console.log("===========on Get Prop Info!===========",n),0==n.code){var o=n.data;for(var a in o){var s=o[a],c=s.item_id,r=s.item_num,l=d.default.Instance.getPropTypeByPropId(c);l==i.E.PropType.ChangeNum?d.default.Instance.initPropChangeNum(r):l==i.E.PropType.Bomb?d.default.Instance.initPropBombNum(r):l==i.E.PropType.TopTwoRowEliminate&&d.default.Instance.initPropEliminate(r)}2==++e&&t.onEnterGame()}else y.default.Instance.showTips("\u670d\u52a1\u5668\u5931\u8d25!")});var s={action:2006,data:{display_id:d.default.Instance.UId}},c=JSON.stringify(s);f.default.httpPost(n,c,function(n){if(console.log("===========on Get Score Info!===========",n),0==n.code){var o=n.data.score;d.default.Instance.MaxScore=o,2==++e&&t.onEnterGame()}else y.default.Instance.showTips("\u83b7\u53d6\u670d\u52a1\u5668\u5931\u8d25!")})},t.prototype.onShowRank=function(){this._bUpdateWXSub=!0},t.prototype.onHideRank=function(){this._bUpdateWXSub=!1,this.wxSub.spriteFrame=null},t.prototype.onLoad=function(){l.default.Instance.WinSize.width<l.default.Instance.DesignSize.width&&(l.default.Instance.Canvas.fitWidth=!0,l.default.Instance.Canvas.fitHeight=!1),r.default.Instance.wxIsWx()&&sharedCanvas&&(sharedCanvas.width=2*cc.game.canvas.width,sharedCanvas.height=2*cc.game.canvas.height),y.default.Instance.init(l.default.Instance.NodeTop),this.labVersion.string="\u6d4b\u8bd5\u7248",this.labVersion.node.active=h.default.TestSwitch},t.prototype.start=function(){this.tex=new cc.Texture2D},t.prototype.update=function(e){this._bUpdateWXSub&&r.default.Instance.wxIsWx()&&this._updateSubDomainCanvas()},t.prototype.onEnable=function(){e.prototype.onEnable.call(this),r.default.Instance.wxInit(this.onWXShow,this.onWXHide)},t.prototype.onDisable=function(){e.prototype.onDisable.call(this)},__decorate([m(cc.Sprite)],t.prototype,"wxSub",void 0),__decorate([m(C.default)],t.prototype,"wxMask",void 0),__decorate([m(cc.Node)],t.prototype,"wxHotGame",void 0),__decorate([m(cc.Label)],t.prototype,"labVersion",void 0),t=__decorate([_],t)}(o.default);n.default=g,cc._RF.pop()},{"../Common/C":"C","../Common/E":"E","../Common/UserDataMgr":"UserDataMgr","../Tools/CCCWXMiniGameSDKMgr":"CCCWXMiniGameSDKMgr","../Tools/FYBaseNode":"FYBaseNode","../Tools/FYGlobalVarMgr":"FYGlobalVarMgr","../Tools/FYMessenger":"FYMessenger","../Tools/FYResMgr":"FYResMgr","../Tools/FYSDKMgr":"FYSDKMgr","../Tools/FYUIMgr":"FYUIMgr","../Tools/FYUtility":"FYUtility","../WXMiniGameTools/WXMaskAdToGame":"WXMaskAdToGame","./CubeMgr":"CubeMgr","./RecordMgr":"RecordMgr","./TipsMgr":"TipsMgr"}],JSTest:[function(e,t,n){"use strict";cc._RF.push(t,"5840akXPltFCZu9MptRFl5o","JSTest"),window.JSTest={isSoEasyInit:!1,jsFunc:function(){isSoEasyInit=!0,console.log("isSoEasyInit!")}},window.zmInitSucc=function(){window.JSTest.jsFunc()},cc._RF.pop()},{}],RecordMgr:[function(e,t,n){"use strict";cc._RF.push(t,"c4976DQ9bhDT5YE6iJeTU25","RecordMgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Common/C"),a=e("./CubeMgr"),s=e("../Common/E"),c=e("../Tools/FYSDKMgr"),i=function(){function e(){}return e.prototype.saveRecord=function(e,t,n,i,r,l,u,d){for(var p={},f=0;f<o.default.COL;f++)for(var h=0;h<o.default.ROW;h++){if(null!=u[f][h])p[a.default.Instance.calcIndex(h,f)]={cubeValue:a.default.Instance.convertValueTypeToValue(u[f][h].getInfo().cubeValueType),hasGift:u[f][h].getInfo().cubeType==s.E.CubeType.Gift?1:0}}var y={useBombNum:e,useChangeNum:t,useEliminate:n,useReviveNum:i,watchADReviveNum:r,score:l,cubeData:p,cNextData:{cubeValue:a.default.Instance.convertValueTypeToValue(d.getInfo().cubeValueType),cubeType:d.getInfo().cubeType}};c.default.Instance.saveLocalJsonData(o.default.SAVEKEY_RECORD,y)},e.prototype.loadRecord=function(){return c.default.Instance.loadLocalJsonData(o.default.SAVEKEY_RECORD)},e.prototype.clearRecord=function(){c.default.Instance.removeLocalData(o.default.SAVEKEY_RECORD)},e.Instance=new e,e}();n.default=i,cc._RF.pop()},{"../Common/C":"C","../Common/E":"E","../Tools/FYSDKMgr":"FYSDKMgr","./CubeMgr":"CubeMgr"}],ScoreTweenMgr:[function(e,t,n){"use strict";cc._RF.push(t,"5d3e9zFny9M4Yy3cwBXRgD7","ScoreTweenMgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYResMgr"),a=e("./ScoreTween"),s=function(){function e(){this._nodeContainer=null,this._pool=new cc.NodePool}return e.prototype.init=function(e){this._nodeContainer=e},e.prototype.getScoreTween=function(){return this._pool.size()>0?this._pool.get():cc.instantiate(o.default.Instance.loadOther("ScoreTween"))},e.prototype.putScoreTween=function(e){e?this._pool.put(e):cc.error("scoreTween is null")},e.prototype.showScoreTween=function(e,t){this.addScoreTween().setScore(e,t)},e.prototype.addScoreTween=function(e){void 0===e&&(e=this._nodeContainer);var t=this.getScoreTween();return t.parent=e,t.scale=1,t.opacity=255,t.getComponent(a.default)},e.prototype.removeScoreTween=function(e){this.putScoreTween(e.node)},e.Instance=new e,e}();n.default=s,cc._RF.pop()},{"../Tools/FYResMgr":"FYResMgr","./ScoreTween":"ScoreTween"}],ScoreTween:[function(e,t,n){"use strict";cc._RF.push(t,"bb839+fyepO6rSnw9fJfveO","ScoreTween"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./ScoreTweenMgr"),a=cc._decorator,s=a.ccclass,c=a.property,i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labScore=null,t}return __extends(t,e),t.prototype.setScore=function(e,t){this.labScore.string="+"+e.toString(),this.node.setPosition(t),this.playTween()},t.prototype.playTween=function(){var e=this;this.node.opacity=0;var t=cc.fadeTo(.15,255),n=cc.fadeTo(.15,0),a=cc.moveBy(.5,0,80),s=cc.callFunc(function(){o.default.Instance.removeScoreTween(e)}),c=cc.sequence(t,cc.delayTime(.2),n,s),i=cc.spawn(a,c);this.node.runAction(i)},__decorate([c(cc.Label)],t.prototype,"labScore",void 0),t=__decorate([s],t)}(cc.Component);n.default=i,cc._RF.pop()},{"./ScoreTweenMgr":"ScoreTweenMgr"}],TSTest:[function(e,t,n){"use strict";cc._RF.push(t,"b9ec95/GNJPlLoDpfx1gtKs","TSTest"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=(o.property,function(){function e(){}return e.prototype.tsFunc=function(){console.log("??????????????")},e=__decorate([a],e)}());n.default=s;var c=new s;window.tsTest=c,cc._RF.pop()},{}],TipsMgr:[function(e,t,n){"use strict";cc._RF.push(t,"6af12Nm/iNP5YrEQ/rIUEsR","TipsMgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYResMgr"),a=e("./Tips"),s=function(){function e(){this._nodeContainer=null,this._pool=new cc.NodePool}return e.prototype.init=function(e){this._nodeContainer=e},e.prototype.getTips=function(){return this._pool.size()>0?this._pool.get():cc.instantiate(o.default.Instance.loadOther("Tips"))},e.prototype.putTips=function(e){e?this._pool.put(e):cc.error("nodeTips is null")},e.prototype.showTips=function(e){this.addTips().setTips(e)},e.prototype.addTips=function(e){void 0===e&&(e=this._nodeContainer);var t=this.getTips();return t.parent=e,t.scale=1,t.opacity=255,t.getComponent(a.default)},e.prototype.removeTips=function(e){this.putTips(e.node)},e.Instance=new e,e}();n.default=s,cc._RF.pop()},{"../Tools/FYResMgr":"FYResMgr","./Tips":"Tips"}],Tips:[function(e,t,n){"use strict";cc._RF.push(t,"0bfebPzqhJO+ZsMk5vmdvZz","Tips"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYBaseNode"),a=e("./TipsMgr"),s=cc._decorator,c=s.ccclass,i=s.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labTips=null,t}return __extends(t,e),t.prototype.setTips=function(e){this.labTips.string=e,this.playTween()},t.prototype.playTween=function(){this.node.setPosition(0,0);var e=this;this.node.opacity=0;var t=cc.fadeTo(.15,255),n=cc.fadeTo(.15,0),o=cc.moveBy(.7,0,80),s=cc.callFunc(function(){a.default.Instance.removeTips(e)}),c=cc.sequence(t,cc.delayTime(.4),n,s),i=cc.spawn(o,c);this.node.runAction(i)},__decorate([i(cc.Label)],t.prototype,"labTips",void 0),t=__decorate([c],t)}(o.default);n.default=r,cc._RF.pop()},{"../Tools/FYBaseNode":"FYBaseNode","./TipsMgr":"TipsMgr"}],UIBuyPropPanel:[function(e,t,n){"use strict";cc._RF.push(t,"4050aE0QolNcbiGh5HEuP+S","UIBuyPropPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYBaseUIPanel"),a=e("../Tools/FYAudioCtl"),s=e("../Common/E"),c=e("../Tools/FYUIMgr"),i=e("../Tools/FYResMgr"),r=e("../Common/UserDataMgr"),l=e("../Game/TipsMgr"),u=e("../Tools/FYMessenger"),d=e("../Common/C"),p=e("../Tools/CCCWXMiniGameSDKMgr"),f=cc._decorator,h=f.ccclass,y=f.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnClose=null,t.btnBuy=null,t.btnWatchAd=null,t.btnShare=null,t.sprIcon=null,t.labPrice=null,t.sPropId=s.E.PropType.Bomb,t.onShareCallback=null,t.nPropNum=0,t}return __extends(t,e),t.prototype.addListener=function(){e.prototype.addListener.call(this),this.btnClose.on(cc.Node.EventType.TOUCH_END,this.onClickBtnClose,this),this.btnBuy.on(cc.Node.EventType.TOUCH_END,this.onClickBtnBuy,this),this.btnShare.on(cc.Node.EventType.TOUCH_END,this.onClickBtnShare,this),this.btnWatchAd.on(cc.Node.EventType.TOUCH_END,this.onClickBtnWatchAd,this),u.default.Instance.add(s.E.MsgType.PaySuccess,this.onPaySuccess,this)},t.prototype.removeListener=function(){e.prototype.removeListener.call(this),this.btnClose.off(cc.Node.EventType.TOUCH_END,this.onClickBtnClose,this),this.btnBuy.off(cc.Node.EventType.TOUCH_END,this.onClickBtnBuy,this),this.btnShare.off(cc.Node.EventType.TOUCH_END,this.onClickBtnShare,this),this.btnWatchAd.off(cc.Node.EventType.TOUCH_END,this.onClickBtnWatchAd,this),u.default.Instance.remove(s.E.MsgType.PaySuccess,this.onPaySuccess,this)},t.prototype.getPropNameByType=function(e){var t="";return e==s.E.PropType.Bomb?t="btnBomb":e==s.E.PropType.ChangeNum?t="btnChangeNum":e==s.E.PropType.TopTwoRowEliminate&&(t="btnClearTwoRow"),t},t.prototype.getPropPirceByType=function(e){var t=0;return e==s.E.PropType.ChangeNum?t=null==r.default.Instance.listBuyPropOneTurnNum[e]?.1:2*r.default.Instance.listBuyPropOneTurnNum[e]/10:e==s.E.PropType.Bomb?t=null==r.default.Instance.listBuyPropOneTurnNum[e]?.3:(2*r.default.Instance.listBuyPropOneTurnNum[e]+2)/10:e==s.E.PropType.TopTwoRowEliminate&&(t=null==r.default.Instance.listBuyPropOneTurnNum[e]?.4:(2*r.default.Instance.listBuyPropOneTurnNum[e]+3)/10),t},t.prototype.getZmSDKFeeIdByType=function(e){var t="0";return e==s.E.PropType.ChangeNum?t=null==r.default.Instance.listBuyPropOneTurnNum[e]?"1005":(1005+r.default.Instance.listBuyPropOneTurnNum[e]).toString():e==s.E.PropType.Bomb?t=null==r.default.Instance.listBuyPropOneTurnNum[e]?"1008":(1008+r.default.Instance.listBuyPropOneTurnNum[e]).toString():e==s.E.PropType.TopTwoRowEliminate&&(t=null==r.default.Instance.listBuyPropOneTurnNum[e]?"1011":(1011+r.default.Instance.listBuyPropOneTurnNum[e]).toString()),t},t.prototype.getZmSDKFeeNameByType=function(e){var t="0";return e==s.E.PropType.ChangeNum?t=null==r.default.Instance.listBuyPropOneTurnNum[e]?"\u7b2c1\u6b21\u8d2d\u4e70\u9ab0\u5b50":"\u7b2c"+(r.default.Instance.listBuyPropOneTurnNum[e]+1)+"\u6b21\u8d2d\u4e70\u9ab0\u5b50":e==s.E.PropType.Bomb?t=null==r.default.Instance.listBuyPropOneTurnNum[e]?"\u7b2c1\u6b21\u8d2d\u4e70\u70b8\u5f39":"\u7b2c"+(r.default.Instance.listBuyPropOneTurnNum[e]+1)+"\u6b21\u8d2d\u4e70\u70b8\u5f39":e==s.E.PropType.TopTwoRowEliminate&&(t=null==r.default.Instance.listBuyPropOneTurnNum[e]?"\u7b2c1\u6b21\u8d2d\u4e70\u6d88\u4e8c\u884c":"\u7b2c"+(r.default.Instance.listBuyPropOneTurnNum[e]+1)+"\u6b21\u8d2d\u4e70\u6d88\u4e8c\u884c"),t},t.prototype.onShow=function(e,t){var n=t[0];this.sPropId=n;var o=t[1];this.onShareCallback=o,console.log(this.sPropId),p.default.Instance.wxIsWx()?(this.btnBuy.active=!1,this.btnShare.active=r.default.Instance.bWeChatShareOpenState,this.btnWatchAd.active=r.default.Instance.bWeChatAdOpenState,r.default.Instance.bWeChatShareOpenState&&!r.default.Instance.bWeChatAdOpenState&&(this.btnShare.position=new cc.Vec2(0,this.btnShare.position.y)),!r.default.Instance.bWeChatShareOpenState&&r.default.Instance.bWeChatAdOpenState&&(this.btnWatchAd.position=new cc.Vec2(0,this.btnWatchAd.position.y))):(this.btnBuy.active=!0,this.btnShare.active=!1,this.btnWatchAd.active=!1),d.default.BCanPayVersion?(this.sprIcon.spriteFrame=i.default.Instance.loadSpriteFrame(this.getPropNameByType(this.sPropId)),this.labPrice.string=this.getPropPirceByType(this.sPropId)+"$"):this.labPrice.string="0$"},t.prototype.onClickBtnClose=function(){a.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.close(s.E.UIName.UIBuyPropPanel)},t.prototype.onClickBtnBuy=function(){a.default.Instance.playSound(s.E.Sound.BtnClick);if(d.default.BCanPayVersion){if(d.default.BQuickSDKVersion){var e=this.getPropPirceByType(this.sPropId).toString(),t=s.E.PayGoodsId.goodsBuyPropBomb;this.sPropId==s.E.PropType.Bomb?t=s.E.PayGoodsId.goodsBuyPropBomb:this.sPropId==s.E.PropType.ChangeNum?t=s.E.PayGoodsId.goodsBuyPropChange:this.sPropId==s.E.PropType.TopTwoRowEliminate&&(t=s.E.PayGoodsId.goodsBuyPropEliminate),r.default.Instance.onQuickSDKPay(t,1,e,"\u8d2d\u4e70\u9053\u5177","\u8d2d\u4e70\u9053\u5177")}else if(d.default.BSoEasySDKVersion){var n=this.getZmSDKFeeIdByType(this.sPropId),o=100*this.getPropPirceByType(this.sPropId),i=this.getZmSDKFeeNameByType(this.sPropId);r.default.Instance.onSoEasySDKPay(n,o,i)}}else{null==r.default.Instance.listBuyPropOneTurnNum[this.sPropId]?r.default.Instance.listBuyPropOneTurnNum[this.sPropId]=1:r.default.Instance.listBuyPropOneTurnNum[this.sPropId]++;var u="";this.sPropId==s.E.PropType.Bomb?(r.default.Instance.PropBombNum++,u="\u83b7\u5f97\u70b8\u5f39 X1"):this.sPropId==s.E.PropType.ChangeNum?(r.default.Instance.PropChangeNum++,u="\u83b7\u5f97\u9065\u63a7\u6570\u5b57 X1"):this.sPropId==s.E.PropType.TopTwoRowEliminate&&(r.default.Instance.PropEliminateNum++,u="\u83b7\u5f97\u6d88\u4e8c\u884c X1"),l.default.Instance.showTips(u),c.default.Instance.close(s.E.UIName.UIBuyPropPanel)}},t.prototype.onPaySuccess=function(e,t){if(s.E.PayGoodsId.goodsBuyPropBomb==t||s.E.PayGoodsId.goodsBuyPropChange==t||s.E.PayGoodsId.goodsBuyPropEliminate==t){null==r.default.Instance.listBuyPropOneTurnNum[this.sPropId]?r.default.Instance.listBuyPropOneTurnNum[this.sPropId]=1:r.default.Instance.listBuyPropOneTurnNum[this.sPropId]++;var n="";this.sPropId==s.E.PropType.Bomb?(r.default.Instance.PropBombNum++,n="\u83b7\u5f97\u70b8\u5f39 X1"):this.sPropId==s.E.PropType.ChangeNum?(r.default.Instance.PropChangeNum++,n="\u83b7\u5f97\u9065\u63a7\u6570\u5b57 X1"):this.sPropId==s.E.PropType.TopTwoRowEliminate&&(r.default.Instance.PropEliminateNum++,n="\u83b7\u5f97\u6d88\u4e8c\u884c X1"),l.default.Instance.showTips(n),c.default.Instance.close(s.E.UIName.UIBuyPropPanel)}},t.prototype.onClickBtnShare=function(){a.default.Instance.playSound(s.E.Sound.BtnClick),null!=this.onShareCallback&&this.onShareCallback(),c.default.Instance.close(s.E.UIName.UIBuyPropPanel)},t.prototype.onClickBtnWatchAd=function(){a.default.Instance.playSound(s.E.Sound.BtnClick);var e=this;p.default.Instance.wxIsWx()&&p.default.Instance.wxShowAd(function(t){if(t){var n="";if(e.sPropId==s.E.PropType.Bomb){if(r.default.Instance.PropBombNum>=d.default.PROP_BOMB_MAX_VALUE)return void l.default.Instance.showTips("\u9053\u5177\u8fbe\u5230\u4e0a\u9650\uff01");r.default.Instance.PropBombNum++,n="\u83b7\u5f97\u70b8\u5f39 X1"}else if(e.sPropId==s.E.PropType.ChangeNum){if(r.default.Instance.PropChangeNum>=d.default.PROP_CHANGE_MAX_VALUE)return void l.default.Instance.showTips("\u9053\u5177\u8fbe\u5230\u4e0a\u9650\uff01");r.default.Instance.PropChangeNum++,n="\u83b7\u5f97\u9065\u63a7\u6570\u5b57 X1"}else if(e.sPropId==s.E.PropType.TopTwoRowEliminate){if(r.default.Instance.PropEliminateNum>=d.default.PROP_ELIMINATE_MAX_VALUE)return void l.default.Instance.showTips("\u9053\u5177\u8fbe\u5230\u4e0a\u9650\uff01");r.default.Instance.PropEliminateNum++,n="\u83b7\u5f97\u6d88\u4e8c\u884c X1"}l.default.Instance.showTips(n),c.default.Instance.close(s.E.UIName.UIBuyPropPanel)}},p.default.ADUnitID)},__decorate([y(cc.Node)],t.prototype,"btnClose",void 0),__decorate([y(cc.Node)],t.prototype,"btnBuy",void 0),__decorate([y(cc.Node)],t.prototype,"btnWatchAd",void 0),__decorate([y(cc.Node)],t.prototype,"btnShare",void 0),__decorate([y(cc.Sprite)],t.prototype,"sprIcon",void 0),__decorate([y(cc.Label)],t.prototype,"labPrice",void 0),t=__decorate([h],t)}(o.default);n.default=C,cc._RF.pop()},{"../Common/C":"C","../Common/E":"E","../Common/UserDataMgr":"UserDataMgr","../Game/TipsMgr":"TipsMgr","../Tools/CCCWXMiniGameSDKMgr":"CCCWXMiniGameSDKMgr","../Tools/FYAudioCtl":"FYAudioCtl","../Tools/FYBaseUIPanel":"FYBaseUIPanel","../Tools/FYMessenger":"FYMessenger","../Tools/FYResMgr":"FYResMgr","../Tools/FYUIMgr":"FYUIMgr"}],UIFollowPanel:[function(e,t,n){"use strict";cc._RF.push(t,"ff52eZQH4xP55LyaIOdSrYq","UIFollowPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYBaseUIPanel"),a=e("../Tools/FYAudioCtl"),s=e("../Common/E"),c=e("../Tools/FYUIMgr"),i=e("../Tools/FYSDKMgr"),r=e("../Common/C"),l=e("../Common/UserDataMgr"),u=e("../Game/TipsMgr"),d=cc._decorator,p=d.ccclass,f=d.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnCancel=null,t}return __extends(t,e),t.prototype.addListener=function(){e.prototype.addListener.call(this),this.btnCancel.on(cc.Node.EventType.TOUCH_END,this.onClickBtnCancel,this)},t.prototype.removeListener=function(){e.prototype.removeListener.call(this),this.btnCancel.off(cc.Node.EventType.TOUCH_END,this.onClickBtnCancel,this)},t.prototype.onShow=function(e,t){if(0==parseInt(i.default.Instance.loadLocalData(r.default.SAVEKEY_FIRSTFOLLOWSTATE,"0"))){l.default.Instance.PropChangeNum++;u.default.Instance.showTips("\u83b7\u5f97\u9065\u63a7\u6570\u5b57 X1"),this.scheduleOnce(function(){u.default.Instance.showTips("\u626b\u4e00\u626b\u5173\u6ce8\u5fae\u4fe1\u53f7\uff0c\u5fae\u4fe1\u6253\u5f00\u5206\u4eab\u66f4\u5feb\u6377")},.5),i.default.Instance.saveLocalData(r.default.SAVEKEY_FIRSTFOLLOWSTATE,1)}},t.prototype.onClickBtnCancel=function(){a.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.close(s.E.UIName.UIFollowPanel)},__decorate([f(cc.Node)],t.prototype,"btnCancel",void 0),t=__decorate([p],t)}(o.default);n.default=h,cc._RF.pop()},{"../Common/C":"C","../Common/E":"E","../Common/UserDataMgr":"UserDataMgr","../Game/TipsMgr":"TipsMgr","../Tools/FYAudioCtl":"FYAudioCtl","../Tools/FYBaseUIPanel":"FYBaseUIPanel","../Tools/FYSDKMgr":"FYSDKMgr","../Tools/FYUIMgr":"FYUIMgr"}],UIFollowTipsPanel:[function(e,t,n){"use strict";cc._RF.push(t,"349efzkMw9Fm7WVyYGj5xbO","UIFollowTipsPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYBaseUIPanel"),a=e("../Tools/FYAudioCtl"),s=e("../Common/E"),c=e("../Tools/FYUIMgr"),i=e("../Tools/FYGlobalVarMgr"),r=cc._decorator,l=r.ccclass,u=r.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnCancel=null,t.btnFollow=null,t.btnShare=null,t}return __extends(t,e),t.prototype.addListener=function(){e.prototype.addListener.call(this),this.btnCancel.on(cc.Node.EventType.TOUCH_END,this.onClickBtnCancel,this),this.btnFollow.on(cc.Node.EventType.TOUCH_END,this.onClickBtnFollow,this),this.btnShare.on(cc.Node.EventType.TOUCH_END,this.onClickBtnShare,this)},t.prototype.removeListener=function(){e.prototype.removeListener.call(this),this.btnCancel.off(cc.Node.EventType.TOUCH_END,this.onClickBtnCancel,this),this.btnFollow.off(cc.Node.EventType.TOUCH_END,this.onClickBtnFollow,this),this.btnShare.off(cc.Node.EventType.TOUCH_END,this.onClickBtnShare,this)},t.prototype.onShow=function(e,t){},t.prototype.onClickBtnCancel=function(){a.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.close(s.E.UIName.UIFollowTipsPanel)},t.prototype.onClickBtnFollow=function(){a.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.show(s.E.UIName.UIFollowPanel,i.default.Instance.NodeTop)},t.prototype.onClickBtnShare=function(){a.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.show(s.E.UIName.UIShareTipsPanel,i.default.Instance.NodeTop)},__decorate([u(cc.Node)],t.prototype,"btnCancel",void 0),__decorate([u(cc.Node)],t.prototype,"btnFollow",void 0),__decorate([u(cc.Node)],t.prototype,"btnShare",void 0),t=__decorate([l],t)}(o.default);n.default=d,cc._RF.pop()},{"../Common/E":"E","../Tools/FYAudioCtl":"FYAudioCtl","../Tools/FYBaseUIPanel":"FYBaseUIPanel","../Tools/FYGlobalVarMgr":"FYGlobalVarMgr","../Tools/FYUIMgr":"FYUIMgr"}],UIGameOverPanel:[function(e,t,n){"use strict";cc._RF.push(t,"85cafeyKUdD8LgAFwexcrF1","UIGameOverPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYBaseUIPanel"),a=e("../Tools/FYUIMgr"),s=e("../Common/E"),c=e("../Common/UserDataMgr"),i=e("../Common/C"),r=e("../Tools/CCCWXMiniGameSDKMgr"),l=e("../Tools/FYMessenger"),u=e("../Tools/FYAudioCtl"),d=e("../Game/RecordMgr"),p=e("../Game/CubeMgr"),f=cc._decorator,h=f.ccclass,y=f.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labScore=null,t.labPayRevive=null,t.btnWatchADRevive=null,t.btnUsePropRevive=null,t.btnExchargeRevive=null,t.btnSkip=null,t}return __extends(t,e),t.prototype.addListener=function(){e.prototype.addListener.call(this),this.btnWatchADRevive.on(cc.Node.EventType.TOUCH_END,this.onClickBtnWatchADRevive,this),this.btnUsePropRevive.on(cc.Node.EventType.TOUCH_END,this.onClickBtnUsePropRevive,this),this.btnExchargeRevive.on(cc.Node.EventType.TOUCH_END,this.onClickExchargeRevive,this),this.btnSkip.on(cc.Node.EventType.TOUCH_END,this.onClickBtnSkip,this),l.default.Instance.add(s.E.MsgType.PaySuccess,this.onPaySuccess,this)},t.prototype.removeListener=function(){e.prototype.removeListener.call(this),this.btnWatchADRevive.off(cc.Node.EventType.TOUCH_END,this.onClickBtnWatchADRevive,this),this.btnUsePropRevive.off(cc.Node.EventType.TOUCH_END,this.onClickBtnUsePropRevive,this),this.btnExchargeRevive.off(cc.Node.EventType.TOUCH_END,this.onClickExchargeRevive,this),this.btnSkip.off(cc.Node.EventType.TOUCH_END,this.onClickBtnSkip,this),l.default.Instance.remove(s.E.MsgType.PaySuccess,this.onPaySuccess,this)},t.prototype.refreshScore=function(){this.labScore.string=c.default.Instance.Score.toString(),c.default.Instance.ExchargeReviveOneTurnNum<1&&c.default.Instance.WatchADReviveOneTurnNum<1?this.labPayRevive.string="0.1":this.labPayRevive.string=(2*c.default.Instance.ExchargeReviveOneTurnNum/10).toString(),r.default.Instance.wxIsWx()?this.btnUsePropRevive.active=c.default.Instance.bWeChatShareOpenState&&c.default.Instance.PropReviveOneTurnNum<i.default.PROP_REVIVE_ONE_TURN_USE_MAX_VALUE:this.btnUsePropRevive.active=!1,r.default.Instance.wxIsWx()?this.btnWatchADRevive.active=c.default.Instance.bWeChatAdOpenState&&c.default.Instance.WatchADReviveOneTurnNum<i.default.WATCH_AD_REVIVE_ONE_TURN_USE_MAX_VALUE:this.btnWatchADRevive.active=!1,this.btnExchargeRevive.active=c.default.Instance.ExchargeReviveOneTurnNum<i.default.EXCHARGE_REVIVE_ONE_TURN_USE_MAX_VALUE&&(i.default.BQuickSDKVersion||i.default.BSoEasySDKVersion),i.default.BCanPayVersion||(this.labPayRevive.string="0")},t.prototype.onShow=function(e,t){this.refreshScore()},t.prototype.onClickBtnWatchADRevive=function(){u.default.Instance.playSound(s.E.Sound.BtnClick),r.default.Instance.wxIsWx()?r.default.Instance.wxShowAd(function(e){e&&(c.default.Instance.WatchADReviveOneTurnNum++,c.default.Instance.ExchargeReviveOneTurnNum++,l.default.Instance.send(s.E.MsgType.Revive),a.default.Instance.close(s.E.UIName.UIPropRevivePanel),a.default.Instance.close(s.E.UIName.UIGameOverPanel))},r.default.ADUnitID):(c.default.Instance.WatchADReviveOneTurnNum++,l.default.Instance.send(s.E.MsgType.Revive),a.default.Instance.close(s.E.UIName.UIPropRevivePanel),a.default.Instance.close(s.E.UIName.UIGameOverPanel))},t.prototype.onClickBtnUsePropRevive=function(){u.default.Instance.playSound(s.E.Sound.BtnClick),a.default.Instance.show(s.E.UIName.UIPropRevivePanel)},t.prototype.onClickExchargeRevive=function(){if(u.default.Instance.playSound(s.E.Sound.BtnClick),i.default.BCanPayVersion){if(i.default.BQuickSDKVersion){var e=this.labPayRevive.string;c.default.Instance.onQuickSDKPay(s.E.PayGoodsId.goodsRevive,1,e,"\u590d\u6d3b\u4ed8\u8d39","\u901a\u8fc7\u4ed8\u8d39\u590d\u6d3b")}else if(i.default.BSoEasySDKVersion){var t=(1001+c.default.Instance.ExchargeReviveOneTurnNum).toString(),n=0;n=c.default.Instance.ExchargeReviveOneTurnNum<1&&c.default.Instance.WatchADReviveOneTurnNum<1?10:2*c.default.Instance.ExchargeReviveOneTurnNum/10*100;var o="\u7b2c"+(c.default.Instance.ExchargeReviveOneTurnNum+1)+"\u6b21\u590d\u6d3b";c.default.Instance.onSoEasySDKPay(t,n,o),d.default.Instance.saveRecord(c.default.Instance.PropBombOneTurnNum,c.default.Instance.PropChangeOneTurnNum,c.default.Instance.PropEliminateOneTurnNum,c.default.Instance.PropReviveOneTurnNum,c.default.Instance.WatchADReviveOneTurnNum,c.default.Instance.Score,p.default.Instance.listCube,c.default.Instance.curNextCube)}}else c.default.Instance.ExchargeReviveOneTurnNum++,c.default.Instance.WatchADReviveOneTurnNum++,l.default.Instance.send(s.E.MsgType.Revive),a.default.Instance.close(s.E.UIName.UIPropRevivePanel),a.default.Instance.close(s.E.UIName.UIGameOverPanel)},t.prototype.onPaySuccess=function(e,t){s.E.PayGoodsId.goodsRevive==t&&(c.default.Instance.ExchargeReviveOneTurnNum++,c.default.Instance.WatchADReviveOneTurnNum++,l.default.Instance.send(s.E.MsgType.Revive),a.default.Instance.close(s.E.UIName.UIPropRevivePanel),a.default.Instance.close(s.E.UIName.UIGameOverPanel))},t.prototype.onClickBtnSkip=function(){u.default.Instance.playSound(s.E.Sound.BtnClick),a.default.Instance.show(s.E.UIName.UIResultPanel),a.default.Instance.close(s.E.UIName.UIGameOverPanel)},t.prototype.onLoad=function(){},t.prototype.start=function(){},__decorate([y(cc.Label)],t.prototype,"labScore",void 0),__decorate([y(cc.Label)],t.prototype,"labPayRevive",void 0),__decorate([y(cc.Node)],t.prototype,"btnWatchADRevive",void 0),__decorate([y(cc.Node)],t.prototype,"btnUsePropRevive",void 0),__decorate([y(cc.Node)],t.prototype,"btnExchargeRevive",void 0),__decorate([y(cc.Node)],t.prototype,"btnSkip",void 0),t=__decorate([h],t)}(o.default);n.default=C,cc._RF.pop()},{"../Common/C":"C","../Common/E":"E","../Common/UserDataMgr":"UserDataMgr","../Game/CubeMgr":"CubeMgr","../Game/RecordMgr":"RecordMgr","../Tools/CCCWXMiniGameSDKMgr":"CCCWXMiniGameSDKMgr","../Tools/FYAudioCtl":"FYAudioCtl","../Tools/FYBaseUIPanel":"FYBaseUIPanel","../Tools/FYMessenger":"FYMessenger","../Tools/FYUIMgr":"FYUIMgr"}],UIGamePanel:[function(e,t,n){"use strict";cc._RF.push(t,"fdaa8pKg+VDs4dFlEsGmqmz","UIGamePanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYBaseUIPanel"),a=e("../Tools/FYGlobalVarMgr"),s=e("../Game/CubeMgr"),c=e("../Game/CubeInfo"),i=e("../Common/C"),r=e("../Common/E"),l=e("../Game/Cube"),u=e("../Common/UserDataMgr"),d=e("../Tools/FYMessenger"),p=e("../Game/ScoreTweenMgr"),f=e("../Tools/FYUIMgr"),h=e("../Tools/CCCWXMiniGameSDKMgr"),y=e("../Game/TipsMgr"),C=e("../Game/CubeClearMgr"),I=e("../Tools/FYAudioCtl"),T=e("../Game/RecordMgr"),_=e("../Tools/FYSDKMgr"),m=e("../Tools/FYUtility"),g=cc._decorator,S=g.ccclass,v=g.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeCubeContainer=null,t.nodeEffectContainer=null,t.nodeTouchArea1=null,t.nodeTouchArea2=null,t.nodeTouchArea3=null,t.nodeTouchArea4=null,t.nodeTouchArea5=null,t.labScore=null,t.btnHelp=null,t.btnPause=null,t.btnUseBomb=null,t.btnUseNum=null,t.btnUseClearTwoRow=null,t.labUseBomb=null,t.labUseNum=null,t.labUseClearTwoRow=null,t.cubeNext=null,t.cubeNextNext=null,t.nodeTips=null,t._bCanTouch=!0,t._bPlayTipsTween=!1,t}return __extends(t,e),t.prototype.addListener=function(){e.prototype.addListener.call(this),this.nodeTouchArea1.on(cc.Node.EventType.TOUCH_START,this.onTouchArea1,this),this.nodeTouchArea2.on(cc.Node.EventType.TOUCH_START,this.onTouchArea2,this),this.nodeTouchArea3.on(cc.Node.EventType.TOUCH_START,this.onTouchArea3,this),this.nodeTouchArea4.on(cc.Node.EventType.TOUCH_START,this.onTouchArea4,this),this.nodeTouchArea5.on(cc.Node.EventType.TOUCH_START,this.onTouchArea5,this),this.btnPause.on(cc.Node.EventType.TOUCH_END,this.onClickPause,this),this.btnHelp.on(cc.Node.EventType.TOUCH_END,this.onClickHelp,this),this.btnUseClearTwoRow.on(cc.Node.EventType.TOUCH_END,this.onClickClearTwoRow,this),this.btnUseNum.on(cc.Node.EventType.TOUCH_END,this.onClickUseChangeNum,this),this.btnUseBomb.on(cc.Node.EventType.TOUCH_END,this.onClickBomb,this),d.default.Instance.add(r.E.MsgType.TouchSwitch,this.onTouchSwitch,this),d.default.Instance.add(r.E.MsgType.GameOver,this.onGameOver,this),d.default.Instance.add(r.E.MsgType.RefreshScore,this.refreshScore,this),d.default.Instance.add(r.E.MsgType.UseProp,this.onUseProp,this),d.default.Instance.add(r.E.MsgType.ChangeCubeNum,this.onChangeNum,this),d.default.Instance.add(r.E.MsgType.Restart,this.onRestart,this),d.default.Instance.add(r.E.MsgType.Revive,this.revive,this),d.default.Instance.add(r.E.MsgType.ChangePropNum,this.refreshPropNum,this)},t.prototype.removeListener=function(){e.prototype.removeListener.call(this),this.nodeTouchArea1.off(cc.Node.EventType.TOUCH_START,this.onTouchArea1,this),this.nodeTouchArea2.off(cc.Node.EventType.TOUCH_START,this.onTouchArea2,this),this.nodeTouchArea3.off(cc.Node.EventType.TOUCH_START,this.onTouchArea3,this),this.nodeTouchArea4.off(cc.Node.EventType.TOUCH_START,this.onTouchArea4,this),this.nodeTouchArea5.off(cc.Node.EventType.TOUCH_START,this.onTouchArea5,this),this.btnPause.off(cc.Node.EventType.TOUCH_END,this.onClickPause,this),this.btnHelp.off(cc.Node.EventType.TOUCH_END,this.onClickHelp,this),this.btnUseClearTwoRow.off(cc.Node.EventType.TOUCH_END,this.onClickClearTwoRow,this),this.btnUseNum.off(cc.Node.EventType.TOUCH_END,this.onClickUseChangeNum,this),this.btnUseBomb.off(cc.Node.EventType.TOUCH_END,this.onClickBomb,this),d.default.Instance.remove(r.E.MsgType.TouchSwitch,this.onTouchSwitch,this),d.default.Instance.remove(r.E.MsgType.GameOver,this.onGameOver,this),d.default.Instance.remove(r.E.MsgType.RefreshScore,this.refreshScore,this),d.default.Instance.remove(r.E.MsgType.UseProp,this.onUseProp,this),d.default.Instance.remove(r.E.MsgType.ChangeCubeNum,this.onChangeNum,this),d.default.Instance.remove(r.E.MsgType.Restart,this.onRestart,this),d.default.Instance.remove(r.E.MsgType.Revive,this.revive,this),d.default.Instance.remove(r.E.MsgType.ChangePropNum,this.refreshPropNum,this)},t.prototype.init=function(){if(this.stopTipsTween(),s.default.Instance.reset(),this.initNextCube(),u.default.Instance.Score=0,u.default.Instance.PropBombOneTurnNum=0,u.default.Instance.PropChangeOneTurnNum=0,u.default.Instance.PropEliminateOneTurnNum=0,u.default.Instance.PropReviveOneTurnNum=0,u.default.Instance.WatchADReviveOneTurnNum=0,u.default.Instance.ExchargeReviveOneTurnNum=0,u.default.Instance.listBuyPropOneTurnNum={},u.default.Instance.bNeedToRestoreGameData){var e=T.default.Instance.loadRecord();if(null!=e&&null!=e.cubeData){u.default.Instance.PropBombOneTurnNum=e.useBombNum,u.default.Instance.PropChangeOneTurnNum=e.useChangeNum,u.default.Instance.PropEliminateOneTurnNum=e.useEliminate,u.default.Instance.PropReviveOneTurnNum=e.useReviveNum,u.default.Instance.WatchADReviveOneTurnNum=e.watchADReviveNum,u.default.Instance.Score=e.score;for(var t=0;t<i.default.COL;t++)for(var n=0;n<i.default.ROW;n++){var o=s.default.Instance.calcIndex(n,t);if(e.cubeData.hasOwnProperty(o)){var a=new c.default;a.cubeValueType=s.default.Instance.convertValueToValueType(e.cubeData[o].cubeValue),a.cubeType=1==e.cubeData[o].hasGift?r.E.CubeType.Gift:r.E.CubeType.Cube,a.cubeSkinType=r.E.CubeSkinType.S_Value;var l=s.default.Instance.addCube(a);l.node.setPosition(s.default.Instance.calcPosX(t),s.default.Instance.calcPosY(n)),l.setCol(t),l.setRow(n),s.default.Instance.listCube[t][n]=l}}var d;if(e.cNextData.cubeType==r.E.CubeType.Bomb)(d=new c.default).cubeValueType=s.default.Instance.convertValueToValueType(e.cNextData.cubeValue),d.cubeType=r.E.CubeType.Bomb,d.cubeSkinType=r.E.CubeSkinType.S_Value,this.cubeNext.setInfo(d);else(d=new c.default).cubeValueType=s.default.Instance.convertValueToValueType(e.cNextData.cubeValue),d.cubeType=r.E.CubeType.Cube,d.cubeSkinType=r.E.CubeSkinType.S_Value,this.cubeNext.setInfo(d)}T.default.Instance.clearRecord(),u.default.Instance.bNeedToRestoreGameData=!1}this.refreshScore(),this.refreshPropNum(),u.default.Instance.bPlaying=!0},t.prototype.refreshScore=function(){this.labScore.string=u.default.Instance.Score.toString()},t.prototype.refreshPropNum=function(){i.default.BQuickSDKVersion||i.default.BSoEasySDKVersion,this.labUseBomb.string=u.default.Instance.PropBombNum+"",this.labUseNum.string=u.default.Instance.PropChangeNum+"",this.labUseClearTwoRow.string=u.default.Instance.PropEliminateNum+""},t.prototype.initNextCube=function(){var e=s.default.Instance.randomCube(),t=new c.default;t.cubeSkinType=e[0],t.cubeValueType=e[1],this.cubeNext.setInfo(t),u.default.Instance.curNextCube=this.cubeNext;var n=s.default.Instance.randomCube(),o=new c.default;o.cubeSkinType=n[0],o.cubeValueType=n[1],this.cubeNextNext.setInfo(o)},t.prototype.setNextCube=function(e){if(void 0===e&&(e=null),null!=e){var t=new c.default;t.cubeSkinType=r.E.CubeSkinType.S_Value,t.cubeValueType=e,this.cubeNext.setInfo(t)}else{var n=m.default.getRangeRandom(0,1);console.log("---\x3e radio = "+n);var o=[];if(1==n){var a=r.E.CubeValueType.Length;null!=this.cubeNext&&(a=this.cubeNext.getInfo().cubeValueType);for(var i=[],l=s.default.Instance.getTopCubeOfAllCol(),d=0;d<l.length;d++)null!=l[d]&&i.push(l[d].getInfo().cubeValueType);a!=r.E.CubeValueType.Length&&i.push(a),o=s.default.Instance.randomCube(i)}else o=s.default.Instance.randomCube();var p=new c.default;p.cubeSkinType=o[0],p.cubeValueType=o[1],this.cubeNext.setInfo(p)}u.default.Instance.curNextCube=this.cubeNext},t.prototype.getNextCubeInfo=function(){var e=this.cubeNext.getInfo();return this.setNextCube(),e},t.prototype.addCube=function(e){this.stopTipsTween();var t=new cc.Vec2(s.default.Instance.calcPosX(e),s.default.Instance.cubeStartPosY),n=s.default.Instance.addCube(this.getNextCubeInfo());n.node.setPosition(t),s.default.Instance.curCube=n,s.default.Instance.playCubeDownTween(e,n)},t.prototype.eliminateOneRow=function(e){for(var t=0,n=0;n<i.default.COL;n++){var o=s.default.Instance.listCube[n][e];null!=o&&(t+=s.default.Instance.convertValueTypeToValue(o.getInfo().cubeValueType),C.default.Instance.showCubeClear(o.getInfo().cubeValueType,o.node.position,r.E.CubeClearType.Big),s.default.Instance.removeCubeFromList(n,e))}return t},t.prototype.eliminateArea=function(e,t,n,o){var a=0;e<0&&(e=0),t<0&&(t=0),n>=i.default.COL&&(n=i.default.COL-1),o>=i.default.ROW&&(o=i.default.ROW-1);for(var c=e;c<=n;c++)for(var l=t;l<=o;l++){var u=s.default.Instance.listCube[c][l];null!=u&&(a+=s.default.Instance.convertValueTypeToValue(u.getInfo().cubeValueType),C.default.Instance.showCubeClear(u.getInfo().cubeValueType,u.node.position,r.E.CubeClearType.Big),s.default.Instance.removeCubeFromList(c,l))}return a},t.prototype.revive=function(){s.default.Instance.changeAllCubeToValueSkin();var e=s.default.Instance.getMaxRow(),t=0;e-2>=0&&(t+=this.eliminateOneRow(e-2)),e-1>=0&&(t+=this.eliminateOneRow(e-1)),t+=this.eliminateOneRow(e),u.default.Instance.Score+=t,p.default.Instance.showScoreTween(t,new cc.Vec2(s.default.Instance.calcPosX(3),s.default.Instance.calcPosY(e))),s.default.Instance.checkAllCube(),u.default.Instance.bPlaying=!0},t.prototype.playTipsTween=function(){this.nodeTips.active=!0,this.nodeTips.scale=1,this._bPlayTipsTween=!0;var e=cc.scaleTo(.5,.5),t=cc.scaleTo(.5,1),n=cc.sequence(e,t).repeatForever();this.nodeTips.runAction(n)},t.prototype.stopTipsTween=function(){this._bPlayTipsTween&&(this._bPlayTipsTween=!1,this.nodeTips.stopAllActions(),this.nodeTips.active=!1)},t.prototype.onTouchArea1=function(){this._bCanTouch&&this.addCube(0)},t.prototype.onTouchArea2=function(){this._bCanTouch&&this.addCube(1)},t.prototype.onTouchArea3=function(){this._bCanTouch&&this.addCube(2)},t.prototype.onTouchArea4=function(){this._bCanTouch&&this.addCube(3)},t.prototype.onTouchArea5=function(){this._bCanTouch&&this.addCube(4)},t.prototype.onTouchSwitch=function(e,t){this._bCanTouch=t},t.prototype.onGameOver=function(e){T.default.Instance.clearRecord(),u.default.Instance.bPlaying=!1;var t=!0;u.default.Instance.bWeChatAdOpenState&&u.default.Instance.bWeChatShareOpenState?t=u.default.Instance.WatchADReviveOneTurnNum>=i.default.WATCH_AD_REVIVE_ONE_TURN_USE_MAX_VALUE&&u.default.Instance.PropReviveOneTurnNum>=i.default.PROP_REVIVE_ONE_TURN_USE_MAX_VALUE:u.default.Instance.bWeChatAdOpenState?t=u.default.Instance.WatchADReviveOneTurnNum>=i.default.WATCH_AD_REVIVE_ONE_TURN_USE_MAX_VALUE:u.default.Instance.bWeChatShareOpenState&&(t=u.default.Instance.PropReviveOneTurnNum>=i.default.PROP_REVIVE_ONE_TURN_USE_MAX_VALUE),i.default.CloseAllSDKFunctionSwitch?f.default.Instance.show(r.E.UIName.UIResultPanel):t?f.default.Instance.show(r.E.UIName.UIResultPanel):f.default.Instance.show(r.E.UIName.UIGameOverPanel),s.default.Instance.playCubeGameOverTween()},t.prototype.onRestart=function(e){this.init()},t.prototype.onUseProp=function(e,t,n){if(t==r.E.PropType.Bomb){u.default.Instance.PropBombOneTurnNum++,u.default.Instance.PropBombNum--;var o=n[0],a=n[1],c=0;c+=this.eliminateArea(o-1,a-2,o+1,a),u.default.Instance.Score+=c,p.default.Instance.showScoreTween(c,new cc.Vec2(s.default.Instance.calcPosX(o),s.default.Instance.calcPosY(a))),s.default.Instance.resetCheck(),s.default.Instance.checkAllCube()}else if(t==r.E.PropType.ChangeNum)f.default.Instance.show(r.E.UIName.UISelectCubePanel);else if(t==r.E.PropType.ThreeRowEliminate){o=n[0],c=0;(a=n[1])+1<i.default.ROW&&(c+=this.eliminateOneRow(a+1)),a-1>=0&&(c+=this.eliminateOneRow(a-1)),c+=this.eliminateOneRow(a),u.default.Instance.Score+=c,p.default.Instance.showScoreTween(c,new cc.Vec2(s.default.Instance.calcPosX(o),s.default.Instance.calcPosY(a))),s.default.Instance.resetCheck(),s.default.Instance.checkAllCube()}else if(t==r.E.PropType.TopTwoRowEliminate){u.default.Instance.PropEliminateOneTurnNum++,u.default.Instance.PropEliminateNum--;c=0;(a=s.default.Instance.getMaxRow())-1>=0&&(c+=this.eliminateOneRow(a-1)),c+=this.eliminateOneRow(a),u.default.Instance.Score+=c,p.default.Instance.showScoreTween(c,new cc.Vec2(s.default.Instance.calcPosX(3),s.default.Instance.calcPosY(a))),s.default.Instance.resetCheck(),s.default.Instance.checkAllCube()}},t.prototype.onChangeNum=function(e,t){u.default.Instance.PropChangeOneTurnNum++,u.default.Instance.PropChangeNum--,this.setNextCube(s.default.Instance.convertValueToValueType(t)),C.default.Instance.showCubeClear(s.default.Instance.convertValueToValueType(t),this.cubeNext.node.position,r.E.CubeClearType.Big,this.cubeNext.node.parent)},t.prototype.onClickClearTwoRow=function(){this._bCanTouch&&(I.default.Instance.playSound(r.E.Sound.BtnClick),u.default.Instance.PropEliminateOneTurnNum>=i.default.PROP_ELIMINATE_ONE_TURN_USE_MAX_VALUE&&!i.default.BQuickSDKVersion&&!i.default.BSoEasySDKVersion?y.default.Instance.showTips("\u9053\u5177\u4f7f\u7528\u6b21\u6570\u8fbe\u5230\u4e0a\u9650\uff01"):u.default.Instance.PropEliminateNum<=0?i.default.CloseAllSDKFunctionSwitch?y.default.Instance.showTips("\u9053\u5177\u65e0\uff01"):h.default.Instance.wxIsWx()?f.default.Instance.show(r.E.UIName.UIBuyPropPanel,a.default.Instance.NodeTop,r.E.PropType.TopTwoRowEliminate,function(){var e=m.default.getRangeRandom(0,100),t=e<=50?h.default.Instance.ShareTitle:h.default.Instance.ShareTitle2,n=e<=50?h.default.Instance.SharePicPath:h.default.Instance.SharePicPath2;h.default.Instance.wxShareAppMessage(t,n,"",function(e,t){}),u.default.Instance.PropEliminateNum>=i.default.PROP_ELIMINATE_MAX_VALUE?y.default.Instance.showTips("\u9053\u5177\u8fbe\u5230\u4e0a\u9650\uff01"):(u.default.Instance.PropEliminateNum++,y.default.Instance.showTips("\u83b7\u5f97 \u6d88\u4e8c\u884c X1"))}):i.default.BQuickSDKVersion||i.default.BSoEasySDKVersion?null!=u.default.Instance.listBuyPropOneTurnNum[r.E.PropType.TopTwoRowEliminate]&&3==u.default.Instance.listBuyPropOneTurnNum[r.E.PropType.TopTwoRowEliminate]?y.default.Instance.showTips("\u83b7\u5f97\u6b21\u6570\u4e0a\u9650"):f.default.Instance.show(r.E.UIName.UIBuyPropPanel,a.default.Instance.NodeTop,r.E.PropType.TopTwoRowEliminate):(u.default.Instance.PropEliminateNum++,y.default.Instance.showTips("\u83b7\u5f97 \u6d88\u4e8c\u884c X1")):d.default.Instance.send(r.E.MsgType.UseProp,r.E.PropType.TopTwoRowEliminate))},t.prototype.onClickUseChangeNum=function(){this._bCanTouch&&(I.default.Instance.playSound(r.E.Sound.BtnClick),u.default.Instance.PropChangeOneTurnNum>=i.default.PROP_CHANGE_ONE_TURN_USE_MAX_VALUE&&!i.default.BQuickSDKVersion&&!i.default.BSoEasySDKVersion?y.default.Instance.showTips("\u9053\u5177\u4f7f\u7528\u6b21\u6570\u8fbe\u5230\u4e0a\u9650\uff01"):u.default.Instance.PropChangeNum<=0?i.default.CloseAllSDKFunctionSwitch?y.default.Instance.showTips("\u9053\u5177\u65e0\uff01"):h.default.Instance.wxIsWx()?f.default.Instance.show(r.E.UIName.UIBuyPropPanel,a.default.Instance.NodeTop,r.E.PropType.ChangeNum,function(){var e=m.default.getRangeRandom(0,100),t=e<=50?h.default.Instance.ShareTitle:h.default.Instance.ShareTitle2,n=e<=50?h.default.Instance.SharePicPath:h.default.Instance.SharePicPath2;h.default.Instance.wxShareAppMessage(t,n,"",function(e,t){}),u.default.Instance.PropChangeNum>=i.default.PROP_CHANGE_MAX_VALUE?y.default.Instance.showTips("\u9053\u5177\u8fbe\u5230\u4e0a\u9650\uff01"):(u.default.Instance.PropChangeNum++,y.default.Instance.showTips("\u83b7\u5f97 \u9065\u63a7\u6570\u5b57 X1"))}):i.default.BQuickSDKVersion||i.default.BSoEasySDKVersion?null!=u.default.Instance.listBuyPropOneTurnNum[r.E.PropType.ChangeNum]&&3==u.default.Instance.listBuyPropOneTurnNum[r.E.PropType.ChangeNum]?y.default.Instance.showTips("\u83b7\u5f97\u6b21\u6570\u4e0a\u9650"):f.default.Instance.show(r.E.UIName.UIBuyPropPanel,a.default.Instance.NodeTop,r.E.PropType.ChangeNum):(u.default.Instance.PropChangeNum++,y.default.Instance.showTips("\u83b7\u5f97 \u9065\u63a7\u6570\u5b57 X1")):d.default.Instance.send(r.E.MsgType.UseProp,r.E.PropType.ChangeNum))},t.prototype.onClickBomb=function(){if(this._bCanTouch)if(I.default.Instance.playSound(r.E.Sound.BtnClick),u.default.Instance.PropBombOneTurnNum>=i.default.PROP_BOMB_ONE_TURN_USE_MAX_VALUE&&!i.default.BQuickSDKVersion&&!i.default.BSoEasySDKVersion)y.default.Instance.showTips("\u9053\u5177\u4f7f\u7528\u6b21\u6570\u8fbe\u5230\u4e0a\u9650\uff01");else if(u.default.Instance.PropBombNum<=0)i.default.CloseAllSDKFunctionSwitch?y.default.Instance.showTips("\u9053\u5177\u65e0\uff01"):h.default.Instance.wxIsWx()?f.default.Instance.show(r.E.UIName.UIBuyPropPanel,a.default.Instance.NodeTop,r.E.PropType.Bomb,function(){var e=m.default.getRangeRandom(0,100),t=e<=50?h.default.Instance.ShareTitle:h.default.Instance.ShareTitle2,n=e<=50?h.default.Instance.SharePicPath:h.default.Instance.SharePicPath2;h.default.Instance.wxShareAppMessage(t,n,"",function(e,t){}),u.default.Instance.PropBombNum>=i.default.PROP_BOMB_MAX_VALUE?y.default.Instance.showTips("\u9053\u5177\u8fbe\u5230\u4e0a\u9650\uff01"):(u.default.Instance.PropBombNum++,y.default.Instance.showTips("\u83b7\u5f97 \u70b8\u5f39 X1"))}):i.default.BQuickSDKVersion||i.default.BSoEasySDKVersion?null!=u.default.Instance.listBuyPropOneTurnNum[r.E.PropType.Bomb]&&3==u.default.Instance.listBuyPropOneTurnNum[r.E.PropType.Bomb]?y.default.Instance.showTips("\u83b7\u5f97\u6b21\u6570\u4e0a\u9650"):f.default.Instance.show(r.E.UIName.UIBuyPropPanel,a.default.Instance.NodeTop,r.E.PropType.Bomb):(u.default.Instance.PropBombNum++,y.default.Instance.showTips("\u83b7\u5f97 \u70b8\u5f39 X1"));else{var e=new c.default;e.cubeType=r.E.CubeType.Bomb,this.cubeNext.setInfo(e),u.default.Instance.curNextCube=this.cubeNext,C.default.Instance.showCubeClear(r.E.CubeValueType.V_128,this.cubeNext.node.position,r.E.CubeClearType.Big,this.cubeNext.node.parent)}},t.prototype.onClickHelp=function(){I.default.Instance.playSound(r.E.Sound.BtnClick),f.default.Instance.show(r.E.UIName.UIHelpPanel)},t.prototype.onClickPause=function(){I.default.Instance.playSound(r.E.Sound.BtnClick),f.default.Instance.show(r.E.UIName.UIPausePanel)},t.prototype.onLoad=function(){s.default.Instance.init(this.nodeCubeContainer,[this.nodeTouchArea1,this.nodeTouchArea2,this.nodeTouchArea3,this.nodeTouchArea4,this.nodeTouchArea5]),p.default.Instance.init(this.nodeEffectContainer),C.default.Instance.init(this.nodeEffectContainer),this.init()},t.prototype.start=function(){this.playTipsTween(),0==parseInt(_.default.Instance.loadLocalData(i.default.SAVEKEY_HELPSTATE,"0"))&&f.default.Instance.show(r.E.UIName.UIHelpPanel,a.default.Instance.NodeTop)},t.prototype.onEnable=function(){e.prototype.onEnable.call(this)},t.prototype.onDisable=function(){e.prototype.onDisable.call(this)},__decorate([v(cc.Node)],t.prototype,"nodeCubeContainer",void 0),__decorate([v(cc.Node)],t.prototype,"nodeEffectContainer",void 0),__decorate([v(cc.Node)],t.prototype,"nodeTouchArea1",void 0),__decorate([v(cc.Node)],t.prototype,"nodeTouchArea2",void 0),__decorate([v(cc.Node)],t.prototype,"nodeTouchArea3",void 0),__decorate([v(cc.Node)],t.prototype,"nodeTouchArea4",void 0),__decorate([v(cc.Node)],t.prototype,"nodeTouchArea5",void 0),__decorate([v(cc.Label)],t.prototype,"labScore",void 0),__decorate([v(cc.Node)],t.prototype,"btnHelp",void 0),__decorate([v(cc.Node)],t.prototype,"btnPause",void 0),__decorate([v(cc.Node)],t.prototype,"btnUseBomb",void 0),__decorate([v(cc.Node)],t.prototype,"btnUseNum",void 0),__decorate([v(cc.Node)],t.prototype,"btnUseClearTwoRow",void 0),__decorate([v(cc.Label)],t.prototype,"labUseBomb",void 0),__decorate([v(cc.Label)],t.prototype,"labUseNum",void 0),__decorate([v(cc.Label)],t.prototype,"labUseClearTwoRow",void 0),__decorate([v(l.default)],t.prototype,"cubeNext",void 0),__decorate([v(l.default)],t.prototype,"cubeNextNext",void 0),__decorate([v(cc.Node)],t.prototype,"nodeTips",void 0),t=__decorate([S],t)}(o.default);n.default=b,cc._RF.pop()},{"../Common/C":"C","../Common/E":"E","../Common/UserDataMgr":"UserDataMgr","../Game/Cube":"Cube","../Game/CubeClearMgr":"CubeClearMgr","../Game/CubeInfo":"CubeInfo","../Game/CubeMgr":"CubeMgr","../Game/RecordMgr":"RecordMgr","../Game/ScoreTweenMgr":"ScoreTweenMgr","../Game/TipsMgr":"TipsMgr","../Tools/CCCWXMiniGameSDKMgr":"CCCWXMiniGameSDKMgr","../Tools/FYAudioCtl":"FYAudioCtl","../Tools/FYBaseUIPanel":"FYBaseUIPanel","../Tools/FYGlobalVarMgr":"FYGlobalVarMgr","../Tools/FYMessenger":"FYMessenger","../Tools/FYSDKMgr":"FYSDKMgr","../Tools/FYUIMgr":"FYUIMgr","../Tools/FYUtility":"FYUtility"}],UIGiftPanel:[function(e,t,n){"use strict";cc._RF.push(t,"32621LLwtpNuqhCA0ReWONl","UIGiftPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYBaseUIPanel"),a=e("../Tools/FYUIMgr"),s=e("../Common/E"),c=e("../Common/UserDataMgr"),i=e("../Tools/FYUtility"),r=e("../Common/C"),l=e("../Game/TipsMgr"),u=e("../Tools/CCCWXMiniGameSDKMgr"),d=e("../Tools/FYAudioCtl"),p=e("../Tools/FYMessenger"),f=cc._decorator,h=f.ccclass,y=f.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnClose=null,t.btnShareGet=null,t.btnWatchADGet=null,t.btnBuyGet=null,t.labTitle=null,t}return __extends(t,e),t.prototype.addListener=function(){e.prototype.addListener.call(this),this.btnClose.on(cc.Node.EventType.TOUCH_END,this.onClickBtnClose,this),this.btnShareGet.on(cc.Node.EventType.TOUCH_END,this.onClickBtnShareGet,this),this.btnWatchADGet.on(cc.Node.EventType.TOUCH_END,this.onClickBtnWatchADGet,this),this.btnBuyGet.on(cc.Node.EventType.TOUCH_END,this.onClickBtnFreeGet,this),p.default.Instance.add(s.E.MsgType.PaySuccess,this.onPaySuccess,this)},t.prototype.removeListener=function(){e.prototype.removeListener.call(this),this.btnClose.off(cc.Node.EventType.TOUCH_END,this.onClickBtnClose,this),this.btnShareGet.off(cc.Node.EventType.TOUCH_END,this.onClickBtnShareGet,this),this.btnWatchADGet.off(cc.Node.EventType.TOUCH_END,this.onClickBtnWatchADGet,this),this.btnBuyGet.off(cc.Node.EventType.TOUCH_END,this.onClickBtnFreeGet,this),p.default.Instance.remove(s.E.MsgType.PaySuccess,this.onPaySuccess,this)},t.prototype.getRandomProp=function(){var e=i.default.getRangeRandom(0,2);e==s.E.PropType.Bomb?c.default.Instance.PropBombNum>=r.default.PROP_BOMB_MAX_VALUE?l.default.Instance.showTips("\u9053\u5177\u8fbe\u5230\u4e0a\u9650\uff01"):(c.default.Instance.PropBombNum++,l.default.Instance.showTips("\u83b7\u5f97 \u70b8\u5f39 X1")):e==s.E.PropType.ChangeNum?c.default.Instance.PropChangeNum>=r.default.PROP_CHANGE_MAX_VALUE?l.default.Instance.showTips("\u9053\u5177\u8fbe\u5230\u4e0a\u9650\uff01"):(c.default.Instance.PropChangeNum++,l.default.Instance.showTips("\u83b7\u5f97 \u9065\u63a7\u6570\u5b57 X1")):e==s.E.PropType.TopTwoRowEliminate&&(c.default.Instance.PropEliminateNum>=r.default.PROP_ELIMINATE_MAX_VALUE?l.default.Instance.showTips("\u9053\u5177\u8fbe\u5230\u4e0a\u9650\uff01"):(c.default.Instance.PropEliminateNum++,l.default.Instance.showTips("\u83b7\u5f97 \u6d88\u4e8c\u884c X1"))),a.default.Instance.close(s.E.UIName.UIGiftPanel)},t.prototype.onShow=function(e,t){this.btnBuyGet.active=r.default.BQuickSDKVersion||r.default.BSoEasySDKVersion,u.default.Instance.wxIsWx()&&(this.btnShareGet.active=c.default.Instance.bWeChatShareOpenState,this.btnWatchADGet.active=c.default.Instance.bWeChatAdOpenState,c.default.Instance.bWeChatShareOpenState&&!c.default.Instance.bWeChatAdOpenState&&(this.btnShareGet.position=new cc.Vec2(0,this.btnShareGet.position.y)),!c.default.Instance.bWeChatShareOpenState&&c.default.Instance.bWeChatAdOpenState&&(this.btnWatchADGet.position=new cc.Vec2(0,this.btnWatchADGet.position.y)))},t.prototype.onClickBtnClose=function(){d.default.Instance.playSound(s.E.Sound.BtnClick),a.default.Instance.close(s.E.UIName.UIGiftPanel)},t.prototype.onClickBtnShareGet=function(){d.default.Instance.playSound(s.E.Sound.BtnClick);if(u.default.Instance.wxIsWx()){var e=i.default.getRangeRandom(0,100),t=e<=50?u.default.Instance.ShareTitle:u.default.Instance.ShareTitle2,n=e<=50?u.default.Instance.SharePicPath:u.default.Instance.SharePicPath2;u.default.Instance.wxShareAppMessage(t,n,"",function(e,t){}),this.getRandomProp()}else this.getRandomProp()},t.prototype.onClickBtnWatchADGet=function(){d.default.Instance.playSound(s.E.Sound.BtnClick);var e=this;u.default.Instance.wxIsWx()?u.default.Instance.wxShowAd(function(t){t&&e.getRandomProp()},u.default.ADUnitID):this.getRandomProp()},t.prototype.onClickBtnFreeGet=function(){this.getRandomProp()},t.prototype.onPaySuccess=function(e,t){s.E.PayGoodsId.goodsBuyGift==t&&this.getRandomProp()},t.prototype.onLoad=function(){},t.prototype.start=function(){},__decorate([y(cc.Node)],t.prototype,"btnClose",void 0),__decorate([y(cc.Node)],t.prototype,"btnShareGet",void 0),__decorate([y(cc.Node)],t.prototype,"btnWatchADGet",void 0),__decorate([y(cc.Node)],t.prototype,"btnBuyGet",void 0),__decorate([y(cc.Label)],t.prototype,"labTitle",void 0),t=__decorate([h],t)}(o.default);n.default=C,cc._RF.pop()},{"../Common/C":"C","../Common/E":"E","../Common/UserDataMgr":"UserDataMgr","../Game/TipsMgr":"TipsMgr","../Tools/CCCWXMiniGameSDKMgr":"CCCWXMiniGameSDKMgr","../Tools/FYAudioCtl":"FYAudioCtl","../Tools/FYBaseUIPanel":"FYBaseUIPanel","../Tools/FYMessenger":"FYMessenger","../Tools/FYUIMgr":"FYUIMgr","../Tools/FYUtility":"FYUtility"}],UIHelpPanel:[function(e,t,n){"use strict";cc._RF.push(t,"d33c6yygn9FOLyeTFWaUdjL","UIHelpPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYBaseUIPanel"),a=e("../Tools/FYAudioCtl"),s=e("../Common/E"),c=e("../Tools/FYUIMgr"),i=e("../Tools/FYSDKMgr"),r=e("../Common/C"),l=e("../Tools/FYGlobalVarMgr"),u=cc._decorator,d=u.ccclass,p=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnClose=null,t.btnMask=null,t}return __extends(t,e),t.prototype.addListener=function(){e.prototype.addListener.call(this),this.btnClose.on(cc.Node.EventType.TOUCH_END,this.onClickBtnClose,this),this.btnMask.on(cc.Node.EventType.TOUCH_END,this.onClickBtnClose,this)},t.prototype.removeListener=function(){e.prototype.removeListener.call(this),this.btnClose.off(cc.Node.EventType.TOUCH_END,this.onClickBtnClose,this),this.btnMask.off(cc.Node.EventType.TOUCH_END,this.onClickBtnClose,this)},t.prototype.onClickBtnClose=function(){a.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.close(s.E.UIName.UIHelpPanel),0==parseInt(i.default.Instance.loadLocalData(r.default.SAVEKEY_HELPSTATE,"0"))&&i.default.Instance.saveLocalData(r.default.SAVEKEY_HELPSTATE,1),r.default.BQuickSDKVersion&&c.default.Instance.show(s.E.UIName.UIFollowTipsPanel,l.default.Instance.NodeTop)},t.prototype.onLoad=function(){cc.sys.platform==cc.sys.WECHAT_GAME&&(this.getComponent(cc.Widget).top=-130,this.getComponent(cc.Widget).bottom=130,this.btnClose.setPosition(-this.btnClose.position.x,this.btnClose.position.y))},__decorate([p(cc.Node)],t.prototype,"btnClose",void 0),__decorate([p(cc.Node)],t.prototype,"btnMask",void 0),t=__decorate([d],t)}(o.default);n.default=f,cc._RF.pop()},{"../Common/C":"C","../Common/E":"E","../Tools/FYAudioCtl":"FYAudioCtl","../Tools/FYBaseUIPanel":"FYBaseUIPanel","../Tools/FYGlobalVarMgr":"FYGlobalVarMgr","../Tools/FYSDKMgr":"FYSDKMgr","../Tools/FYUIMgr":"FYUIMgr"}],UILoadingPanel:[function(e,t,n){"use strict";cc._RF.push(t,"40b4fALsQ1LBbik0QiFQaqT","UILoadingPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYBaseUIPanel"),a=e("../Tools/FYMessenger"),s=e("../Tools/FYUIMgr"),c=e("../Tools/FYResMgr"),i=e("../Common/E"),r=cc._decorator,l=r.ccclass,u=r.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labProgress=null,t.labDetail=null,t._nPreNum=5,t._nCurNum=0,t}return __extends(t,e),t.prototype.addListener=function(){e.prototype.addListener.call(this),a.default.Instance.add(s.default.MsgPreLoadUIComplete,this.onPreLoad,this),a.default.Instance.add(c.default.MsgPreLoadAtlasComplete,this.onPreLoad,this),a.default.Instance.add(c.default.MsgPreLoadEffectComplete,this.onPreLoad,this),a.default.Instance.add(c.default.MsgPreLoadOtherComplete,this.onPreLoad,this),a.default.Instance.add(c.default.MsgPreLoadSequenceFrameComplete,this.onPreLoad,this),a.default.Instance.add(i.E.MsgType.EnableLoadingPanel,this.onEnablePanelActive,this)},t.prototype.removeListener=function(){e.prototype.removeListener.call(this),a.default.Instance.remove(s.default.MsgPreLoadUIComplete,this.onPreLoad,this),a.default.Instance.remove(c.default.MsgPreLoadAtlasComplete,this.onPreLoad,this),a.default.Instance.remove(c.default.MsgPreLoadEffectComplete,this.onPreLoad,this),a.default.Instance.remove(c.default.MsgPreLoadOtherComplete,this.onPreLoad,this),a.default.Instance.remove(c.default.MsgPreLoadSequenceFrameComplete,this.onPreLoad,this),a.default.Instance.remove(i.E.MsgType.EnableLoadingPanel,this.onEnablePanelActive,this)},t.prototype.refreshUI=function(){this.labProgress.string=this._nCurNum.toString()+"/"+this._nPreNum.toString()},t.prototype.onShow=function(e,t){},t.prototype.onPreLoad=function(e){this._nCurNum++,this._nCurNum>=this._nPreNum?(a.default.Instance.send(c.default.MsgPreLoadComplete),this.labDetail.string="\u83b7\u53d6\u670d\u52a1\u5668\u8d44\u6e90\u4e2d..."):(this.refreshUI(),this.setActive(!0))},t.prototype.onPreLoadComplete=function(){},t.prototype.onEnablePanelActive=function(e,t){this.setActive(t)},t.prototype.onLoad=function(){s.default.Instance.preLoad(),c.default.Instance.preLoadAltlas(),c.default.Instance.preLoadEffect(),c.default.Instance.preLoadOther(),c.default.Instance.preLoadSequenceFrame()},t.prototype.start=function(){this.refreshUI()},__decorate([u(cc.Label)],t.prototype,"labProgress",void 0),__decorate([u(cc.Label)],t.prototype,"labDetail",void 0),t=__decorate([l],t)}(o.default);n.default=d,cc._RF.pop()},{"../Common/E":"E","../Tools/FYBaseUIPanel":"FYBaseUIPanel","../Tools/FYMessenger":"FYMessenger","../Tools/FYResMgr":"FYResMgr","../Tools/FYUIMgr":"FYUIMgr"}],UIMainMenuPanel:[function(e,t,n){"use strict";cc._RF.push(t,"e459fwtZD5AL4qNcF5hFN8y","UIMainMenuPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYBaseUIPanel"),a=e("../Tools/FYUIMgr"),s=e("../Common/E"),c=e("../Tools/CCCWXMiniGameSDKMgr"),i=e("../Tools/FYGlobalVarMgr"),r=e("../Tools/FYAudioCtl"),l=e("../Common/C"),u=e("../Common/UserDataMgr"),d=e("../Tools/FYUtility"),p=e("../Tools/FYSDKMgr"),f=e("../Game/TipsMgr"),h=cc._decorator,y=h.ccclass,C=h.property,I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnStart=null,t.btnPirze=null,t.btnRank=null,t.btnShare=null,t.btnFollow=null,t.btnSevenDayLogin=null,t.labHighScore=null,t}return __extends(t,e),t.prototype.addListener=function(){e.prototype.addListener.call(this),this.btnStart.on(cc.Node.EventType.TOUCH_END,this.onClickBtnStart,this),this.btnRank.on(cc.Node.EventType.TOUCH_END,this.onClickBtnRank,this),this.btnShare.on(cc.Node.EventType.TOUCH_END,this.onClickShare,this),this.btnFollow.on(cc.Node.EventType.TOUCH_END,this.onClickBtnFollow,this),this.btnSevenDayLogin.on(cc.Node.EventType.TOUCH_END,this.onClickSevenLogin,this),this.btnPirze.on(cc.Node.EventType.TOUCH_END,this.onClickPrize,this)},t.prototype.removeListener=function(){e.prototype.removeListener.call(this),this.btnStart.off(cc.Node.EventType.TOUCH_END,this.onClickBtnStart,this),this.btnRank.off(cc.Node.EventType.TOUCH_END,this.onClickBtnRank,this),this.btnShare.off(cc.Node.EventType.TOUCH_END,this.onClickShare,this),this.btnFollow.off(cc.Node.EventType.TOUCH_END,this.onClickBtnFollow,this),this.btnSevenDayLogin.off(cc.Node.EventType.TOUCH_END,this.onClickSevenLogin,this),this.btnPirze.on(cc.Node.EventType.TOUCH_END,this.onClickPrize,this)},t.prototype.onShow=function(e,t){this.btnPirze.active=(l.default.BQuickSDKVersion||l.default.BSoEasySDKVersion)&&!l.default.CloseAllSDKFunctionSwitch,this.labHighScore.string=u.default.Instance.MaxScore.toString(),this.btnRank.active=!l.default.BQuickSDKVersion&&!l.default.BSoEasySDKVersion&&!l.default.CloseAllSDKFunctionSwitch,this.btnFollow.active=(l.default.BQuickSDKVersion||l.default.BSoEasySDKVersion)&&!l.default.CloseAllSDKFunctionSwitch,this.btnShare.active=!l.default.CloseAllSDKFunctionSwitch,this.btnSevenDayLogin.active=!l.default.CloseAllSDKFunctionSwitch},t.prototype.onClickBtnStart=function(){r.default.Instance.playSound(s.E.Sound.BtnClick),a.default.Instance.show(s.E.UIName.UIGamePanel),a.default.Instance.close(s.E.UIName.UIMainMenuPanel)},t.prototype.onClickBtnRank=function(){r.default.Instance.playSound(s.E.Sound.BtnClick),a.default.Instance.show(s.E.UIName.UIRankPanel,i.default.Instance.NodeSub,[s.E.RankType.Friend])},t.prototype.onClickBtnFollow=function(){(r.default.Instance.playSound(s.E.Sound.BtnClick),l.default.BSoEasySDKVersion)?ZmSdk.getInstance().isSupportMethod("showQRCode")?ZmSdk.getInstance().showQRCode(null,function(e){console.log("showQRCode",e),"true"==e.isSubscribe&&f.default.Instance.showTips("\u60a8\u5df2\u5173\u6ce8\uff01")}):a.default.Instance.show(s.E.UIName.UIFollowPanel,i.default.Instance.NodeTop):a.default.Instance.show(s.E.UIName.UIFollowPanel,i.default.Instance.NodeTop)},t.prototype.onClickShare=function(){if(r.default.Instance.playSound(s.E.Sound.BtnClick),l.default.BQuickSDKVersion)a.default.Instance.show(s.E.UIName.UIShareTipsPanel,i.default.Instance.NodeTop);else{var e=d.default.getRangeRandom(0,100),t=e<=50?c.default.Instance.ShareTitle:c.default.Instance.ShareTitle2,n=e<=50?c.default.Instance.SharePicPath:c.default.Instance.SharePicPath2;if(c.default.Instance.wxIsWx())c.default.Instance.wxShareAppMessage(t,n,"",function(e){});else if(l.default.BSoEasySDKVersion){if(ZmSdk.getInstance().isSupportMethod("share")){var o={title:"\u5408\u5e76\u98ce\u66b4\uff0c\u8111\u529b\u5168\u5f00\uff0c\u73a9\u8f6c2048\uff01",content:"\u65b02048\u662f\u4e00\u6b3e\u6570\u5b57\u5408\u5e76\u7c7b\u7684\u76ca\u667a\u5c0f\u6e38\u620f\uff0c\u91c7\u7528\u4fc4\u7f57\u65af\u65b9\u5757\u7684\u7ecf\u5178\u73a9\u6cd5\uff0c\u901a\u8fc7\u6570\u5b57\u5408\u5e76\u7684\u89c4\u5219\uff0c\u8ba9\u73a9\u5bb6\u4f53\u9a8c\u5230\u7b80\u5355\u5e76\u6709\u8da3\u7684\u5408\u5e76\u4e50\u8da3\uff01"};o.imgurl=p.default.Instance.Md5Pipe("res/raw-assets/resources/share/share2.png"),ZmSdk.getInstance().share(o,function(){})}else a.default.Instance.show(s.E.UIName.UIShareTipsPanel,i.default.Instance.NodeTop)}}},t.prototype.onClickSevenLogin=function(){r.default.Instance.playSound(s.E.Sound.BtnClick),a.default.Instance.show(s.E.UIName.UISevenDayLoginPanel)},t.prototype.onClickPrize=function(){r.default.Instance.playSound(s.E.Sound.BtnClick),a.default.Instance.show(s.E.UIName.UIPrizePanel)},t.prototype.onLoad=function(){cc.sys.platform==cc.sys.WECHAT_GAME&&(this.btnStart.setPosition(this.btnStart.position.x,-40),this.btnRank.setPosition(this.btnRank.position.x,-300),this.btnShare.setPosition(this.btnShare.position.x,-300),this.btnSevenDayLogin.setPosition(this.btnSevenDayLogin.position.x,-300))},t.prototype.start=function(){var e=u.default.Instance.SevenDayLoginToday;console.log("SevenDayLoginToday",e),0!=e||l.default.CloseAllSDKFunctionSwitch||a.default.Instance.show(s.E.UIName.UISevenDayLoginPanel),0==parseInt(p.default.Instance.loadLocalData(l.default.SAVEKEY_REWARDPROPSTATE,"0"))&&(u.default.Instance.PropReviveNum++,p.default.Instance.saveLocalData(l.default.SAVEKEY_REWARDPROPSTATE,1))},__decorate([C(cc.Node)],t.prototype,"btnStart",void 0),__decorate([C(cc.Node)],t.prototype,"btnPirze",void 0),__decorate([C(cc.Node)],t.prototype,"btnRank",void 0),__decorate([C(cc.Node)],t.prototype,"btnShare",void 0),__decorate([C(cc.Node)],t.prototype,"btnFollow",void 0),__decorate([C(cc.Node)],t.prototype,"btnSevenDayLogin",void 0),__decorate([C(cc.Label)],t.prototype,"labHighScore",void 0),t=__decorate([y],t)}(o.default);n.default=I,cc._RF.pop()},{"../Common/C":"C","../Common/E":"E","../Common/UserDataMgr":"UserDataMgr","../Game/TipsMgr":"TipsMgr","../Tools/CCCWXMiniGameSDKMgr":"CCCWXMiniGameSDKMgr","../Tools/FYAudioCtl":"FYAudioCtl","../Tools/FYBaseUIPanel":"FYBaseUIPanel","../Tools/FYGlobalVarMgr":"FYGlobalVarMgr","../Tools/FYSDKMgr":"FYSDKMgr","../Tools/FYUIMgr":"FYUIMgr","../Tools/FYUtility":"FYUtility"}],UIPausePanel:[function(e,t,n){"use strict";cc._RF.push(t,"a32b7fCOjBNRKibeo7gI7Av","UIPausePanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYBaseUIPanel"),a=e("../Tools/FYUIMgr"),s=e("../Common/E"),c=e("../Tools/FYMessenger"),i=e("../Tools/FYAudioCtl"),r=e("../Common/UserDataMgr"),l=e("../Game/RecordMgr"),u=cc._decorator,d=u.ccclass,p=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnContinue=null,t.btnRestart=null,t.btnExit=null,t}return __extends(t,e),t.prototype.addListener=function(){e.prototype.addListener.call(this),this.btnContinue.on(cc.Node.EventType.TOUCH_END,this.onClickContinue,this),this.btnRestart.on(cc.Node.EventType.TOUCH_END,this.onClickRestart,this),this.btnExit.on(cc.Node.EventType.TOUCH_END,this.onClickExit,this)},t.prototype.removeListener=function(){e.prototype.removeListener.call(this),this.btnContinue.off(cc.Node.EventType.TOUCH_END,this.onClickContinue,this),this.btnRestart.off(cc.Node.EventType.TOUCH_END,this.onClickRestart,this),this.btnExit.off(cc.Node.EventType.TOUCH_END,this.onClickExit,this)},t.prototype.onShow=function(e,t){},t.prototype.onClickContinue=function(){i.default.Instance.playSound(s.E.Sound.BtnClick),a.default.Instance.close(s.E.UIName.UIPausePanel)},t.prototype.onClickRestart=function(){i.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.send(s.E.MsgType.Restart),a.default.Instance.close(s.E.UIName.UIPausePanel)},t.prototype.onClickExit=function(){r.default.Instance.bPlaying=!1,l.default.Instance.clearRecord(),i.default.Instance.playSound(s.E.Sound.BtnClick),a.default.Instance.show(s.E.UIName.UIMainMenuPanel),a.default.Instance.close(s.E.UIName.UIPausePanel),a.default.Instance.close(s.E.UIName.UIGamePanel)},t.prototype.onLoad=function(){},t.prototype.start=function(){},__decorate([p(cc.Node)],t.prototype,"btnContinue",void 0),__decorate([p(cc.Node)],t.prototype,"btnRestart",void 0),__decorate([p(cc.Node)],t.prototype,"btnExit",void 0),t=__decorate([d],t)}(o.default);n.default=f,cc._RF.pop()},{"../Common/E":"E","../Common/UserDataMgr":"UserDataMgr","../Game/RecordMgr":"RecordMgr","../Tools/FYAudioCtl":"FYAudioCtl","../Tools/FYBaseUIPanel":"FYBaseUIPanel","../Tools/FYMessenger":"FYMessenger","../Tools/FYUIMgr":"FYUIMgr"}],UIPrizePanel:[function(e,t,n){"use strict";cc._RF.push(t,"ff4383eqVROmZrWksLeZ04y","UIPrizePanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYBaseUIPanel"),a=e("../Tools/FYUtility"),s=e("../Tools/FYAudioCtl"),c=e("../Common/E"),i=e("../Tools/FYUIMgr"),r=e("../Common/UserDataMgr"),l=e("../Game/TipsMgr"),u=e("../Tools/FYMessenger"),d=e("../Common/C"),p=cc._decorator,f=p.ccclass,h=p.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.circle=null,t.btnPrize=null,t.btnClose=null,t.labPrize=null,t._index=0,t.isMoving=!1,t.bEnding=!1,t.rewards=["1\u7b49\u5956","2\u7b49\u5956","3\u7b49\u5956","4\u7b49\u5956","5\u7b49\u5956","6\u7b49\u5956"],t}return __extends(t,e),t.prototype.addListener=function(){e.prototype.addListener.call(this),this.btnClose.on(cc.Node.EventType.TOUCH_END,this.onClickBtnClose,this),this.btnPrize.on(cc.Node.EventType.TOUCH_END,this.onClickBtnPrize,this),u.default.Instance.add(c.E.MsgType.PaySuccess,this.onPaySuccess,this)},t.prototype.removeListener=function(){e.prototype.removeListener.call(this),this.btnClose.off(cc.Node.EventType.TOUCH_END,this.onClickBtnClose,this),this.btnPrize.on(cc.Node.EventType.TOUCH_END,this.onClickBtnPrize,this),u.default.Instance.remove(c.E.MsgType.PaySuccess,this.onPaySuccess,this)},t.prototype.onShow=function(){d.default.BCanPayVersion||(this.labPrize.string="0$")},t.prototype.onClickBtnClose=function(){s.default.Instance.playSound(c.E.Sound.BtnClick),i.default.Instance.close(c.E.UIName.UIPrizePanel)},t.prototype.onClickBtnPrize=function(){if(s.default.Instance.playSound(c.E.Sound.BtnClick),!this.isMoving)if(d.default.BCanPayVersion){if(d.default.BQuickSDKVersion){r.default.Instance.onQuickSDKPay(c.E.PayGoodsId.goodsPrice,1,"0.5","\u8f6c\u76d8\u62bd\u5956","\u8f6c\u76d8\u62bd\u5956")}else if(d.default.BSoEasySDKVersion){r.default.Instance.onSoEasySDKPay("1014",50,"\u8f6c\u76d8\u62bd\u5956")}}else this.StartMove()},t.prototype.onPaySuccess=function(e,t){c.E.PayGoodsId.goodsPrice==t&&this.StartMove()},t.prototype.StartMove=function(){if(!this.isMoving){var e=a.default.getRangeRandom(1,100);e>=1&&e<=30?this._index=0:e>=31&&e<=34?this._index=1:e>=35&&e<=64?this._index=2:e>=65&&e<=67?this._index=3:e>=68&&e<=97?this._index=4:e>=98&&e<=100&&(this._index=5),cc.log("\u606d\u559c\u4f60\u83b7\u5f97"+this.rewards[this._index]),this.isMoving=!0;var t=this.circle.rotation%360,n=-360/this.rewards.length*this._index-t,o=cc.rotateBy(8,360*this.rewards.length+n),s=(o.easing(cc.easeCubicActionOut()),cc.sequence(o,cc.callFunc(function(){this.endMove()}.bind(this))));this.circle.runAction(s)}},t.prototype.endMove=function(){this.bEnding||(this.bEnding=!0,cc.log("===============endMove!!!!!!!!!!!!!!================"),this.isMoving=!1,this.bEnding=!1,this.showGetReward())},t.prototype.showGetReward=function(){var e=this._index+1;cc.log("showGetReward",e);var t="";switch(e){case 1:r.default.Instance.PropBombNum=r.default.Instance.PropBombNum+1,t="\u83b7\u5f97\u70b8\u5f39 X1";break;case 2:r.default.Instance.PropChangeNum=r.default.Instance.PropChangeNum+3,t="\u83b7\u5f97\u9065\u63a7\u6570\u5b57 X3";break;case 3:r.default.Instance.PropEliminateNum=r.default.Instance.PropEliminateNum+1,t="\u83b7\u5f97\u6d88\u4e8c\u884c X1";break;case 4:r.default.Instance.PropBombNum=r.default.Instance.PropBombNum+1,t="\u83b7\u5f97\u70b8\u5f39 X3";break;case 5:r.default.Instance.PropChangeNum=r.default.Instance.PropChangeNum+3,t="\u83b7\u5f97\u9065\u63a7\u6570\u5b57 X1";break;case 6:r.default.Instance.PropEliminateNum=r.default.Instance.PropEliminateNum+1,t="\u83b7\u5f97\u6d88\u4e8c\u884c X3"}l.default.Instance.showTips(t)},__decorate([h(cc.Node)],t.prototype,"circle",void 0),__decorate([h(cc.Node)],t.prototype,"btnPrize",void 0),__decorate([h(cc.Node)],t.prototype,"btnClose",void 0),__decorate([h(cc.Label)],t.prototype,"labPrize",void 0),t=__decorate([f],t)}(o.default);n.default=y,cc._RF.pop()},{"../Common/C":"C","../Common/E":"E","../Common/UserDataMgr":"UserDataMgr","../Game/TipsMgr":"TipsMgr","../Tools/FYAudioCtl":"FYAudioCtl","../Tools/FYBaseUIPanel":"FYBaseUIPanel","../Tools/FYMessenger":"FYMessenger","../Tools/FYUIMgr":"FYUIMgr","../Tools/FYUtility":"FYUtility"}],UIPropRevivePanel:[function(e,t,n){"use strict";cc._RF.push(t,"d6bbaNc9dhAD5Zj2FQtEh7V","UIPropRevivePanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYBaseUIPanel"),a=e("../Tools/FYUIMgr"),s=e("../Common/E"),c=e("../Tools/FYMessenger"),i=e("../Common/UserDataMgr"),r=e("../Common/C"),l=e("../Game/TipsMgr"),u=e("../Tools/CCCWXMiniGameSDKMgr"),d=e("../Tools/FYAudioCtl"),p=e("../Tools/FYUtility"),f=cc._decorator,h=f.ccclass,y=f.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnClose=null,t.btnRevive=null,t.btnInvite=null,t.labPropNum=null,t}return __extends(t,e),t.prototype.addListener=function(){e.prototype.addListener.call(this),this.btnClose.on(cc.Node.EventType.TOUCH_END,this.onClickClose,this),this.btnRevive.on(cc.Node.EventType.TOUCH_END,this.onClickRevive,this),this.btnInvite.on(cc.Node.EventType.TOUCH_END,this.onClickInvite,this),c.default.Instance.add(s.E.MsgType.ChangePropNum,this.refreshPropNum,this)},t.prototype.removeListener=function(){e.prototype.removeListener.call(this),this.btnClose.off(cc.Node.EventType.TOUCH_END,this.onClickClose,this),this.btnRevive.off(cc.Node.EventType.TOUCH_END,this.onClickRevive,this),this.btnInvite.off(cc.Node.EventType.TOUCH_END,this.onClickInvite,this),c.default.Instance.remove(s.E.MsgType.ChangePropNum,this.refreshPropNum,this)},t.prototype.refreshPropNum=function(){this.labPropNum.string=i.default.Instance.PropReviveNum+"/"+r.default.PROP_REVIVE_MAX_VALUE+"\u4e2a"},t.prototype.onShow=function(e,t){this.refreshPropNum()},t.prototype.onClickClose=function(){d.default.Instance.playSound(s.E.Sound.BtnClick),a.default.Instance.close(s.E.UIName.UIPropRevivePanel)},t.prototype.onClickRevive=function(){d.default.Instance.playSound(s.E.Sound.BtnClick),i.default.Instance.PropReviveOneTurnNum>=r.default.PROP_REVIVE_ONE_TURN_USE_MAX_VALUE?l.default.Instance.showTips("\u9053\u5177\u4f7f\u7528\u6b21\u6570\u8fbe\u5230\u4e0a\u9650\uff01"):i.default.Instance.PropReviveNum<=0?l.default.Instance.showTips("\u65e0\u9053\u5177\uff01"):(i.default.Instance.PropReviveNum--,i.default.Instance.PropReviveOneTurnNum++,c.default.Instance.send(s.E.MsgType.Revive),a.default.Instance.close(s.E.UIName.UIPropRevivePanel),a.default.Instance.close(s.E.UIName.UIGameOverPanel))},t.prototype.onClickInvite=function(){if(d.default.Instance.playSound(s.E.Sound.BtnClick),u.default.Instance.wxIsWx()){var e=p.default.getRangeRandom(0,100),t=e<=50?u.default.Instance.ShareTitle:u.default.Instance.ShareTitle2,n=e<=50?u.default.Instance.SharePicPath:u.default.Instance.SharePicPath2;u.default.Instance.wxShareAppMessage(t,n,"",function(e,t){}),i.default.Instance.PropReviveNum>=r.default.PROP_REVIVE_MAX_VALUE?l.default.Instance.showTips("\u9053\u5177\u8fbe\u5230\u4e0a\u9650\uff01"):(i.default.Instance.PropReviveNum++,l.default.Instance.showTips("\u83b7\u5f97 \u590d\u6d3b X1"))}else i.default.Instance.PropReviveNum>=r.default.PROP_REVIVE_MAX_VALUE?l.default.Instance.showTips("\u9053\u5177\u8fbe\u5230\u4e0a\u9650\uff01"):(i.default.Instance.PropReviveNum++,l.default.Instance.showTips("\u83b7\u5f97 \u590d\u6d3b X1"))},t.prototype.onLoad=function(){},t.prototype.start=function(){},__decorate([y(cc.Node)],t.prototype,"btnClose",void 0),__decorate([y(cc.Node)],t.prototype,"btnRevive",void 0),__decorate([y(cc.Node)],t.prototype,"btnInvite",void 0),__decorate([y(cc.Label)],t.prototype,"labPropNum",void 0),t=__decorate([h],t)}(o.default);n.default=C,cc._RF.pop()},{"../Common/C":"C","../Common/E":"E","../Common/UserDataMgr":"UserDataMgr","../Game/TipsMgr":"TipsMgr","../Tools/CCCWXMiniGameSDKMgr":"CCCWXMiniGameSDKMgr","../Tools/FYAudioCtl":"FYAudioCtl","../Tools/FYBaseUIPanel":"FYBaseUIPanel","../Tools/FYMessenger":"FYMessenger","../Tools/FYUIMgr":"FYUIMgr","../Tools/FYUtility":"FYUtility"}],UIRankPanel:[function(e,t,n){"use strict";cc._RF.push(t,"783643lXmFJeIdvthUZpnoR","UIRankPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYBaseUIPanel"),a=e("../Tools/FYUIMgr"),s=e("../Common/E"),c=e("../Tools/FYMessenger"),i=e("../Tools/CCCWXMiniGameSDKMgr"),r=e("../Tools/FYAudioCtl"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labRank=null,t.btnClose=null,t.btnPlay=null,t.btnCheckGroupRank=null,t.nodeMove=null,t}return __extends(t,e),t.prototype.addListener=function(){e.prototype.addListener.call(this),this.btnClose.on(cc.Node.EventType.TOUCH_END,this.onClickBtnClose,this),this.btnPlay.on(cc.Node.EventType.TOUCH_END,this.onClickBtnPlay,this),this.btnCheckGroupRank.on(cc.Node.EventType.TOUCH_END,this.onClickBtnCheckGroupRank,this)},t.prototype.removeListener=function(){e.prototype.removeListener.call(this),this.btnClose.off(cc.Node.EventType.TOUCH_END,this.onClickBtnClose,this),this.btnPlay.off(cc.Node.EventType.TOUCH_END,this.onClickBtnPlay,this),this.btnCheckGroupRank.off(cc.Node.EventType.TOUCH_END,this.onClickBtnCheckGroupRank,this)},t.prototype.onShow=function(e,t){var n=t[0];if(n==s.E.RankType.Friend)this.labRank.string="\u597d\u53cb\u6392\u884c",console.log("-------------------------- ShowFriendRank"),i.default.Instance.wxPostMessage(s.E.ToChildProgramMsgName.ShowFriendRank,null);else if(n==s.E.RankType.Group){this.labRank.string="\u7fa4\u6392\u884c\u699c";var o=t[1];console.log("-------------------------- ShowGroupRank shareTicket = "+o),i.default.Instance.wxPostMessage(s.E.ToChildProgramMsgName.ShowGroupRank,o)}this.btnCheckGroupRank.active=n==s.E.RankType.Friend,this.btnPlay.active=n==s.E.RankType.Group},t.prototype.onClickBtnClose=function(){r.default.Instance.playSound(s.E.Sound.BtnClick),a.default.Instance.close(s.E.UIName.UIRankPanel)},t.prototype.onClickBtnPlay=function(){r.default.Instance.playSound(s.E.Sound.BtnClick),a.default.Instance.close(s.E.UIName.UIRankPanel),a.default.Instance.close(s.E.UIName.UIMainMenuPanel),a.default.Instance.show(s.E.UIName.UIGamePanel)},t.prototype.onClickBtnCheckGroupRank=function(){r.default.Instance.playSound(s.E.Sound.BtnClick),i.default.Instance.wxShareAppMessage("\u7fa4\u6392\u884c",i.default.Instance.SharePicPath,"form="+s.E.ShareState.GroupRank,function(e){})},t.prototype.onLoad=function(){cc.sys.platform==cc.sys.WECHAT_GAME&&this.nodeMove.setPosition(this.nodeMove.position.x,50)},t.prototype.start=function(){},t.prototype.onEnable=function(){e.prototype.onEnable.call(this),c.default.Instance.send(s.E.MsgType.ShowRank)},t.prototype.onDisable=function(){e.prototype.onDisable.call(this),c.default.Instance.send(s.E.MsgType.HideRank)},__decorate([d(cc.Label)],t.prototype,"labRank",void 0),__decorate([d(cc.Node)],t.prototype,"btnClose",void 0),__decorate([d(cc.Node)],t.prototype,"btnPlay",void 0),__decorate([d(cc.Node)],t.prototype,"btnCheckGroupRank",void 0),__decorate([d(cc.Node)],t.prototype,"nodeMove",void 0),t=__decorate([u],t)}(o.default);n.default=p,cc._RF.pop()},{"../Common/E":"E","../Tools/CCCWXMiniGameSDKMgr":"CCCWXMiniGameSDKMgr","../Tools/FYAudioCtl":"FYAudioCtl","../Tools/FYBaseUIPanel":"FYBaseUIPanel","../Tools/FYMessenger":"FYMessenger","../Tools/FYUIMgr":"FYUIMgr"}],UIRecordPanel:[function(e,t,n){"use strict";cc._RF.push(t,"5ea1eQAXk1JKLZNI2ghG0va","UIRecordPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYBaseUIPanel"),a=e("../Tools/FYAudioCtl"),s=e("../Common/E"),c=e("../Tools/FYUIMgr"),i=e("../Common/UserDataMgr"),r=e("../Game/RecordMgr"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnCancel=null,t.btnRestore=null,t}return __extends(t,e),t.prototype.addListener=function(){e.prototype.addListener.call(this),this.btnCancel.on(cc.Node.EventType.TOUCH_END,this.onClickBtnCancel,this),this.btnRestore.on(cc.Node.EventType.TOUCH_END,this.onClickBtnRestore,this)},t.prototype.removeListener=function(){e.prototype.removeListener.call(this),this.btnCancel.off(cc.Node.EventType.TOUCH_END,this.onClickBtnCancel,this),this.btnRestore.off(cc.Node.EventType.TOUCH_END,this.onClickBtnRestore,this)},t.prototype.onShow=function(e,t){},t.prototype.onClickBtnCancel=function(){a.default.Instance.playSound(s.E.Sound.BtnClick),r.default.Instance.clearRecord(),c.default.Instance.close(s.E.UIName.UIRecordPanel)},t.prototype.onClickBtnRestore=function(){a.default.Instance.playSound(s.E.Sound.BtnClick),i.default.Instance.bNeedToRestoreGameData=!0,c.default.Instance.show(s.E.UIName.UIGamePanel),c.default.Instance.close(s.E.UIName.UIMainMenuPanel),c.default.Instance.close(s.E.UIName.UIRankPanel)},t.prototype.onLoad=function(){},t.prototype.start=function(){},__decorate([d(cc.Node)],t.prototype,"btnCancel",void 0),__decorate([d(cc.Node)],t.prototype,"btnRestore",void 0),t=__decorate([u],t)}(o.default);n.default=p,cc._RF.pop()},{"../Common/E":"E","../Common/UserDataMgr":"UserDataMgr","../Game/RecordMgr":"RecordMgr","../Tools/FYAudioCtl":"FYAudioCtl","../Tools/FYBaseUIPanel":"FYBaseUIPanel","../Tools/FYUIMgr":"FYUIMgr"}],UIResultPanel:[function(e,t,n){"use strict";cc._RF.push(t,"1a91bKWPDBFWou4WtVhxx/S","UIResultPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYBaseUIPanel"),a=e("../Tools/FYUIMgr"),s=e("../Common/E"),c=e("../Tools/FYMessenger"),i=e("../Common/UserDataMgr"),r=e("../Tools/CCCWXMiniGameSDKMgr"),l=e("../Tools/FYAudioCtl"),u=e("../Tools/FYUtility"),d=cc._decorator,p=d.ccclass,f=d.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labScore=null,t.btnShowRank=null,t.btnShare=null,t.btnAgain=null,t.btnBackToMainMenu=null,t.nodeNewRecord=null,t}return __extends(t,e),t.prototype.addListener=function(){e.prototype.addListener.call(this),this.btnShowRank.on(cc.Node.EventType.TOUCH_END,this.onClickShowRank,this),this.btnShare.on(cc.Node.EventType.TOUCH_END,this.onClickShare,this),this.btnAgain.on(cc.Node.EventType.TOUCH_END,this.onClickAgain,this),this.btnBackToMainMenu.on(cc.Node.EventType.TOUCH_END,this.onClickBackToMainMenu,this),c.default.Instance.add(s.E.MsgType.NewRecord,this.onNewRecord,this)},t.prototype.removeListener=function(){e.prototype.removeListener.call(this),this.btnShowRank.off(cc.Node.EventType.TOUCH_END,this.onClickShowRank,this),this.btnShare.off(cc.Node.EventType.TOUCH_END,this.onClickShare,this),this.btnAgain.off(cc.Node.EventType.TOUCH_END,this.onClickAgain,this),this.btnBackToMainMenu.off(cc.Node.EventType.TOUCH_END,this.onClickBackToMainMenu,this),c.default.Instance.remove(s.E.MsgType.NewRecord,this.onNewRecord,this)},t.prototype.refreshScore=function(){this.labScore.string=i.default.Instance.Score.toString()},t.prototype.onShow=function(e,t){this.refreshScore()},t.prototype.onClickShowRank=function(){l.default.Instance.playSound(s.E.Sound.BtnClick),a.default.Instance.show(s.E.UIName.UIRankPanel)},t.prototype.onClickShare=function(){l.default.Instance.playSound(s.E.Sound.BtnClick);var e=u.default.getRangeRandom(0,100),t=e<=50?r.default.Instance.ShareTitle:r.default.Instance.ShareTitle2,n=e<=50?r.default.Instance.SharePicPath:r.default.Instance.SharePicPath2;r.default.Instance.wxShareAppMessage(t,n,"",function(e){})},t.prototype.onClickAgain=function(){l.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.send(s.E.MsgType.Restart),a.default.Instance.close(s.E.UIName.UIResultPanel)},t.prototype.onClickBackToMainMenu=function(){l.default.Instance.playSound(s.E.Sound.BtnClick),a.default.Instance.show(s.E.UIName.UIMainMenuPanel),a.default.Instance.close(s.E.UIName.UIResultPanel),a.default.Instance.close(s.E.UIName.UIGamePanel)},t.prototype.onNewRecord=function(){this.nodeNewRecord.active=!0},t.prototype.onLoad=function(){cc.sys.platform==cc.sys.WECHAT_GAME&&(this.btnAgain.setPosition(this.btnAgain.position.x,-350),this.btnBackToMainMenu.setPosition(this.btnBackToMainMenu.position.x,-350))},t.prototype.start=function(){},t.prototype.onEnable=function(){e.prototype.onEnable.call(this),r.default.Instance.wxPostMessage(s.E.ToChildProgramMsgName.SetScore,i.default.Instance.Score),this.btnShare.active=i.default.Instance.bSwitch},__decorate([f(cc.Label)],t.prototype,"labScore",void 0),__decorate([f(cc.Node)],t.prototype,"btnShowRank",void 0),__decorate([f(cc.Node)],t.prototype,"btnShare",void 0),__decorate([f(cc.Node)],t.prototype,"btnAgain",void 0),__decorate([f(cc.Node)],t.prototype,"btnBackToMainMenu",void 0),__decorate([f(cc.Node)],t.prototype,"nodeNewRecord",void 0),t=__decorate([p],t)}(o.default);n.default=h,cc._RF.pop()},{"../Common/E":"E","../Common/UserDataMgr":"UserDataMgr","../Tools/CCCWXMiniGameSDKMgr":"CCCWXMiniGameSDKMgr","../Tools/FYAudioCtl":"FYAudioCtl","../Tools/FYBaseUIPanel":"FYBaseUIPanel","../Tools/FYMessenger":"FYMessenger","../Tools/FYUIMgr":"FYUIMgr","../Tools/FYUtility":"FYUtility"}],UISelectCubePanel:[function(e,t,n){"use strict";cc._RF.push(t,"7e0f6s97HBMk4Co4fQa3xrs","UISelectCubePanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYBaseUIPanel"),a=e("../Tools/FYUIMgr"),s=e("../Common/E"),c=e("../Tools/FYMessenger"),i=e("../Tools/FYAudioCtl"),r=e("../Common/C"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnClose=null,t.btnSelect2=null,t.btnSelect4=null,t.btnSelect8=null,t.btnSelect16=null,t.btnSelect32=null,t.btnSelect64=null,t.btnSelect128=null,t.btnSelect256=null,t.btnSelect512=null,t.btnSelect1024=null,t.btnSelect2048=null,t.btnSelect4096=null,t.btnSelect8192=null,t}return __extends(t,e),t.prototype.addListener=function(){e.prototype.addListener.call(this),this.btnClose.on(cc.Node.EventType.TOUCH_END,this.onClickBtnClose,this),this.btnSelect2.on(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect2,this),this.btnSelect4.on(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect4,this),this.btnSelect8.on(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect8,this),this.btnSelect16.on(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect16,this),this.btnSelect32.on(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect32,this),this.btnSelect64.on(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect64,this),this.btnSelect128.on(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect128,this),this.btnSelect256.on(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect256,this),this.btnSelect512.on(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect512,this),this.btnSelect1024.on(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect1024,this),this.btnSelect2048.on(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect2048,this),this.btnSelect4096.on(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect4096,this),this.btnSelect8192.on(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect8192,this)},t.prototype.removeListener=function(){e.prototype.removeListener.call(this),this.btnClose.off(cc.Node.EventType.TOUCH_END,this.onClickBtnClose,this),this.btnSelect2.off(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect2,this),this.btnSelect4.off(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect4,this),this.btnSelect8.off(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect8,this),this.btnSelect16.off(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect16,this),this.btnSelect32.off(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect32,this),this.btnSelect64.off(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect64,this),this.btnSelect128.off(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect128,this),this.btnSelect256.off(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect256,this),this.btnSelect512.off(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect512,this),this.btnSelect1024.off(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect1024,this),this.btnSelect2048.off(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect2048,this),this.btnSelect4096.off(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect4096,this),this.btnSelect8192.off(cc.Node.EventType.TOUCH_END,this.onClickBtnSelect8192,this)},t.prototype.onShow=function(e,t){},t.prototype.onClickBtnClose=function(){i.default.Instance.playSound(s.E.Sound.BtnClick),a.default.Instance.close(s.E.UIName.UISelectCubePanel)},t.prototype.onClickBtnSelect2=function(){i.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.send(s.E.MsgType.ChangeCubeNum,2),a.default.Instance.close(s.E.UIName.UISelectCubePanel)},t.prototype.onClickBtnSelect4=function(){i.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.send(s.E.MsgType.ChangeCubeNum,4),a.default.Instance.close(s.E.UIName.UISelectCubePanel)},t.prototype.onClickBtnSelect8=function(){i.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.send(s.E.MsgType.ChangeCubeNum,8),a.default.Instance.close(s.E.UIName.UISelectCubePanel)},t.prototype.onClickBtnSelect16=function(){i.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.send(s.E.MsgType.ChangeCubeNum,16),a.default.Instance.close(s.E.UIName.UISelectCubePanel)},t.prototype.onClickBtnSelect32=function(){i.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.send(s.E.MsgType.ChangeCubeNum,32),a.default.Instance.close(s.E.UIName.UISelectCubePanel)},t.prototype.onClickBtnSelect64=function(){i.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.send(s.E.MsgType.ChangeCubeNum,64),a.default.Instance.close(s.E.UIName.UISelectCubePanel)},t.prototype.onClickBtnSelect128=function(){i.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.send(s.E.MsgType.ChangeCubeNum,128),a.default.Instance.close(s.E.UIName.UISelectCubePanel)},t.prototype.onClickBtnSelect256=function(){i.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.send(s.E.MsgType.ChangeCubeNum,256),a.default.Instance.close(s.E.UIName.UISelectCubePanel)},t.prototype.onClickBtnSelect512=function(){i.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.send(s.E.MsgType.ChangeCubeNum,512),a.default.Instance.close(s.E.UIName.UISelectCubePanel)},t.prototype.onClickBtnSelect1024=function(){i.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.send(s.E.MsgType.ChangeCubeNum,1024),a.default.Instance.close(s.E.UIName.UISelectCubePanel)},t.prototype.onClickBtnSelect2048=function(){i.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.send(s.E.MsgType.ChangeCubeNum,2048),a.default.Instance.close(s.E.UIName.UISelectCubePanel)},t.prototype.onClickBtnSelect4096=function(){i.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.send(s.E.MsgType.ChangeCubeNum,4096),a.default.Instance.close(s.E.UIName.UISelectCubePanel)},t.prototype.onClickBtnSelect8192=function(){i.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.send(s.E.MsgType.ChangeCubeNum,8192),a.default.Instance.close(s.E.UIName.UISelectCubePanel)},t.prototype.onLoad=function(){},t.prototype.onEnable=function(){e.prototype.onEnable.call(this),this.btnSelect128.active=r.default.TestSwitch,this.btnSelect256.active=r.default.TestSwitch,this.btnSelect512.active=r.default.TestSwitch,this.btnSelect1024.active=r.default.TestSwitch,this.btnSelect2048.active=r.default.TestSwitch,this.btnSelect4096.active=r.default.TestSwitch,this.btnSelect8192.active=r.default.TestSwitch},t.prototype.start=function(){},__decorate([d(cc.Node)],t.prototype,"btnClose",void 0),__decorate([d(cc.Node)],t.prototype,"btnSelect2",void 0),__decorate([d(cc.Node)],t.prototype,"btnSelect4",void 0),__decorate([d(cc.Node)],t.prototype,"btnSelect8",void 0),__decorate([d(cc.Node)],t.prototype,"btnSelect16",void 0),__decorate([d(cc.Node)],t.prototype,"btnSelect32",void 0),__decorate([d(cc.Node)],t.prototype,"btnSelect64",void 0),__decorate([d(cc.Node)],t.prototype,"btnSelect128",void 0),__decorate([d(cc.Node)],t.prototype,"btnSelect256",void 0),__decorate([d(cc.Node)],t.prototype,"btnSelect512",void 0),__decorate([d(cc.Node)],t.prototype,"btnSelect1024",void 0),__decorate([d(cc.Node)],t.prototype,"btnSelect2048",void 0),__decorate([d(cc.Node)],t.prototype,"btnSelect4096",void 0),__decorate([d(cc.Node)],t.prototype,"btnSelect8192",void 0),t=__decorate([u],t)}(o.default);n.default=p,cc._RF.pop()},{"../Common/C":"C","../Common/E":"E","../Tools/FYAudioCtl":"FYAudioCtl","../Tools/FYBaseUIPanel":"FYBaseUIPanel","../Tools/FYMessenger":"FYMessenger","../Tools/FYUIMgr":"FYUIMgr"}],UISevenDayLoginPanel:[function(e,t,n){"use strict";cc._RF.push(t,"8027bNc3OFFapqNND6C6bvu","UISevenDayLoginPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYMessenger"),a=e("../Tools/FYUtility"),s=e("../Common/C"),c=e("../Common/E"),i=e("../Game/TipsMgr"),r=e("../Tools/FYBaseUIPanel"),l=e("../Tools/FYUIMgr"),u=e("../Common/UserDataMgr"),d=cc._decorator,p=d.ccclass,f=d.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeHadSign=null,t.nodeNoSign=null,t.btnSign=null,t.nodeListReward=[],t.nodeMove=null,t.SevenDayLoginInfo=null,t}return __extends(t,e),t.prototype.sign=function(e){var t=u.default.Instance.SevenDayLoginTimes,n=Number(t)+1;n=(n+7)%7;var a="";for(var s in e){var r=e[s];if(r){var l=r.item_id,d=r.item_num,p=u.default.Instance.getPropTypeByPropId(l),f=0,h=0;p==c.E.PropType.Bomb?(f=u.default.Instance.PropBombNum,h=Number(f)+1*d,u.default.Instance.initPropBombNum(h),a="\u83b7\u5f97\u9053\u5177\u70b8\u5f39\u4e00\u4e2a"):p==c.E.PropType.ChangeNum?(f=u.default.Instance.PropChangeNum,h=Number(f)+1*d,u.default.Instance.initPropChangeNum(h),a="\u83b7\u5f97\u9053\u5177\u9ab0\u5b50\u4e00\u4e2a"):p==c.E.PropType.TopTwoRowEliminate&&(f=u.default.Instance.PropEliminateNum,h=Number(f)+1*d,u.default.Instance.initPropEliminate(h),a="\u83b7\u5f97\u9053\u5177\u6d88\u884c\u4e00\u4e2a"),o.default.Instance.send(c.E.MsgType.ChangePropNum)}}5==n?i.default.Instance.showTips("\u83b7\u5f97\u9053\u5177\u70b8\u5f39\uff0c\u9ab0\u5b50\u5404\u4e00\u4e2a"):6==n?i.default.Instance.showTips("\u83b7\u5f97\u9053\u5177\u70b8\u5f39\uff0c\u9ab0\u5b50\uff0c\u6d88\u884c\u5404\u4e00\u4e2a"):i.default.Instance.showTips(a),console.log("--------sign succed--------------",n)},t.prototype.clickSign=function(){var e=this,t=s.default.ServerURL,n={action:2002,data:{display_id:u.default.Instance.UId}},o=JSON.stringify(n);a.default.httpPost(t,o,function(t){console.log("===========on Get SevenDay Login Info!===========",t);var n=t.code;0==n&&(e.SevenDayLoginInfo=t.data,u.default.Instance.SevenDayLoginToday=!0,u.default.Instance.SevenDayLoginTimes=e.SevenDayLoginInfo.login_time,null!=e.SevenDayLoginInfo&&(e.sign(e.SevenDayLoginInfo.awards),e.refreshUI()))})},t.prototype.clickClose=function(){l.default.Instance.hide(c.E.UIName.UISevenDayLoginPanel)},t.prototype.setItem=function(e){var t=Number(e),n=this.nodeListReward[t],o=-1;o=u.default.Instance.SevenDayLoginTimes,t<=(o=Number(o)-1)?(n.getChildByName("bgSign").active=!1,n.getChildByName("bgCantSign").active=!0,n.getChildByName("hadSign").active=!0):(console.log("--------index-signIndex-",t,o),t==o?(n.getChildByName("bgSign").active=!1,n.getChildByName("bgCantSign").active=!0,n.getChildByName("hadSign").active=u.default.Instance.SevenDayLoginToday):(n.getChildByName("bgSign").active=!0,n.getChildByName("bgCantSign").active=!1,n.getChildByName("hadSign").active=!1))},t.prototype.refreshUI=function(){var e=u.default.Instance.SevenDayLoginToday;for(var t in 0==e?(this.nodeHadSign.active=!1,this.nodeNoSign.active=!0,console.log("-----\u53ef\u4ee5\u7b7e\u5230-===-----")):(this.nodeHadSign.active=!0,this.nodeNoSign.active=!1,console.log("-----\u5df2\u7ecf\u7b7e\u5230-===-----")),this.nodeListReward)this.setItem(t)},t.prototype.onEnable=function(){this.refreshUI()},t.prototype.onDisable=function(){},t.prototype.onLoad=function(){cc.sys.platform==cc.sys.WECHAT_GAME&&this.nodeMove.setPosition(this.nodeMove.position.x,100)},__decorate([f({type:cc.Node,displayName:"\u5df2\u7b7e\u5230\u6309\u94ae\u9762\u677f",tooltip:"\u5df2\u7b7e\u5230\u6309\u94ae\u9762\u677f"})],t.prototype,"nodeHadSign",void 0),__decorate([f({type:cc.Node,displayName:"\u5f85\u7b7e\u5230\u6309\u94ae\u9762\u677f",tooltip:"\u5f85\u7b7e\u5230\u6309\u94ae\u9762\u677f"})],t.prototype,"nodeNoSign",void 0),__decorate([f({type:cc.Node,displayName:"\u7b7e\u5230\u6309\u94ae",tooltip:"\u7b7e\u5230\u6309\u94ae"})],t.prototype,"btnSign",void 0),__decorate([f({type:Array(cc.Node),displayName:"\u5956\u52b1item\u5217\u8868",tooltip:"\u5956\u52b1item\u5217\u8868"})],t.prototype,"nodeListReward",void 0),__decorate([f({type:cc.Node,displayName:"\u53ef\u79fb\u52a8\u8282\u70b9",tooltip:"\u53ef\u79fb\u52a8\u8282\u70b9"})],t.prototype,"nodeMove",void 0),t=__decorate([p],t)}(r.default);n.default=h,cc._RF.pop()},{"../Common/C":"C","../Common/E":"E","../Common/UserDataMgr":"UserDataMgr","../Game/TipsMgr":"TipsMgr","../Tools/FYBaseUIPanel":"FYBaseUIPanel","../Tools/FYMessenger":"FYMessenger","../Tools/FYUIMgr":"FYUIMgr","../Tools/FYUtility":"FYUtility"}],UIShareTipsPanel:[function(e,t,n){"use strict";cc._RF.push(t,"2f50c4rZwlEnIKd2okQVcMP","UIShareTipsPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYBaseUIPanel"),a=e("../Tools/FYAudioCtl"),s=e("../Common/E"),c=e("../Tools/FYUIMgr"),i=cc._decorator,r=i.ccclass,l=i.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnCancel=null,t}return __extends(t,e),t.prototype.addListener=function(){e.prototype.addListener.call(this),this.btnCancel.on(cc.Node.EventType.TOUCH_END,this.onClickBtnCancel,this)},t.prototype.removeListener=function(){e.prototype.removeListener.call(this),this.btnCancel.off(cc.Node.EventType.TOUCH_END,this.onClickBtnCancel,this)},t.prototype.onShow=function(e,t){},t.prototype.onClickBtnCancel=function(){a.default.Instance.playSound(s.E.Sound.BtnClick),c.default.Instance.close(s.E.UIName.UIShareTipsPanel)},__decorate([l(cc.Node)],t.prototype,"btnCancel",void 0),t=__decorate([r],t)}(o.default);n.default=u,cc._RF.pop()},{"../Common/E":"E","../Tools/FYAudioCtl":"FYAudioCtl","../Tools/FYBaseUIPanel":"FYBaseUIPanel","../Tools/FYUIMgr":"FYUIMgr"}],UserDataMgr:[function(e,t,n){"use strict";cc._RF.push(t,"4bca2QydktEMqi8bRsaXLp1","UserDataMgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYSDKMgr"),a=e("../Tools/FYMessenger"),s=e("./E"),c=e("./C"),i=e("../Tools/CCCWXMiniGameSDKMgr"),r=e("../Tools/FYUtility"),l=e("../Game/TipsMgr"),u=e("../Tools/FYScheduleCtl"),d=cc._decorator,p=d.ccclass,f=(d.property,function(){function e(){this._sUId="",this._nScore=-1,this._nMaxScore=-1,this._nMaxScoreTime=0,this._nPropBombNum=c.default.TestSwitch||c.default.CloseAllSDKFunctionSwitch?-1:0,this._nPropChangeNum=c.default.TestSwitch||c.default.CloseAllSDKFunctionSwitch?-1:0,this._nPropEliminate=c.default.TestSwitch||c.default.CloseAllSDKFunctionSwitch?-1:0,this._nPropReviveNum=-1,this._sevenDayLoginTimes=-1,this._bsevenDayLoginToday=!1,this._sQuickSDKUid="",this._sQuickSDKUserName="",this.PropBombOneTurnNum=0,this.PropChangeOneTurnNum=0,this.PropEliminateOneTurnNum=0,this.PropReviveOneTurnNum=0,this.WatchADReviveOneTurnNum=0,this.ExchargeReviveOneTurnNum=0,this.listBuyPropOneTurnNum={},this.bPlaying=!1,this.bNeedToRestoreGameData=!1,this.bSwitch=!1,this.bWeChatAdOpenState=!1,this.bWeChatShareOpenState=!1,this.quickSDKProductCode="23107749060833699642926657926379",this.quickSDKProductKey="68046536",this.quickSDKChannelId="",this.curOrderId=null,this.curPayGoodsId=null,this.curNextCube=null}var t;return t=e,Object.defineProperty(e.prototype,"UId",{get:function(){return this._sUId},set:function(e){e!=this._sUId&&(this._sUId=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Score",{get:function(){return this._nScore},set:function(e){e!=this._nScore&&(this._nScore=e,a.default.Instance.send(s.E.MsgType.RefreshScore),this._nScore>this.MaxScore&&(this.MaxScore=this._nScore))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MaxScore",{get:function(){return(c.default.TestSwitch||c.default.CloseAllSDKFunctionSwitch)&&this._nMaxScore<0&&(this._nMaxScore=parseInt(o.default.Instance.loadLocalData(c.default.SAVEKEY_MAX_SCORE,"0"))),this._nMaxScore},set:function(e){var n=this;if(this._nMaxScore!=e)if(this._nMaxScore=Number(e),c.default.CloseAllSDKFunctionSwitch)o.default.Instance.saveLocalData(c.default.SAVEKEY_MAX_SCORE,this._nMaxScore.toString());else{var l={action:2005,data:{display_id:t.Instance.UId,score:e}},u=JSON.stringify(l);r.default.httpPost(c.default.ServerURL,u,function(e){console.log("===========on Update Score Info!===========",e),0==e.code&&(n.MaxScoreTime=r.default.getMonTimeByNowTime(),a.default.Instance.send(s.E.MsgType.NewRecord))}),i.default.Instance.wxPostMessage(s.E.ToChildProgramMsgName.SetScore,this._nMaxScore)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MaxScoreTime",{get:function(){return 0==this._nMaxScoreTime&&(this._nMaxScoreTime=parseInt(o.default.Instance.loadLocalData(c.default.SAVEKEY_MAX_SCORE_TIME,"0"))),this._nMaxScoreTime},set:function(e){this._nMaxScoreTime!=e&&(this._nMaxScoreTime=e,o.default.Instance.saveLocalData(c.default.SAVEKEY_MAX_SCORE_TIME,this._nMaxScoreTime.toString()))},enumerable:!0,configurable:!0}),e.prototype.initPropBombNum=function(e){this._nPropBombNum=e,a.default.Instance.send(s.E.MsgType.ChangePropNum)},Object.defineProperty(e.prototype,"PropBombNum",{get:function(){return(c.default.TestSwitch||c.default.CloseAllSDKFunctionSwitch)&&this._nPropBombNum<0&&(this._nPropBombNum=parseInt(o.default.Instance.loadLocalData(c.default.SAVEKEY_PROP_BOMB_NUM,"0"))),this._nPropBombNum},set:function(e){var n=this;if(this._nPropBombNum!=e)if(c.default.TestSwitch||c.default.CloseAllSDKFunctionSwitch)this._nPropBombNum=e,o.default.Instance.saveLocalData(c.default.SAVEKEY_PROP_BOMB_NUM,this._nPropBombNum.toString()),a.default.Instance.send(s.E.MsgType.ChangePropNum);else{var i={action:2004,data:{display_id:t.Instance.UId,type:e>this._nPropBombNum?0:1,item_id:2,item_num:Math.abs(e-this._nPropBombNum)}},l=JSON.stringify(i);r.default.httpPost(c.default.ServerURL,l,function(t){console.log("===========on Update Prop Info!===========",t),0==t.code&&(n._nPropBombNum=e,a.default.Instance.send(s.E.MsgType.ChangePropNum))})}},enumerable:!0,configurable:!0}),e.prototype.initPropChangeNum=function(e){this._nPropChangeNum=e,a.default.Instance.send(s.E.MsgType.ChangePropNum)},Object.defineProperty(e.prototype,"PropChangeNum",{get:function(){return(c.default.TestSwitch||c.default.CloseAllSDKFunctionSwitch)&&this._nPropChangeNum<0&&(this._nPropChangeNum=parseInt(o.default.Instance.loadLocalData(c.default.SAVEKEY_PROP_CHANGE_NUM,"0"))),this._nPropChangeNum},set:function(e){var n=this;if(this._nPropChangeNum!=e)if(c.default.TestSwitch||c.default.CloseAllSDKFunctionSwitch)this._nPropChangeNum=e,o.default.Instance.saveLocalData(c.default.SAVEKEY_PROP_CHANGE_NUM,this._nPropChangeNum.toString()),a.default.Instance.send(s.E.MsgType.ChangePropNum);else{var i={action:2004,data:{display_id:t.Instance.UId,type:e>this._nPropChangeNum?0:1,item_id:1,item_num:Math.abs(e-this._nPropChangeNum)}},l=JSON.stringify(i);r.default.httpPost(c.default.ServerURL,l,function(t){console.log("===========on Update Prop Info!===========",t),0==t.code&&(n._nPropChangeNum=e,a.default.Instance.send(s.E.MsgType.ChangePropNum))})}},enumerable:!0,configurable:!0}),e.prototype.initPropEliminate=function(e){this._nPropEliminate=e,a.default.Instance.send(s.E.MsgType.ChangePropNum)},Object.defineProperty(e.prototype,"PropEliminateNum",{get:function(){return(c.default.TestSwitch||c.default.CloseAllSDKFunctionSwitch)&&this._nPropEliminate<0&&(this._nPropEliminate=parseInt(o.default.Instance.loadLocalData(c.default.SAVEKEY_PROP_ELIMINATE_NUM,"0"))),this._nPropEliminate},set:function(e){var n=this;if(this._nPropEliminate!=e)if(c.default.TestSwitch||c.default.CloseAllSDKFunctionSwitch)this._nPropEliminate=e,o.default.Instance.saveLocalData(c.default.SAVEKEY_PROP_ELIMINATE_NUM,this._nPropEliminate.toString()),a.default.Instance.send(s.E.MsgType.ChangePropNum);else{var i={action:2004,data:{display_id:t.Instance.UId,type:e>this._nPropEliminate?0:1,item_id:3,item_num:Math.abs(e-this._nPropEliminate)}},l=JSON.stringify(i);r.default.httpPost(c.default.ServerURL,l,function(t){console.log("===========on Update Prop Info!===========",t),0==t.code&&(n._nPropEliminate=e,a.default.Instance.send(s.E.MsgType.ChangePropNum))})}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PropReviveNum",{get:function(){return this._nPropReviveNum<0&&(this._nPropReviveNum=parseInt(o.default.Instance.loadLocalData(c.default.SAVEKEY_PROP_REVIVE_NUM,"0"))),this._nPropReviveNum},set:function(e){this._nPropReviveNum!=e&&(this._nPropReviveNum=e,o.default.Instance.saveLocalData(c.default.SAVEKEY_PROP_REVIVE_NUM,this._nPropReviveNum.toString()),a.default.Instance.send(s.E.MsgType.ChangePropNum))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SevenDayLoginTimes",{get:function(){return this._sevenDayLoginTimes},set:function(e){this._sevenDayLoginTimes=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SevenDayLoginToday",{get:function(){return this._bsevenDayLoginToday},set:function(e){this._bsevenDayLoginToday=e},enumerable:!0,configurable:!0}),e.prototype.getPropTypeByPropId=function(e){var t=s.E.PropType.Bomb;switch(e){case 1:t=s.E.PropType.ChangeNum;break;case 2:t=s.E.PropType.Bomb;break;case 3:t=s.E.PropType.TopTwoRowEliminate}return t},e.prototype.wxCheckShareInfo=function(e,n){cc.sys.platform==cc.sys.WECHAT_GAME&&wx.getShareInfo({shareTicket:e,success:function(e){console.log("--------shareInfo-----------:",e);var o=e.encryptedData,a=e.iv;if(null!=o&&null!=a){var s=c.default.ServerURL,i={action:2007,data:{display_id:t.Instance.UId,encryptedData:o,iv:a}},u=JSON.stringify(i);r.default.httpPost(s,u,function(e){(console.log("===========check share!===========",e),0==e.code)&&(0==parseInt(e.data.already_shared)?n():l.default.Instance.showTips("\u8bf7\u5206\u4eab\u5230\u4e0d\u540c\u7684\u7fa4\uff01"))})}}})},e.prototype.onQuickSDKPay=function(e,n,o,a,s){var c={};c.productCode=t.Instance.quickSDKProductCode,c.uid=t.Instance.QuickSDKUid,c.userRoleId="roleId1",c.userRoleName=t.Instance.QuickSDKUserName,c.serverId=1,c.userServer="1",c.userLevel=1,c.cpOrderNo=Number(Math.random().toString().substr(3,length)+Date.now()).toString(36),c.amount=o,c.subject=a,c.desc=s,c.callbackUrl="https://xcx.api.1hocang.com/callback/quicksdk",c.extrasParams="",c.goodsId=e,c.count=n,c.quantifier="\u4e2a";var i=JSON.stringify(c);t.Instance.curOrderId=c.cpOrderNo,t.Instance.curPayGoodsId=c.goodsId,QuickSDK.pay(i,function(e){console.log("GameDemo:\u4e0b\u5355\u901a\u77e5"+JSON.stringify(e)),console.log("=====================paySDK Start================================",t.Instance.curOrderId),u.default.Instance.setSchedule(t.Instance.onPayOrderCheck,1,cc.macro.REPEAT_FOREVER)})},e.prototype.onSoEasySDKPay=function(e,n,a){if(c.default.BSoEasySDKVersion){"1001",10;var s=c.default.ServerURL,i={action:2009,data:{display_id:t.Instance.UId,feeid:"1001",fee:10}},u=JSON.stringify(i);r.default.httpPost(s,u,function(e){if(console.log("===========on Get ZmSDK Pay Info!===========",e),0==e.code){var n=e.data.signature,s=Number(Math.random().toString().substr(3,length)+Date.now()).toString(36),i={check:n,feeid:"1001",fee:10,feename:a,extradata:s,serverid:1,servername:"1",roleid:"1",rolename:"1"};console.log("ZmSDK payinfoDict:",i),t.Instance.curOrderId=s,t.Instance.curPayGoodsId="1001",ZmSdk.getInstance().pay(i,function(e){console.log("On ZmSdk Pay Success!",e);var n=e.retcode;0!=n&&3!=n||(o.default.Instance.saveLocalData(c.default.SAVEKEY_SDKPAYORDERID,t.Instance.curOrderId),o.default.Instance.saveLocalData(c.default.SAVEKEY_SDKPAYGOODSID,t.Instance.curPayGoodsId),console.log(o.default.Instance.loadLocalData(c.default.SAVEKEY_SDKPAYORDERID)))})}else l.default.Instance.showTips("\u670d\u52a1\u5668\u5931\u8d25!")})}},e.prototype.onPayOrderCheck=function(){var e={action:2008,data:{order_id:t.Instance.curOrderId,display_id:t.Instance.UId}},n=JSON.stringify(e);r.default.httpPost(c.default.ServerURL,n,function(e){0==e.code&&(0==e.data.status&&(u.default.Instance.cancelSchedule(t.Instance.onPayOrderCheck),console.log("=====================paySDK Success==============================="),a.default.Instance.send(s.E.MsgType.PaySuccess,t.Instance.curPayGoodsId)))})},Object.defineProperty(e.prototype,"QuickSDKUid",{get:function(){return this._sQuickSDKUid},set:function(e){e!=this._sQuickSDKUid&&(this._sQuickSDKUid=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"QuickSDKUserName",{get:function(){return this._sQuickSDKUserName},set:function(e){e!=this._sQuickSDKUserName&&(this._sQuickSDKUserName=e)},enumerable:!0,configurable:!0}),e.Instance=new t,e=t=__decorate([p],e)}());n.default=f,cc._RF.pop()},{"../Game/TipsMgr":"TipsMgr","../Tools/CCCWXMiniGameSDKMgr":"CCCWXMiniGameSDKMgr","../Tools/FYMessenger":"FYMessenger","../Tools/FYSDKMgr":"FYSDKMgr","../Tools/FYScheduleCtl":"FYScheduleCtl","../Tools/FYUtility":"FYUtility","./C":"C","./E":"E"}],WXMaskAdToGame:[function(e,t,n){"use strict";cc._RF.push(t,"909b4lvC9pO6q+u16s8+6zu","WXMaskAdToGame"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/FYUtility"),a=cc._decorator,s=a.ccclass,c=a.property,i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.layout=null,t.btnAdToGame=null,t.nodeMask=null,t.ads=[],t.adsArr=[],t}return __extends(t,e),t.prototype.init=function(e,t){this.ads=[],this.adsArr=e;var n=this;if(void 0!=e){console.log("adsInfo",e);for(var a=function(){e[c].openid=t.openid,e[c].user_id=t.user_id;var a=o.default.addChild(s.layout,s.btnAdToGame);a.active=!0;var i=a.getChildByName("Icon").getComponent(cc.Sprite);cc.loader.load({url:e[c].icon_img,type:"png"},function(e,t){var n=new cc.SpriteFrame(t);i.spriteFrame=n});var r=c;a.on(cc.Node.EventType.TOUCH_END,function(){console.log("self.adsInfo",n.adsArr),wx.request({url:"https://xcx.1hocang.com/index/addMenuStatistics",json:!0,method:"POST",data:{company_id:n.adsArr[r].company_id,user_id:n.adsArr[r].user_id,product_id:n.adsArr[r].product_id},success:function(e){}}),wx.navigateToMiniProgram({appId:n.adsArr[r].app_id,path:"?channelid=1013",envVersion:"release",success:function(e){}}),n.node.active=!1},s),s.ads.push(a)},s=this,c=0;c<e.length;c++)a()}},t.prototype.onEnable=function(){this.nodeMask.on(cc.Node.EventType.TOUCH_END,this.onClickMask,this)},t.prototype.onDisable=function(){this.nodeMask.off(cc.Node.EventType.TOUCH_END,this.onClickMask,this)},t.prototype.onDestroy=function(){},t.prototype.onClickMask=function(){this.node.active=!1},__decorate([c(cc.Node)],t.prototype,"layout",void 0),__decorate([c(cc.Node)],t.prototype,"btnAdToGame",void 0),__decorate([c(cc.Node)],t.prototype,"nodeMask",void 0),t=__decorate([s],t)}(cc.Component);n.default=i,cc._RF.pop()},{"../Tools/FYUtility":"FYUtility"}],WXMiniGameMain:[function(e,t,n){"use strict";cc._RF.push(t,"6c3f8b0iQZPt4wMd9YKxpoL","WXMiniGameMain"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tools/CCCWXMiniGameSDKMgr"),a=cc._decorator,s=a.ccclass,c=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){o.default.Instance.wxIsWx()&&sharedCanvas&&(sharedCanvas.width=2*cc.game.canvas.width,sharedCanvas.height=2*cc.game.canvas.height)},t=__decorate([s],t)}(cc.Component));n.default=c,cc._RF.pop()},{"../Tools/CCCWXMiniGameSDKMgr":"CCCWXMiniGameSDKMgr"}],WXMoveHotGame:[function(e,t,n){"use strict";cc._RF.push(t,"5594dB3AY9AHLZSZ9eLEc42","WXMoveHotGame"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=o.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeWxMask=null,t.moving=!1,t.playing=!1,t.touched=!1,t.left=!1,t.right=!1,t.startPos=null,t}return __extends(t,e),t.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this)},t.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this)},t.prototype.checkIsFingerOnAir=function(e,t){return!!(e>=this.node.position.x-30&&t>=this.node.position.y-30&&e<=this.node.position.x+this.node.width+30&&t<=this.node.position.y+this.node.height+30)},t.prototype.setAirPosAcrossFingerPosZ=function(e,t){var n,o,a=e-this.node.width/2,s=t-this.node.height/2;n=cc.director.getWinSize().width,o=cc.director.getWinSize().height,e<=0?a=-n/2+this.node.width/2:e>0&&(a=n/2-this.node.width/2),s<=0?s=0:s>o-this.node.height&&(s=o-this.node.height),this.node.position=new cc.Vec2(a,t)},t.prototype.touchStart=function(e){var t,n;if(t=cc.director.getWinSize().width,n=cc.director.getWinSize().height,this.node.position=new cc.Vec2(e.currentTouch.getLocation().x-t/2,e.currentTouch.getLocation().y-n/2),this.checkIsFingerOnAir(this.node.position.x,this.node.position.y)){this.touched=!0;var o=this;this.left&&setTimeout(function(){o.moving||(o.playing=!1)},150),this.right&&setTimeout(function(){o.moving||(o.playing=!1)},150)}this.node.position=new cc.Vec2(e.currentTouch.getLocation().x-t/2,e.currentTouch.getLocation().y-n/2),this.startPos=this.node.position},t.prototype.touchMove=function(e){this.moving=!0;var t,n;t=cc.director.getWinSize().width,n=cc.director.getWinSize().height,this.node.position=new cc.Vec2(e.currentTouch.getLocation().x-t/2,e.currentTouch.getLocation().y-n/2)},t.prototype.touchEnd=function(e){var t=cc.director.getWinSize().width,n=cc.director.getWinSize().height,o=new cc.Vec2(e.currentTouch.getLocation().x-t/2,e.currentTouch.getLocation().y-n/2);Math.sqrt((o.y-this.startPos.y)*(o.y-this.startPos.y)+(o.x-this.startPos.x)*(o.x-this.startPos.x))>=100?(this.moving=!1,this.touched&&(this.setAirPosAcrossFingerPosZ(this.node.position.x,this.node.position.y),this.touched=!1)):(this.nodeWxMask.active=!0,this.setAirPosAcrossFingerPosZ(this.node.position.x,this.node.position.y),console.log("-------------onClickHotGame--------------"))},t.prototype.onClickHotGame=function(){},__decorate([s(cc.Node)],t.prototype,"nodeWxMask",void 0),t=__decorate([a],t)}(cc.Component);n.default=c,cc._RF.pop()},{}]},{},["C","E","UserDataMgr","Demo","BeforeGame","Cube","CubeClear","CubeClearMgr","CubeInfo","CubeMgr","Game","RecordMgr","ScoreTween","ScoreTweenMgr","Tips","TipsMgr","JSTest","TSTest","CCCWXMiniGameSDKMgr","FYAudioCtl","FYBaseNode","FYBaseUIPanel","FYEffectControl","FYEffectItem","FYEffectMgr","FYGlobalVarMgr","FYLog","FYMessenger","FYResMgr","FYSDKMgr","FYSFMgr","FYScheduleCtl","FYSequenceFrameControl","FYTweenMgr","FYUIMgr","FYUtility","UIBuyPropPanel","UIFollowPanel","UIFollowTipsPanel","UIGameOverPanel","UIGamePanel","UIGiftPanel","UIHelpPanel","UILoadingPanel","UIMainMenuPanel","UIPausePanel","UIPrizePanel","UIPropRevivePanel","UIRankPanel","UIRecordPanel","UIResultPanel","UISelectCubePanel","UISevenDayLoginPanel","UIShareTipsPanel","WXMaskAdToGame","WXMiniGameMain","WXMoveHotGame"]);