window.__require=function t(e,i,o){function n(c,s){if(!i[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var p="function"==typeof __require&&__require;if(!s&&p)return p(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var l=i[c]={exports:{}};e[c][0].call(l.exports,function(t){return n(e[c][1][t]||t)},l,l.exports,t,e,i,o)}return i[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<o.length;c++)n(o[c]);return n}({ButtonScaler:[function(t,e){"use strict";cc._RF.push(e,"e20809HFXNJyrtGq0k6l3Hj","ButtonScaler"),cc.Class({extends:cc.Component,properties:{pressedScale:.8,transDuration:.1},onLoad:function(){this.initScale=this.node.scale,this.scaleDownAction=cc.scaleTo(this.transDuration,this.pressedScale),this.scaleUpAction=cc.scaleTo(this.transDuration,this.initScale),this.node.on("touchstart",this.onTouchDown,this),this.node.on("touchend",this.onTouchUp,this),this.node.on("touchcancel",this.onTouchUp,this)},onTouchDown:function(){this.node.stopAllActions(),this.node.runAction(this.scaleDownAction)},onTouchUp:function(){this.node.stopAllActions(),this.node.runAction(this.scaleUpAction)},onDestroy:function(){this.node.stopAllActions(),this.node.off("touchstart",this.onTouchDown,this.node),this.node.off("touchend",this.onTouchUp,this.node),this.node.off("touchcancel",this.onTouchUp,this.node)}}),cc._RF.pop()},{}],GameController:[function(t,e,i){"use strict";cc._RF.push(e,"c40ddg2WfRD0a6b4Bkn9wb1","GameController"),Object.defineProperty(i,"__esModule",{value:!0});var o=t("./GameUtils"),n=cc._decorator,r=n.ccclass,c=n.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.level=null,e.money=null,e.progressBar=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.level.string=o.default.userLevel+"",this.money.string=o.default.money+"",this.progressBar.width=o.default.userLevel/10*120},__decorate([c(cc.Label)],e.prototype,"level",void 0),__decorate([c(cc.Label)],e.prototype,"money",void 0),__decorate([c(cc.Node)],e.prototype,"progressBar",void 0),__decorate([r],e)}(cc.Component);i.default=s,cc._RF.pop()},{"./GameUtils":"GameUtils"}],GameScene:[function(t,e,i){"use strict";cc._RF.push(e,"0012dbW1o5MjpeB7f+ogfrM","GameScene");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,i,c):n(e,i))||c);return r>3&&c&&Object.defineProperty(e,i,c),c};Object.defineProperty(i,"__esModule",{value:!0});var c=t("./StarItem_Compontent"),s=t("./GameUtils"),a=cc._decorator,p=a.ccclass,l=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.curLevelScore=null,e.curLevelPopScore=null,e.otherscore=null,e.popscore=null,e.content=null,e.starPrefab=null,e.particle=null,e.blue=null,e.yellow=null,e.green=null,e.red=null,e.purple=null,e.blue_sp=null,e.green_sp=null,e.yellow_sp=null,e.red_sp=null,e.purple_sp=null,e.progressB=null,e.particleNode=null,e.gridData=[[]],e.gridStarUi=[[]],e.curlevelNum=0,e.curlevelPopNum=0,e}return n(e,t),e.prototype.onLoad=function(){this.initView(),this.initData();var t=this;this.content.on(cc.Node.EventType.TOUCH_START,function(e){var i=t.content.convertToNodeSpace(e.touch.getLocation());t.touchStar(parseInt(i.x/(t.content.width/t.len)+""),parseInt(i.y/(t.content.height/t.len)+""))})},e.prototype.calcRandomNumber=function(){var t=100*Math.random();return t<=20?1:t<=40&&t>20?2:t<=60&&t>40?3:t<=80&&t>60?4:t<=100&&t>80?5:void 0},e.prototype.startgame=function(){},e.prototype.initView=function(){this.initStatus(),this.initGrid()},e.prototype.initData=function(){},e.prototype.initStatus=function(){this.selected=!1,this.totalScore=0,this.connectStars=[]},e.prototype.initGrid=function(){this.len=s.default.gridSize,this.gridData=[],this.gridStarUi=[];for(var t=0;t<this.len;t++){this.gridData[t]=[],this.gridStarUi[t]=[];for(var e=0;e<this.len;e++){var i=cc.instantiate(this.starPrefab),o=i.getComponent(c.default);i.parent=this.content,o.setGridXY(t,e);var n=this.calcRandomNumber();o.setType(n),this.curlevelNum+=10*n,this.gridData[t][e]=n,this.gridStarUi[t][e]=i}}this.setCurLevelNUm()},e.prototype.touchStar=function(t,e){this.checkTouch(t,e),this.checkTouch(t,e)},e.prototype.checkTouch=function(t,e){if(this.selected)this.connectContain(t,e)?(this.cleanOnce(t,e),this.checkOVer(),this.selected=!1,this.popscore.active=!1):(this.setConnectStarSelect(!1),this.touchStar(t,e));else{if(0==this.gridData[t][e])return;this.connectStars=[[t,e]],console.log(this.connectStars),console.log(this.connectStars.length),console.log(this.connectStars[0]),this.checkStar(t,e),this.connectStars.length>=2&&(this.setConnectStarSelect(!0),this.targetButtonClick(t,e))}},e.prototype.setConnectStarSelect=function(t){for(var e=this.connectStars.length-1;e>=0;e--){var i=this.connectStars[e];this.gridStarUi[i[0]][i[1]].getComponent(c.default).setSelected(t)}this.selected=t},e.prototype.checkStar=function(t,e){for(var i=this.gridData[t][e],o=[[t+1,e],[t-1,e],[t,e-1],[t,e+1]],n=o.length-1;n>=0;n--){var r=o[n][0],c=o[n][1],s=this.isinGrid(r,c),a=this.connectContain(r,c);s&&this.gridData[r][c]==i&&!a&&(console.log(this.connectStars.length),this.connectStars[this.connectStars.length]=[r,c],this.checkStar(r,c))}},e.prototype.isinGrid=function(t,e){return t>=0&&t<this.len&&e>=0&&e<this.len},e.prototype.connectContain=function(t,e){for(var i=this.connectStars.length-1;i>=0;i--){var o=this.connectStars[i];if(o[0]==t&&o[1]==e)return!0}return!1},e.prototype.cleanOnce=function(){var t=this;if(this.calcCurtNum(),this.clearConnectStar(),this.fallDownStar(),this.fallLeftStar(),this.checkOVer()){cc.log("\u4e0d\u80fd\u5f80\u4e0b\u6d88\u9664\u4e86!!!");var e=this.checkCount(),i=new cc.Node;i.addComponent(cc.Label).string="\u8fd8\u5269\u4e0b:"+e+"\u4e2a\u661f\u661f",i.parent=this.content,cc.log("\u8fd8\u5269\u4e0b==="+e),this.scheduleOnce(function(){t.startClearNoPopStareffect()},1),this.scheduleOnce(function(){cc.director.loadScene("GameScene")},2)}},e.prototype.clearConnectStar=function(){for(var t=this.connectStars.length-1;t>=0;t--){var e=this.connectStars[t];this.stareffect(e,e[0],e[1]),this.popType=this.gridData[e[0]][e[1]],this.gridData[e[0]][e[1]]=0,this.gridStarUi[e[0]][e[1]].destroy()}if(this.connectStars.length>=5){var i=new cc.Node;i.addComponent(cc.Label).string="\u4f60\u5f88\u68d2\u68d2\u54e6!",this.node.addChild(i),i.runAction(cc.blink(2,10)),this.scheduleOnce(function(){i.destroy()},3)}},e.prototype.stareffect=function(t,e,i){var o=this,n=new cc.Node;n.position=this.gridStarUi[t[0]][t[1]].position,n.parent=this.content;var r=new cc.Node;r.position=this.gridStarUi[t[0]][t[1]].position,r.parent=this.content;var c=n.addComponent(cc.ParticleSystem),s=r.addComponent(cc.Sprite),a=this.curLevelPopScore.node.position;switch(a.x,this.progressB.getContentSize().width,r.runAction(cc.sequence(cc.moveTo(.7,a),cc.callFunc(function(){var t=cc.sequence(cc.scaleTo(.2,1.2,1.2),cc.scaleTo(.2,1,1),cc.callFunc(function(){o.updateTargetLabel(e,i)}));o.curLevelPopScore.node.runAction(t)}),cc.callFunc(function(){r.destroy()}))),c.file=this.particle,c.custom=!0,c.emissionRate=50,c.angle=270,c.startSize=60,c.angleVar=90,c.duration=.1,this.gridData[t[0]][t[1]]){case 1:c.texture=this.blue,s.spriteFrame=this.blue_sp;break;case 2:c.texture=this.yellow,s.spriteFrame=this.yellow_sp;break;case 3:c.texture=this.green,s.spriteFrame=this.green_sp;break;case 4:c.texture=this.red,s.spriteFrame=this.red_sp;break;case 5:c.texture=this.purple,s.spriteFrame=this.purple_sp}r.setContentSize(60,60),n.getComponent(cc.ParticleSystem).playOnLoad=!0},e.prototype.fallDownStar=function(){for(var t=0;t<this.len;t++)for(var e=0,i=0;i<this.len;i++)0==this.gridData[t][i]&&e++,e>0&&this.gridData[t][i]>0&&(this.gridData[t][i-e]=this.gridData[t][i],this.gridData[t][i]=0,this.gridStarUi[t][i].getComponent(c.default).goTo(t,i-e,.2),this.gridStarUi[t][i-e]=this.gridStarUi[t][i],this.gridStarUi[t][i]=null)},e.prototype.fallLeftStar=function(){for(var t=0,e=0;e<this.len;e++)if(0==this.gridData[e][0]&&(t++,console.log("-----------------"+t)),0!=this.gridData[e][0]&&0!=t)for(var i=0;i<this.len&&this.gridData[e][i]>0;i++)this.gridData[e-t][i]=this.gridData[e][i],this.gridData[e][i]=0,this.gridStarUi[e][i].getComponent(c.default).goTo(e-t,i,.3),this.gridStarUi[e-t][i]=this.gridStarUi[e][i],this.gridStarUi[e][i]=null},e.prototype.getStarType=function(){},e.prototype.setCurLevelNUm=function(){this.curLevelScore.string=this.curlevelNum*s.default.levelpopNum+""},e.prototype.targetButtonClick=function(t,e){this.popscore.active=!0;var i=this.gridData[t][e],o=this.connectStars.length;this.otherscore.string=10*i*o+""},e.prototype.updateTargetLabel=function(){this.curLevelPopScore.string=this.curlevelPopNum+"",this.curlevelPopNum+=10*this.popType,this.progressB.width=this.curlevelPopNum/this.curlevelNum*590},e.prototype.calcCurtNum=function(){var t=s.default.levelpopNum;if(cc.log(this.curlevelPopNum),cc.log(this.curlevelNum*t),this.curlevelPopNum>=this.curlevelNum*t&&!this.isok){this.isok=!0,cc.log("\u662f\u5426\u8fc7\u5173");var e=new cc.Node;e.addComponent(cc.Label).string="\u606d\u559c\u8fc7\u5173",this.node.addChild(e),this.scheduleOnce(function(){e.active=!1},3)}},e.prototype.checkOVer=function(){for(var t=0;t<this.len;t++)for(var e=0;e<this.len;e++){var i=this.gridData[t][e];if(0==i)break;for(var o=[[t+1,e],[t-1,e],[t,e-1],[t,e+1]],n=0;n<o.length;n++){var r=o[n][0],c=o[n][1];if(this.isinGrid(r,c)&&this.gridData[r][c]==i)return!1}}return!0},e.prototype.checkCount=function(){for(var t=0,e=0;e<this.len;e++)for(var i=0;i<this.len;i++)this.gridData[e][i]>0&&t++;return t},e.prototype.startClearNoPopStareffect=function(){for(var t=0;t<this.len;t++)for(var e=0;e<this.len;e++)if(this.gridData[t][e]>0){var i=new cc.Node;i.parent=this.content,i.position=this.gridStarUi[t][e].position;var o=i.addComponent(cc.ParticleSystem);switch(o.file=this.particle,o.custom=!0,o.emissionRate=50,o.angle=90,o.startSize=60,o.angleVar=90,o.duration=.1,this.gridData[t][e]){case 1:o.texture=this.blue;break;case 2:o.texture=this.yellow;break;case 3:o.texture=this.green;break;case 4:o.texture=this.red;break;case 5:o.texture=this.purple}i.getComponent(cc.ParticleSystem).playOnLoad=!0,this.gridData[t][e]=0,this.gridStarUi[t][e].destroy()}},e.prototype.popOtherStar=function(t,e,i){void 0===i&&(i=null);for(var o=0,n=0;n<this.len;n++){this.gridData[t][0]=0,0==this.gridData[t][0]&&o++;for(var r=0;r<this.len;r++)if(t==n&&(console.log(t,r),this.gridData[t][r]=0,this.gridStarUi[t][r]=null,this.fallLeftStar(),0!=this.gridData[t][0]&&0!=o))for(var s=0;s<this.len&&this.gridData[t][s]>0;s++)this.gridData[t-o][s]=this.gridData[t][s],this.gridData[t][s]=0,this.gridStarUi[t][s].getComponent(c.default).goTo(t-o,s,.3),this.gridStarUi[t-o][s]=this.gridStarUi[t][s],this.gridStarUi[t][s]=null}},r([l({type:cc.Label,displayName:"\u5f53\u524d\u5173\u5361\u5f97\u5206"})],e.prototype,"curLevelScore",void 0),r([l({type:cc.Label,displayName:"\u6d88\u9664\u5f97\u5206"})],e.prototype,"curLevelPopScore",void 0),r([l({type:cc.Label,displayName:"\u70b9\u51fb\u53ef\u4ee5\u83b7\u5f97\u5206\u6570"})],e.prototype,"otherscore",void 0),r([l({type:cc.Node,displayName:"popscore"})],e.prototype,"popscore",void 0),r([l({type:cc.Node,displayName:"Content"})],e.prototype,"content",void 0),r([l({type:cc.Prefab,displayName:"\u9884\u5236\u4f53"})],e.prototype,"starPrefab",void 0),r([l({type:cc.ParticleAsset,displayName:"\u7c92\u5b50\u6587\u4ef6"})],e.prototype,"particle",void 0),r([l({type:cc.Texture2D,displayName:"\u84dd\u8272"})],e.prototype,"blue",void 0),r([l({type:cc.Texture2D,displayName:"\u9ec4\u8272"})],e.prototype,"yellow",void 0),r([l({type:cc.Texture2D,displayName:"\u7eff\u8272"})],e.prototype,"green",void 0),r([l({type:cc.Texture2D,displayName:"\u7ea2\u8272"})],e.prototype,"red",void 0),r([l({type:cc.Texture2D,displayName:"\u7d2b\u8272"})],e.prototype,"purple",void 0),r([l({type:cc.SpriteFrame,displayName:"\u84dd\u8272"})],e.prototype,"blue_sp",void 0),r([l({type:cc.SpriteFrame,displayName:"\u9ec4\u8272"})],e.prototype,"green_sp",void 0),r([l({type:cc.SpriteFrame,displayName:"\u7eff\u8272"})],e.prototype,"yellow_sp",void 0),r([l({type:cc.SpriteFrame,displayName:"\u7ea2\u8272"})],e.prototype,"red_sp",void 0),r([l({type:cc.SpriteFrame,displayName:"\u7d2b\u8272"})],e.prototype,"purple_sp",void 0),r([l({type:cc.Node,displayName:"\u8fdb\u5ea6\u6761"})],e.prototype,"progressB",void 0),r([l({type:cc.Node,displayName:"\u7c92\u5b50\u64ad\u653e\u4f4d\u7f6e"})],e.prototype,"particleNode",void 0),r([p],e)}(cc.Component);i.default=h,cc._RF.pop()},{"./GameUtils":"GameUtils","./StarItem_Compontent":"StarItem_Compontent"}],GameUtils:[function(t,e,i){"use strict";cc._RF.push(e,"dbf9abQfhdE27o4B8GiV67/","GameUtils"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=(o.property,function(){function t(){this.expArr=[100,200,300,400,500,600,700,800,900]}return t.readLevelScores=function(){},t.saveLevelScores=function(){},t.calcClearScore=function(){},t.calcLastScore=function(){},t.poptips=function(){},t.showconfirm=function(){},t.gridSize=10,t.gridwh=72,t.levelpopNum=.6,t.userLevel=1,t.money=0,__decorate([n],t)}());i.default=r,cc._RF.pop()},{}],Game:[function(t,e){"use strict";cc._RF.push(e,"1e58fx+C2JLF44880vd5NBw","Game");var i=t("../Script/StarItem.js");cc.Class({extends:cc.Component,properties:{starPrefab:cc.Prefab,starGrid:cc.Node},onLoad:function(){var t=this;this.initStatus(),this.initGrid(),this.starGrid.on(cc.Node.EventType.TOUCH_START,function(e){var i=t.starGrid.convertToNodeSpace(e.touch.getLocation());t.touchStar(parseInt(i.x/(t.starGrid.width/10)),parseInt(i.y/(t.starGrid.height/10)))})},initStatus:function(){this.stVar={},this.stVar.selected=!1,this.totalScore=0},calcRandomNumber:function(){var t=100*Math.random();return t<=20?1:t<=40&&t>20?2:t<=60&&t>40?3:t<=80&&t>60?4:t<=100&&t>80?5:void 0},initGrid:function(){if(this.gridStarUi)for(var t=0;t<10;t++)for(var e=0;e<10;e++)this.gridStarUi[t][e]&&this.gridStarUi[t][e].destroy();for(var o=[],n=[],r=0;r<10;r++){o[r]=[],n[r]=[];for(var c=0;c<10;c++){var s=cc.instantiate(this.starPrefab),a=s.getComponent(i);s.parent=this.starGrid,a.setGridXY(r,c);var p=parseInt(5*Math.random()+1);a.setType(p),o[r][c]=p,n[r][c]=s}}this.gridData=o,this.gridStarUi=n},touchStar:function(t,e){if(this.stVar.selected)this.connectContain(t,e)?(this.cleanOnce(t,e),this.stVar.selected=!1):(this.setConnectStarSelect(!1),this.touchStar(t,e));else{if(0==this.gridData[t][e])return;this.stVar.connectStars=[[t,e]],this.checkStar(t,e),this.stVar.connectStars.length>=2&&this.setConnectStarSelect(!0)}},checkStar:function(t,e){for(var i=this.gridData[t][e],o=[[t+1,e],[t-1,e],[t,e-1],[t,e+1]],n=o.length-1;n>=0;n--){var r=o[n][0],c=o[n][1];this.inGrid(r,c)&&this.gridData[r][c]==i&&!this.connectContain(r,c)&&(this.stVar.connectStars[this.stVar.connectStars.length]=[r,c],this.checkStar(r,c))}},inGrid:function(t,e){return t>=0&&t<10&&e>=0&&e<10},setConnectStarSelect:function(t){for(var e=this.stVar.connectStars.length-1;e>=0;e--){var o=this.stVar.connectStars[e];this.gridStarUi[o[0]][o[1]].getComponent(i).setSelected(t)}this.stVar.selected=t},connectContain:function(t,e){for(var i=this.stVar.connectStars.length-1;i>=0;i--){var o=this.stVar.connectStars[i];if(o[0]==t&&o[1]==e)return!0}return!1},cleanOnce:function(){this.clearConnectStar(),this.fallDownStar(),this.fallLeftStar()},clearConnectStar:function(){for(var t=this.stVar.connectStars.length-1;t>=0;t--){var e=this.stVar.connectStars[t];this.gridData[e[0]][e[1]]=0,this.gridStarUi[e[0]][e[1]].destroy()}},fallDownStar:function(){for(var t=0;t<10;t++)for(var e=0,o=0;o<10;o++)0==this.gridData[t][o]&&e++,e>0&&this.gridData[t][o]>0&&(this.gridData[t][o-e]=this.gridData[t][o],this.gridData[t][o]=0,this.gridStarUi[t][o].getComponent(i).goTo(t,o-e,0),this.gridStarUi[t][o-e]=this.gridStarUi[t][o],this.gridStarUi[t][o]=null)},fallLeftStar:function(){for(var t=0,e=0;e<10;e++)if(0==this.gridData[e][0]&&t++,0!=this.gridData[e][0]&&0!=t)for(var o=0;o<10&&this.gridData[e][o]>0;o++)this.gridData[e-t][o]=this.gridData[e][o],this.gridData[e][o]=0,this.gridStarUi[e][o].getComponent(i).goTo(e-t,o,.1),this.gridStarUi[e-t][o]=this.gridStarUi[e][o],this.gridStarUi[e][o]=null,this.gridStarUi[e][o]=null}}),cc._RF.pop()},{"../Script/StarItem.js":"StarItem"}],HttpManager:[function(t,e,i){"use strict";cc._RF.push(e,"993fbeiq99GqIbHNJINrcD9","HttpManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.HttpManager=void 0;var o=t("./Map"),n=function(){function t(){}return t.init=function(e,i,n,r,c){void 0===i&&(i="text"),void 0===n&&(n="GET"),void 0===r&&(r=null),void 0===c&&(c=null),t._responseType=i,t._requestUrl=e,t._method=n,t._succCallback=r,t._failCallback=c,t._paramList=new o.Map},t.addParam=function(e,i){t._paramList.put(e,i)},t.send=function(e){void 0===e&&(e=null);var i=cc.loader.getXMLHttpRequest(),o=t._getParamStr();if("GET"==t._method){i.onreadystatechange=function(){if(4===i.readyState)if(i.status>=200&&i.status<300){var e=i.responseText;t.onPostComplete(e)}else t.onPostIOError()};var n=t._requestUrl;null!=o&&""!=o&&(n=n+"?"+o),i.open(t._method,n,!0),cc.sys.isNative&&i.setRequestHeader("Accept-Encoding","gzip,deflate"),i.timeout=5e3,i.send()}else"POST"==t._method&&(i.onreadystatechange=function(){if(4===i.readyState)if(i.status>=200&&i.status<300){var e=i.responseText;t.onPostComplete(e)}else t.onPostIOError()},i.open(t._method,t._requestUrl,!0),cc.sys.isNative&&i.setRequestHeader("Accept-Encoding","gzip,deflate"),i.timeout=5e3,e?(i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(e)):i.send(o));t._paramList.clear()},t.onPostComplete=function(e){t._succCallback&&t._succCallback(e)},t.onPostIOError=function(){t._failCallback&&t._failCallback()},t.onPostProgress=function(){},t._getParamStr=function(){for(var e="",i=t._paramList.getList(),o=0;o<i.length;o++)e=e+i[o].key+"="+i[o].value+"&";return e.substr(0,e.length-1)},t}();i.HttpManager=n,cc._RF.pop()},{"./Map":"Map"}],MainScene:[function(t,e,i){"use strict";cc._RF.push(e,"b99b3HydvxKtr5wrMlFInOL","MainScene"),Object.defineProperty(i,"__esModule",{value:!0});var o=t("./HttpManager"),n=cc._decorator,r=n.ccclass,c=n.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pop1=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.pop1.on(cc.Node.EventType.TOUCH_END,this.startGame,this)},e.prototype.init=function(){o.HttpManager.init("http://192.168.0.210/popstar/saveScore","text","POST",function(t){cc.log("\u6210\u529f"),cc.log(t)},function(){cc.log("\u5931\u8d25")}),o.HttpManager.addParam("userId","11122"),o.HttpManager.addParam("level","23"),o.HttpManager.addParam("score","1803"),o.HttpManager.send()},e.prototype.startGame=function(){this.pop1.runAction(cc.sequence(cc.blink(.6,6),cc.callFunc(function(){cc.director.loadScene("GameScene",function(){cc.log("GameScene\u573a\u666f\u52a0\u8f7d\u5b8c\u6210")})})))},__decorate([c({type:cc.Node,displayName:"\u7ecf\u5178\u6d88\u9664"})],e.prototype,"pop1",void 0),__decorate([r],e)}(cc.Component);i.default=s,cc._RF.pop()},{"./HttpManager":"HttpManager"}],Map:[function(t,e,i){"use strict";cc._RF.push(e,"ec86d8tU9dE9a9h5WqA13lU","Map"),Object.defineProperty(i,"__esModule",{value:!0}),i.Map=void 0;var o=function(){function t(){this._elements=null,this._elements=new Array}return t.prototype.put=function(t,e){this.contains(t)&&this.remove(t),this._elements.push({key:t,value:e})},t.prototype.get=function(t){try{for(var e=this._elements.length,i=0;i<e;i++)if(this._elements[i].key==t)return this._elements[i].value}catch(o){return console.warn(o.name+":["+t+"]\u4e0d\u5b58\u5728"),null}},t.prototype.remove=function(t){try{for(var e=this._elements.length,i=0;i<e;i++)if(this._elements[i].key==t)return this._elements.splice(i,1),!0}catch(o){return console.warn(o.name+":["+t+"]\u4e0d\u5b58\u5728"),!1}return!1},t.prototype.contains=function(t){try{for(var e=this._elements.length,i=0;i<e;i++)if(this._elements[i].key==t)return!0}catch(o){return console.warn(o.name+":["+t+"]\u4e0d\u5b58\u5728"),!1}return!1},t.prototype.getList=function(){return this._elements},t.prototype.size=function(){return this._elements.length},t.prototype.isEmpty=function(){return this._elements.length<1},t.prototype.clear=function(){this._elements=new Array},t}();i.Map=o,cc._RF.pop()},{}],MaskEventStop:[function(t,e,i){"use strict";cc._RF.push(e,"38f0emP6e1CbYqhOo2KHmco","MaskEventStop"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.event,this),this.node.on(cc.Node.EventType.TOUCH_END,this.event,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.event,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.event,this)},e.prototype.event=function(t){t.stopPropagation()},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.event,this),this.node.off(cc.Node.EventType.TOUCH_END,this.event,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.event,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.event,this)},__decorate([n],e)}(cc.Component));i.default=r,cc._RF.pop()},{}],PanelTransition:[function(t,e){"use strict";cc._RF.push(e,"038adLqVr5E0p+gZRg5C+VN","PanelTransition"),cc.Class({extends:cc.Component,properties:{duration:0},onLoad:function(){this.node.on("fade-in",this.startFadeIn,this),this.node.on("fade-out",this.startFadeOut,this)},startFadeIn:function(){cc.eventManager.pauseTarget(this.node,!0),this.node.position=new cc.Vec2(0,0),this.node.setScale(2),this.node.opacity=0,this.node.runAction(this.actionFadeIn)},startFadeOut:function(){cc.eventManager.pauseTarget(this.node,!0),this.node.runAction(this.actionFadeOut)},onFadeInFinish:function(){cc.eventManager.resumeTarget(this.node,!0)},onFadeOutFinish:function(){this.node.position=this.outOfWorld},onDestroy:function(){this.node.stopAllActions(),this.node.off("fade-in",this.startFadeIn,this),this.node.off("fade-out",this.startFadeOut,this)}}),cc._RF.pop()},{}],StarItem_Compontent:[function(t,e,i){"use strict";cc._RF.push(e,"4f27bHhwZBLc5VPUHqIZnwt","StarItem_Compontent");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,i,c):n(e,i))||c);return r>3&&c&&Object.defineProperty(e,i,c),c};Object.defineProperty(i,"__esModule",{value:!0});var c=t("./GameUtils"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blue=null,e.yellow=null,e.green=null,e.red=null,e.purple=null,e}return n(e,t),e.prototype.onLoad=function(){this.initAnim(),this.node.setScale(1),this.len=c.default.gridSize/2,this.gridlen=c.default.gridwh},e.prototype.initAnim=function(){this.node.x,this.node.y;var t=cc.scaleTo(.3,1.2),e=cc.scaleTo(.3,1);this.node.runAction(cc.sequence(t,e))},e.prototype.setSelected=function(t){t?this.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,.9),cc.scaleTo(.5,1)))):(this.node.stopAllActions(),this.node.setScale(1))},e.prototype.setGridXY=function(t,e){this.gridX=t,this.gridY=e,this.node.setPosition((t-this.len)*this.gridlen+this.gridlen/2,(e-this.len)*this.gridlen+this.gridlen/2)},e.prototype.setType=function(t){var e;switch(t){case 1:e=this.blue;break;case 2:e=this.yellow;break;case 3:e=this.green;break;case 4:e=this.red;break;case 5:e=this.purple}this.getComponent(cc.Sprite).spriteFrame=e,this.type=t},e.prototype.setLabel=function(){},e.prototype.getType=function(){return this.type},e.prototype.goTo=function(t,e,i){this.gridX=t,this.gridY=e,this.node.runAction(cc.sequence(cc.delayTime(i),cc.moveTo(.1,new cc.Vec2((t-this.len)*this.gridlen+this.gridlen/2,(e-this.len)*this.gridlen+this.gridlen/2))))},r([p({type:cc.SpriteFrame,displayName:"\u84dd\u8272"})],e.prototype,"blue",void 0),r([p({type:cc.SpriteFrame,displayName:"\u9ec4\u8272"})],e.prototype,"yellow",void 0),r([p({type:cc.SpriteFrame,displayName:"\u7eff\u8272"})],e.prototype,"green",void 0),r([p({type:cc.SpriteFrame,displayName:"\u7ea2\u8272"})],e.prototype,"red",void 0),r([p({type:cc.SpriteFrame,displayName:"\u7d2b\u8272"})],e.prototype,"purple",void 0),r([a],e)}(cc.Component);i.default=l,cc._RF.pop()},{"./GameUtils":"GameUtils"}],StarItem:[function(t,e){"use strict";cc._RF.push(e,"4b0e3G2pJtN843b4+i8gsGa","StarItem"),cc.Class({extends:cc.Component,properties:{pic1:cc.SpriteFrame,pic2:cc.SpriteFrame,pic3:cc.SpriteFrame,pic4:cc.SpriteFrame,pic5:cc.SpriteFrame},onLoad:function(){this.node.setScale(1.17)},setType:function(t){this.starType=t,this.getComponent(cc.Sprite).spriteFrame=this["pic"+t]},setGridXY:function(t,e){this.gridX=t,this.gridY=e,this.node.setPosition(75*(t-5)+37.5,75*(e-5)+37.5)},goTo:function(t,e,i){this.gridX=t,this.gridY=e,this.node.runAction(cc.sequence(cc.delayTime(i),cc.moveTo(.1,new cc.Vec2(75*(t-5)+37.5,75*(e-5)+37.5))))},setSelected:function(t){t?this.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,1),cc.scaleTo(.3,1.17)))):(this.node.stopAllActions(),this.node.setScale(1.17))}}),cc._RF.pop()},{}],"use_v2.0.x_cc.Toggle_event":[function(t,e){"use strict";cc._RF.push(e,"99366b8nNBFw40WCLiMrp1C","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}],usermodel:[function(t,e,i){"use strict";cc._RF.push(e,"43d28vl19tHfrLd6udQ3SDD","usermodel"),Object.defineProperty(i,"__esModule",{value:!0});i.default=function(){this.score=0,this.star=0,this.level=0},cc._RF.pop()},{}]},{},["Game","GameController","GameScene","GameUtils","HttpManager","MainScene","Map","StarItem","StarItem_Compontent","ButtonScaler","MaskEventStop","PanelTransition","usermodel","use_v2.0.x_cc.Toggle_event"]);